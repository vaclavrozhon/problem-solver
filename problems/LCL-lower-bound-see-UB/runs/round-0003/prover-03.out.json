{
  "progress_md": "Status and aim\n- Objective: push the NEXPTIME-hardness reduction (Succinct 3-Coloring \u2192 Feasible-Function Existence (F1)) to a checkable state by pinning down two core gadgets with radius-1 rules and polynomial alphabet: (i) per-bit boundary probes that separate 2^B vertex types, and (ii) a seam tableau that computes D(u,v) and enforces color inequality on edges. Also enforce \u201cmust-color\u201d only on canonical vertex contexts and neutralize (F2) via \u22a5-filling.\n- Output.md: no correctness issues spotted for the upper bound (types, DP, finite-Z). Clarification already noted there (\u201cfixed inputs\u201d interpretation) is consistent with what we use below. The NEXPTIME verifier section is still informal; we supply precise, testable lemmas and constraints to move pieces into output.md.\n\nLemma TS (Per-bit probe type separation; radius-1, \u03b2=poly(s))\n- Parameters: B = s^{c0}, \u03b2 = s^{c1} with c1 > c0 so \u03b2 \u2265 B and there is headroom for O(B) reserved symbols.\n- Canonical left vertex block L(u): a fixed-format segment W_L(u) adjacent to S with the following O(B)-length subzones (roles enforced by Cout\u2013out phases):\n  1) HEAD_C: a short header whose out-track copies (via Cin\u2013out) a fixed binary description enc(C) of the succinct adjacency circuit. Any deviation allows an error-chain in non-probe contexts, but see \u201cProbe discipline\u201d below.\n  2) PORT: B consecutive cells immediately to the right of S. Each PORT cell carries two output subtracks: Addr \u2208 {1,\u2026,B} and RidBit \u2208 {0,1}. Local Cout\u2013out rules require Addr to increase by 1 from left to right, starting at 1 and ending at B, and RidBit to equal the input bit (Cin\u2013out tie) at that node under role=PORT. The vector (RidBit[1..B]) encodes u.\n  3) RUN_L: a fixed-width corridor (constant tracks) that hosts a row-by-row 1D tableau for U; unused in the probe; used later by the seam gadget.\n- Reserved boundary-output family: Define B distinct boundary-output 4-tuples {Q_j : j\u2208[B]}. Implementationally, allocate four disjoint reserved symbol families in \u03a3_out: for the four boundary nodes of L(u), allow only the 4-tuple (ProbeL1(j), ProbeL2(j), ProbeR2(j), ProbeR1(j)) when \u201cprobing j\u201d. The set {Probe\u2022(j)} across all j uses O(B) distinct symbols, feasible as \u03b2 \u2265 B and we have ample slack for other tracks.\n- Pointer and acceptance (radius-1): Under boundary inputs fixed to a\u22c6 (choose any constant 4-tuple; e.g., all zeros) and boundary outputs Q_j, Cout\u2013out enforces a deterministic, unique continuation into a \u201cprobe mode\u201d: a finite-state pointer head propagates rightward from the left boundary through PORT, matching successive Addr values and halting exactly when Addr=j. The only legal continuation at that cell is to accept iff RidBit=1; if RidBit=0 then the probe path dead-ends (no completion). No alternative transitions (e.g., error-chain) are permitted while \u201cprobe mode\u201d is active (see probe discipline below). Outside reserved probes, normal error-chains exist so malformed interiors never constrain f.\n- Probe discipline (no error-escape): Cout\u2013out tags each transition in a binary \u201cmode\u201d track. When Q_j is present, the mode is forced to PROBE in a bounded prefix of W_L(u) and error symbols are disallowed in PROBE mode; the only legal edges follow the deterministic pointer/run described above. If any local check fails (role/phase, Addr monotonicity, reaching j, or RidBit), no outgoing pair is allowed \u21d2 the DP rejects that boundary 4-tuple.\n- Claim (Type-Separation): For any u\u2208{0,1}^B and any j\u2208[B], E_{Type(L(u))}(a\u22c6)[Q_j] = 1 iff u_j=1. Hence the B-bit vector (E(a\u22c6)[Q_j])_{j=1..B} equals u. In particular, u\u2260u\u2032 \u21d2 Type(L(u))\u2260Type(L(u\u2032)).\n  Why: Under Q_j the continuation is unique; extendibility equals the truth of RidBit[j]=1 in the PORT zone. Because E_w(a) is defined with interior inputs fixed (as in output.md), this bit is a property of the concrete L(u) and thus of its type. Since at least one probe outcome differs when u\u2260u\u2032, the types differ. Radius-1 holds (only nearest-neighbor checks); \u03a3_out budget is O(B) for Addr values, O(B) for reserved Q_j symbols, plus O(1) for roles, phases, \u22a5, colors, errors, U\u2019s alphabet \u21d2 \u03b2 = poly(s) suffices.\n\nLemma RG (Role gating and must-color for canonical contexts)\n- Gating: Two special role markers are allowed at S\u2019s two nodes: Color and \u22a5. Cout\u2013out permits Color tokens {RED, GRN, BLU} at S iff and only if the adjacent interior begins with a well-formed canonical vertex header: HEAD_C followed immediately by the PORT zone (left side for L(\u00b7), right side for R(\u00b7)). Otherwise (inactive contexts), Color at S has no legal continuation (dead); \u22a5 at S always has a legal continuation via neutral plumbing (a self-looping \u22a5 language as in the upper bound DP).\n- Must-color on active pairs: On a bridge instance between an active left L(u) and an active right R(v) (see next lemma), the seam accepts only if both S nodes carry Color (non-\u22a5). Thus any feasible f must assign a color to each canonical vertex type; assigning \u22a5 would falsify (F1) on its pairings with some active opposite.\n- Consequence: f is only free to color canonical types; any attempt to color an inactive type causes (F1) to fail on some pair (inactive, anything) because Color-at-S would be unextendible on the inactive side. Therefore f must map all inactive types to \u22a5.\n\nLemma SG (Seam tableau for succinct adjacency and inequality)\n- Canonical right vertex block R(v): symmetric to L(u), with its PORT zone immediately to the left of S; it exposes Addr and RidBit tracks encoding v.\n- Seam layout: In the bridge wb\u2218wc between L(u)\u2019s right side and R(v)\u2019s left side, Cout\u2013out allocates a fixed-width corridor RUN_B that hosts a row-by-row simulation of a universal TM U on input (enc(C), u, v). The input (enc(C)) is present in both HEAD_C zones, and u,v are read from the PORT zones (local wiring at the near seam). Each row transition is enforced by nearest-neighbor Cout\u2013out constraints; malformed rows cannot continue (no error-escape inside RUN_B). The final row writes EDGE \u2208 {0,1} at a fixed seam-local cell.\n- Acceptance policy at S (radius-1): Local rules enforce: (i) if EDGE=0, accept regardless of colors at S; (ii) if EDGE=1, accept iff the two S colors differ; (iii) on an active-active pair, \u22a5 is not permitted (must-color). All checks refer only to the two S outputs and the nearby EDGE bit.\n- Robustness: If either side is inactive or malformed (HEAD_C absent, corrupted PORT), the only allowed S symbol is \u22a5 and a neutral \u22a5-plumbing fills both sides, ensuring these contexts never constrain f (consistent with Lemma RG).\n- Correctness: On active-active pairs, the tableau computes D(u,v) in poly(s) time and exposes EDGE correctly; the final local check enforces exactly the 3-coloring constraint \u201ccolors must differ on edges and arbitrary on non-edges\u201d.\n\nCanonicality and existence of active types\n- Canonical shapes: Define L(u)=W_L(u) S F_R and R(v)=F_L S W_R(v) with W_L, W_R as above and fixed fillers F_L, F_R (PAD-roles). Cout\u2013out recognizes only these shapes as vertex roles (for gating). Any other context is inactive (no Color at S).\n- Existence via pumping/replacement: HEAD_C+PORT+RUN zones have length poly(s) \u226a \u2113_pump = 2^{\u0398(\u03b2^4)}. By Lemma 11 (replacement) and Lemmas 14\u201315 (pumping), we can place W_L(u) adjacent to S inside words of length \u2113_pump or \u2113_pump+1 on the designated side, preserving the type of W_L(u); ditto for W_R(v). Thus the context set C contains, for each u (resp. v), at least one canonical left (resp. right) type, and Lemma TS gives at least 2^B distinct left-types and 2^B distinct right-types.\n\nSoundness/completeness of the reduction (sketch tightened)\n- Completeness (\u21d2): Given a proper 3-coloring \u03c7: {0,1}^B \u2192 {RED,GRN,BLU} of the succinct graph defined by C, define f on canonical types by f(Type(L(u)))=\u03c7(u) and f(Type(R(v)))=\u03c7(v); set f(\u03c4)=\u22a5 on all inactive types. By Lemma SG, every active-active (F1) pair accepts iff \u03c7(u)\u2260\u03c7(v) when D(u,v)=1 and always if D(u,v)=0. All other pairings accept via \u22a5-plumbing. Hence (F1) holds.\n- Soundness (\u21d0): If some f satisfies (F1), Lemma RG forces f to assign colors to canonical vertex types and \u22a5 to all inactive types. Read \u03c7(u):= f(Type(L(u))). For any edge (u,v) with D(u,v)=1, the seam between Type(L(u)) and Type(R(v)) must be extendible; by Lemma SG this implies \u03c7(u)\u2260\u03c7(v). Non-edges impose no restriction. Thus \u03c7 is a proper 3-coloring.\n\nNeutralizing (F2)\n- Add a global \u22a5-filler language: For any repetition w_1^z and w_2^z (z\u22651), Cout\u2013out admits labeling all repeated sides with \u22a5 regardless of boundary outputs, without touching S or the vertex-role gating. Then (F2) holds for any f, reducing the three-way classifier to deciding (F1)-feasibility on our instances (NEXPTIME-hard).\n\nAlphabet/size and radius bookkeeping\n- \u03a3_out tracks (all merged into symbols): roles/phases O(1); colors+\u22a5 (4); error alphabet O(1); U\u2019s row alphabet O(1); Addr values {1,\u2026,B} (O(B)); reserved probe symbols for Q_j (O(B)); a few pointer states O(1). Total |\u03a3_out| = \u03b2 = poly(s). All constraints are radius-1 (depend on current and predecessor outputs only).\n\nSanity example (B=2)\n- Reserve Q_1, Q_2 for the left boundary. L(00), L(01), L(10), L(11) yield extendibility vectors (E(a\u22c6)[Q_1], E(a\u22c6)[Q_2]) equal to (0,0), (1,0), (0,1), (1,1) respectively. On the seam, with C encoding a 4-cycle, the tableau sets EDGE=1 exactly on adjacency pairs; the local check enforces color inequality on those.\n\nObstacles and how addressed (verifier feedback alignment)\n- \u201cSingle fixed probe\u201d issue: we use a family {Q_j} indexed by boundary outputs; acceptance depends on interior u via the deterministic pointer (no dependence on a globally fixed j). Addresses or O(B)-many probe symbols ensure radius-1 feasibility without exponential symbol blowup.\n- Consistency on same u: avoided by canonical gating. Only L(u), R(v) allow colors; mapping any other type to a color breaks (F1). Thus each u is represented by exactly one colorable type per side.\n- Error-escape under probes: disallowed by a probe-mode bit; in probe mode, error-chain symbols are not permitted in Cout\u2013out\u2019s allowed neighbor pairs.\n\nNext steps (concrete, verifiable)\n1) Write explicit local rule snippets for the probe gadget:\n   - The four reserved boundary symbols and their immediate successors in \u201cprobe mode\u201d.\n   - PORT zone neighbor pairs enforcing Addr increment and RidBit copy.\n   - Pointer transitions and the accept/dead-end at Addr=j with RidBit test.\n   Provide a small B=2 instance and brute-force the DP to observe E(a\u22c6)[Q_j] = u_j.\n2) Formalize Lemma RG: list Cout\u2013out pairs that allow Color at S only next to HEAD_C+PORT; add dead-end rules otherwise; add the \u22a5 self-loop plumbing.\n3) Specify RUN_B alphabet and row transitions for U; define EDGE emission and the local color-inequality check at S. Verify on a toy circuit D by DP.\n4) Package the reduction D \u21a6 P_D with precise \u03b2 sizing and radius-1 constraints; add the \u22a5-filler rules. Then move Lemmas TS, RG, SG and the reduction theorem into output.md.\n\nWhy useful here\n- The per-bit probe family and probe discipline directly resolve the main gaps flagged by the verifier: we now separate 2^B types without per-type tailoring, and we prevent error-escape in reserved probes. The role-gating and must-color rules ensure f assigns colors only to canonical vertex types, avoiding consistency pitfalls. The seam tableau matches (F1)\u2019s pairwise nature. All components are radius-1 and compatible with the O(k\u03b2^2) DP for audit.\n"
}