--- SYSTEM ---
You are a strict mathematical verifier & research manager.

You are being run in a loop with provers. Your tasks:
- Audit their ideas for correctness and rigor.
- Curate files (notes.md and output.md).
- Suggest the next steps.

Inputs: 
- task statement
- outputs of provers
- notes.md (summary so far)
- output.md (rigorously proven results so far)

Guidelines:
- notes.md: should be a readable running log of interesting work. Prefer appending. Replace only if old notes are clearly misleading. Remember -- notes should be self-contained and should make sense even without seeing outputs of past provers. 
- output.md:  Think twice before you add something to this file. Everything here should be rigorous, almost publication-ready. It should contain only fully proven theorems that are clearly an interesting step towards the solution (or the solution itself). The beginning of the file is a clear list of interesting theorems you can prove, together with a discussion about why it is relevant. From the statement of the theorem it has to be clear that this constitutes nontrivial progress towards solution. The rest of the file contains a fully rigorous list of the proofs of the theorems. Keep only proven theorems with clear proofs. If a statement in that file is flawed / unprecise and you cannot fix it on the spot, remove it from output.md and instead add it to notes.md with explanation.
- Be careful with the booleans `new_notes_append` and `new_outputs_append`: default is True (append). Use False only when deliberately rewriting everything.

Tasks:
1) Audit rigor: identify unjustified steps, false statements, missing lemmas; produce minimal counterexamples.
2) Triage value: separate genuine progress from noise.
3) Guide next steps: propose what provers should try next.

**Return strictly JSON**:
{
  "feedback_md": "Detailed critique of prover outputs (â‰¥200 words). Include concrete next-step suggestions. The next round of provers may not see last round outputs; ensure all valuable info is stored in notes.",
  "new_notes_md": "Markdown (KaTeX allowed). Usually appended to notes.",
  "new_notes_append": "True|False",
  "new_outputs_md": "Markdown (KaTeX allowed). Usually appended to output.md.",
  "new_outputs_append": "True|False",
  "verdict": "success|partial success|nothing so far"
}

**Verdict definitions**:
- **success**: Something that one could publish, even if it is not the full solution (e.g., significant theorem, key lemma, novel technique, partial solution with clear path forward)
- **partial success**: Something worthy enough to write into output.md (e.g., correct but preliminary results, useful technical lemmas, validated approaches that advance understanding)
- **nothing so far**: No meaningful mathematical progress or only exploratory work


--- USER ---
You receive multiple prover reports. Evaluate correctness, value, and pick promising directions. Update notes.md (append/replace) with useful ideas and update output.md (append/replace) ONLY with rigorously verified results.

Prover reports (JSON):
[{"prover_id": "01", "progress_md": "Round 0004 \u2014 tightening gadgets to a DP-checkable spec (radius 1, \u03b2-normalized)\n\nContext and goal\n- We continue the NEXPTIME-hardness reduction from Succinct 3-Coloring to Feasible-Function Existence (F1) for \u03b2-normalized, radius-1 LCLs on oriented paths. The key deliverables now are (i) explicit, radius-1 local rules for a per-bit boundary probe that separates 2^B canonical left/right vertex types; (ii) explicit per-side color gating and mixed-pair acceptance; (iii) a seam tableau interface with local inequality/equality checks; (iv) concrete alphabet counting compatible with \u03b2 = poly(s); and (v) a B=2 sanity instance blueprint.\n\nMinor gaps noted in output.md (no edits made)\n- Types vs fixed interior inputs. Definitions allow both \u201cinterior inputs arbitrary\u201d and \u201cfixed by the instance\u201d; the hardness uses the latter. It would help to emphasize that Type(w) is computed w.r.t. the fixed interior input string of w.\n- Context set size. When later we use contexts realized by w_1 S w_2 with |w_i| \u2208 {\u2113_pump, \u2113_pump+1}, it would be useful to remark explicitly that |C| \u2264 |T| = \u2113_pump.\n\nA. Explicit probe gadget (Type-Separation Lemma, radius-1, DP-checkable)\nParameters and layout\n- B = s^{c0}. Fix \u03b2 = s^{c1} with c1 \u2265 2c0 to give O(B^2) room in the adjacency table (C_out\u2013out), while keeping |\u03a3_out| = \u03b2 = poly(s).\n- Canonical left block W_L(u) adjacent to S (right of S) contains, in order: HEAD_C (constant size), a Corridor prefix (constant size), and the PORT zone of length B, followed by neutral PAD. PORT cell t (1 \u2264 t \u2264 B) statically carries Addr=t and RidBit=u_t on its output symbol; Cin\u2013out ties RidBit to the input bit at that node.\n- Reserved boundary-output 4-tuples {Q_j: j \u2208 [B]}. Q_j means: at the two leftmost boundary nodes put tokens BL1_j, BL2_j; at the two rightmost boundary nodes tokens BR2_j, BR1_j (these four come from disjoint reserved subalphabets). Under any other 4-tuple we are in \u201cnon-probe\u201d mode.\n- Probe corridor states: For each j \u2208 [B], we have Head_j and Accept_j. In non-probe mode these symbols are not permitted anywhere. In probe mode (only if Q_j is used), they are the only non-PAD symbols allowed before the PORT zone; ERR/\u22a5 are explicitly forbidden adjacent to any Head_j/Accept_j.\n\nAllowed C_out\u2013out pairs (schema; all others are disallowed)\n- Probe start at boundary:\n  \u2022 (BL1_j, BL2_j) and (BL2_j, Head_j). This forces the first interior cell after the second boundary node to be Head_j when Q_j is used.\n- Corridor propagation up to PORT[1]:\n  \u2022 Head_j must continue deterministically: (Head_j, Head_j) on each corridor edge until the first PORT cell. No other successor is permitted from Head_j (disables ERR/\u22a5 escape).\n- Entering the PORT zone (key test). Let Port(k,b) denote the output symbol of the k-th PORT cell when \u201cprobe-active\u201d; we use a distinct \u201cprobe variant\u201d for PORT cells (Port^P) so the grammar can react to probe mode without interfering with the non-probe alphabet.\n  \u2022 From the corridor into Port^P(k,b): allow (Head_j, Port^P(k,b)) for all j,k and b\u2208{0,1}.\n  \u2022 From Port^P(k,b) to the next interior cell:\n    - If k \u2260 j: require continuation of the probe head: (Port^P(k,b), Head_j). (For all pairs (j,k) with k\u2260j; total O(B^2) entries.)\n    - If k = j and b = 1: allow termination: (Port^P(j,1), Accept_j).\n    - If k = j and b = 0: no outgoing pair is allowed (this creates a dead end, rejecting the boundary assignment Q_j).\n- Accept sink and padding:\n  \u2022 (Accept_j, PAD) and then PAD self-loops (neutral plumbing) to the end of the block. No ERR near Accept_j is permitted.\n- Non-probe discipline:\n  \u2022 If the boundary outputs are not Q_j, then Head_j and Accept_j are not allowed anywhere; the PORT cells use their non-probe variants Port^I(k,b) with standard PAD plumbing. All error-chain symbols are available in non-probe mode (as in the reference), ensuring malformed interiors never constrain f.\n\nClaim TS (Type-Separation). Fix a boundary-input 4-tuple a\u22c6. For any canonical W_L(u), under boundary outputs Q_j we have E_{W_L(u)}(a\u22c6)[Q_j] = 1 if and only if u_j = 1. Hence the bit-vector (E(a\u22c6)[Q_j])_{j=1..B} equals u, which separates 2^B distinct left-context types; symmetric right-contexts are constructed analogously.\n- Why: Under Q_j the only legal continuation from BL2_j is Head_j (unique path). Head_j must propagate to Port^P(1, u_1), then to Head_j, then Port^P(2, u_2), etc. When it reaches Port^P(j, u_j), it has an outgoing edge only if u_j=1 (Accept_j). Thus extendibility equals u_j.\n- Radius-1 and budgeting: All checks are nearest-neighbor pairs. Alphabet uses O(B) symbols for {Head_j, Accept_j} and O(B) probe variants of PORT; the O(B^2) combinatorics appears only in the adjacency table (pairs (Head_j, Port^P(k,\u00b7)) and (Port^P(k,\u00b7), Head_j)), which is acceptable since C_out\u2013out has \u03b2^2 entries and \u03b2 = s^{c1} with c1 \u2265 2c0.\n- No error escape: Head_j and Accept_j have no allowed neighbors other than those listed; in particular there are no pairs with ERR or \u22a5 adjacent to Head_j/Accept_j, so reserved probes are deterministic.\n\nB. Per-side color gating and mixed pairs\nSymbols near S (two nodes S1 and S2): SColor \u2208 {R,G,B,\u22a5} is the only choice f makes at S nodes. All handshake bits are attached to interior neighbors, not to S.\n- Gate tokens on the interiors: The immediate neighbor on the left side of S is either GateL (present only in canonical W_L(u) at a fixed offset) or \u00acGateL (any other symbol). Symmetrically, the immediate neighbor on the right side of S is GateR in canonical W_R(v) or \u00acGateR otherwise. These are enforced by the constant-size grammar of HEAD/PORT/PAD adjacent to S.\n- Per-side gating (local, radius-1):\n  \u2022 If the neighbor is \u00acGateL (resp. \u00acGateR), then only \u22a5 is allowed at S on that side; any non-\u22a5 color at S has no legal neighbor pair and dead-ends.\n  \u2022 If the neighbor is GateL (resp. GateR), then S may be labeled R,G,B or \u22a5.\n- Seam activation and must-color:\n  \u2022 The bridge wb\u2218wc is \u201cactive\u201d only if both sides are canonical, i.e., the two interior neighbors are GateL and GateR and both S nodes are non-\u22a5. This is encoded by allowing a special ActiveBridgeStart symbol adjacent to S only under the pairs (GateL, S\u2208{R,G,B}) and (S\u2208{R,G,B}, GateR) simultaneously. When ActiveBridgeStart appears on both sides, the interior between S1 and S2 must be labeled by the RUN_B corridor (see \u00a7C). In this active-active case, \u22a5 at either S is forbidden (no pair with ActiveBridgeStart), implementing \u201cmust color\u201d only when both sides are canonical.\n  \u2022 Mixed pairs (exactly one side canonical): No ActiveBridgeStart is produced (since one side fails the gate), so RUN_B is not enabled. The interior wb\u2218wc is filled by neutral PAD and accepts unconditionally. This ensures that mapping inactive types to \u22a5 and coloring canonical types does not produce (F1) violations on mixed pairs.\n  \u2022 Inactive pairs (neither side canonical): Both S nodes must be \u22a5; PAD fills the bridge; accept.\n\nC. Seam tableau and local acceptance (EDGE and Eq)\nCorridor and inputs\n- In the active-active case, between S1 and S2 we lay a fixed-width RUN_B corridor that statically encodes a row-by-row tableau of a fixed universal machine U. U runs in poly(s) steps to compute:\n  \u2022 EDGE := D(u,v) \u2208 {0,1} and Eq := [u=v] \u2208 {0,1}, reading u and v from the two PORT zones adjacent to S (u from W_L(u) and v from W_R(v)). As is standard, the row transitions of U are enforced by local C_out\u2013out pairs across row separators; malformed rows have no accepting continuation and cannot appear in the active mode (ERR is disabled adjacent to RUN_B states).\n  \u2022 Forwarding of S1Color: The first corridor cell to the right of S1 captures the color at S1; this \u201cforwarded color\u201d is then carried unchanged (checked by nearest-neighbor equalities) to a designated verdict cell V next to S2.\nVerdict cell and local gate (radius-1)\n- The verdict cell V (the immediate right neighbor of S2) carries a symbol Ver(EDGE, Eq, FwdColor) in a constant-size set (there are 2\u00d72\u00d73 \u2264 12 possibilities). The only allowed pairs between S2 and V enforce:\n  \u2022 If EDGE=1, then Color(S2) \u2260 FwdColor.\n  \u2022 If Eq=1, then Color(S2) = FwdColor.\n  \u2022 If EDGE=0 and Eq=0, allow all 3\u00d73 color pairs.\n- This implements \u201caccept iff (EDGE=0 or colors differ) and (Eq=0 or colors equal)\u201d purely locally between S2 and its neighbor V. Note ERR is forbidden adjacent to RUN_B states and V in active mode.\n- Graphs without loops: To avoid contradictory (EDGE=1 and Eq=1) on diagonals, we assume D(u,u)=0; if needed, pre-process the succinct circuit to zero the diagonal (standard and w.l.o.g. for 3-colorability).\n\nD. Budget and radius bookkeeping (explicit)\n- Disjoint-role alphabets: We partition \u03a3_out into disjoint subalphabets per role/phase (HEAD/PORT/PAD/ERR/PROBE/RUN_B/S, etc.), so sizes add rather than multiply.\n- Symbol counts (dominant terms):\n  \u2022 PORT symbols: O(B) (Port^I(k,b) in idle mode and Port^P(k,b) in probe mode; constant factor 2\u00d72 per k).\n  \u2022 Probe heads: O(B) symbols {Head_j, Accept_j}.\n  \u2022 Boundary tokens for Q_j: O(B) (the four boundary positions use disjoint constant-size families per j; total O(B)).\n  \u2022 RUN_B and HEAD/PAD/ERR: O(1) each (fixed universal TM alphabet and error-chain tokens as in the reference).\n  \u2022 S colors: {R,G,B,\u22a5} (4 symbols restricted to the two S positions by role).\n- Adjacency table size: The probe needs O(B^2) distinct allowed pairs ((Head_j, Port^P(k,\u00b7)) and (Port^P(k,\u00b7), Head_j)), which fits within the \u03b2\u00d7\u03b2 table since \u03b2 = s^{c1} with c1 \u2265 2c0; the rest are O(\u03b2) pairs per role. All interactions are radius-1.\n\nE. B=2 sanity instance blueprint (DP-ready)\n- Fix B=2. Port^I(k,b), Port^P(k,b) for k\u2208{1,2}, b\u2208{0,1}. Head_1, Head_2, Accept_1, Accept_2. Q_1 and Q_2 families each with four boundary tokens. S colors {R,G,B,\u22a5}. GateL/GateR. RUN_B row alphabet (constant-size), and verdict states Ver(e,q,c) with e,q\u2208{0,1}, c\u2208{R,G,B}.\n- Probe rules instantiate the schema:\n  \u2022 (BL1_1, BL2_1), (BL2_1, Head_1), Head_1 propagations, (Head_1, Port^P(1,b)), (Port^P(1,1), Accept_1), (Port^P(1,0), \u00b7) has no successor, (Head_1, Port^P(2,b)), (Port^P(2,b), Head_1).\n  \u2022 Similarly for j=2 with indices swapped.\n- Canonical W_L(u) with u\u2208{00,01,10,11}: PORT^I(1,u_1), PORT^I(2,u_2) adjacent to S, with HEAD_C before them. The DP on the 4-node boundary assigns Q_1 or Q_2 and checks that E[Q_1]=u_1, E[Q_2]=u_2.\n- Seam: For a toy D (say, the 4-cycle on {00,01,10,11}), RUN_B emits Ver(EDGE,Eq,FwdColor), and the S2\u2013Ver adjacency forbids equal colors iff EDGE=1 and requires equality if Eq=1. Mixed pairs accept via PAD.\n\nF. Soundness/completeness checks (sketch, unchanged in spirit)\n- Completeness: Given a 3-coloring \u03c7 of the succinct graph, set f(\u03c4^L_u)=\u03c7(u), f(\u03c4^R_v)=\u03c7(v), f(others)=\u22a5. Active-active pairs accept because RUN_B computes EDGE and Eq correctly and the local gate enforces \u03c7(u)\u2260\u03c7(v) when EDGE=1 and \u03c7(u)=\u03c7(v) when Eq=1; mixed/inactive pairs accept via PAD and gating.\n- Soundness: Any feasible f must map non-canonical types to \u22a5 and assign colors to canonical types (by gating/must-color). Then \u03c7(u):=f(\u03c4^L_u) is well-defined (Eq-gate across (L(u),R(u)) forces consistency), and for any edge D(u,v)=1, the (L(u),R(v)) pair is extendible only if colors differ, so \u03c7 is a proper 3-coloring.\n\nG. Outstanding items and why they matter\n- Existence/normalization of canonical contexts at lengths \u2113_pump or \u2113_pump+1: We continue to rely on pumping/replacement (Lemmas 10\u201312, 14\u201315 from the reference) to ensure that HEAD_C+PORT+PAD blocks occur adjacent to S at the required lengths. Alternatively, we could present an explicit \u201ctwo-length padding\u201d construction; until then, keep this as an assumption tied to the standard lemmas.\n- DP regression (B=2): Assemble a machine-readable instance listing Cin\u2013out and Cout\u2013out per the schemas above; verify by the O(k\u03b2^2) DP (i) probe separation; (ii) seam acceptance behavior on all 16 ordered pairs (L(u),R(v)).\n\nWhy this round is substantive progress\n- We turned the probe and seam gadgets into explicit radius-1 adjacency schemas that the verifier can implement and test: (i) deterministic per-bit probe with no error escape and extendibility exactly u_j; (ii) per-side gating with mixed pairs accepting unconditionally; (iii) active seam with local EDGE/Eq gate adjacent to S2. Budgeting and radius-1 checks are laid out; the B=2 instance is specified concretely enough to build the DP.\n\nNext steps (auditable deliverables)\n1) Produce the explicit C_out\u2013out table fragment (parameterized by B) for the probe schema: list all (Head_j, Port^P(k,b)) and (Port^P(k,b), Head_j) pairs, the start/accept edges, and the disallowed ERR/\u22a5 adjacencies in probe mode. Provide the Cin\u2013out rule tying Port(k,b).RidBit to \u03a3_in.\n2) Formalize the GateL/GateR placement around S (constant-size patterns) and the exact pairs that enable ActiveBridgeStart only when both sides are canonical and S colors are non-\u22a5.\n3) Fix the RUN_B row alphabet and transitions for a concrete U; specify the verdict cell placement and the allowed/forbidden S2\u2013Ver pairs for all (EDGE,Eq,FwdColor) and S2 colors.\n4) Build and share the B=2 tables and a small D (4-cycle) for the verifier\u2019s DP harness; check probe separation and seam behavior thoroughly.\n5) (Optional) Add a short proof of the replacement/padding lemma specialized to r=1 into output.md so canonical contexts at lengths \u2113_pump or \u2113_pump+1 are guaranteed without appealing externally.\n"}, {"prover_id": "02", "progress_md": "Status and plan\n- Objective: make the hardness reduction auditable by giving concrete, radius-1 rule schemas for (i) per-bit boundary probes that separate 2^B vertex indices; (ii) per-side color gating and \u201cactive/semi-active\u201d seam activation; (iii) a seam gadget that enforces EDGE and Eq with purely local checks, while permitting unconditional acceptance on mixed pairs. We also pin down a small but sufficient symbol budget and a B=2 sanity test template. These address the verifier\u2019s items (1)\u2013(8).\n\nExplicit rule schemas (radius 1) \u2014 ready to DP-check on small B\nA. Per-bit boundary probes (Type-Separation TS)\n- Fixed inputs for separation: pick an arbitrary 4-tuple a\u22c6 \u2208 \u03a3_in^4 (e.g., all zeros). All extendibility bits we use for type separation are E_{w}(a\u22c6)[\u00b7].\n- Tracks encoded in \u03a3_out (conceptual fields; realized as a finite product alphabet):\n  1) Role \u2208 {HEAD, PORT, PAD, PROBE, ERR, \u2026}, Phase \u2208 {0,\u2026,c\u22121} for a small constant c.\n  2) Addr \u2208 {\u22a5,1,\u2026,B}. Present only when Role=PORT. Local neighbor rule enforces Addr increases by +1 left\u2192right across a contiguous PORT zone, starting at 1 and ending at B.\n  3) RIDbit \u2208 {0,1}. Cin\u2013out ties RIDbit to \u03a3_in at nodes with Role=PORT, and otherwise ignores RIDbit (free) unless constrained by Role.\n  4) ProbeHead \u2208 {None} \u222a {Start_j, Move_j, Test_j, Accept_j : j\u2208[B]}. Distinct j are distinct symbols.\n  5) Error/plumbing symbols ERR_\u2022 and \u22a5 are available globally but will be disabled near ProbeHead\u2260None during probes.\n- Reserved boundary outputs: define Q_j as the unique 4-tuple of boundary output symbols that set ProbeHead=Start_j at the first interior position (and fix harmless padding on the boundary nodes themselves). Different j use distinct Start_j.\n- Allowed Cout\u2013out neighbor pairs (parametric by j):\n  R1. Start_j \u2192 Move_j (the right neighbor carries Move_j; left neighbor is the boundary symbol). No other successor out of Start_j.\n  R2. Move_j may advance only over the pre-laid PROBE corridor and PORT: (Move_j at i, y_{i+1}) is legal iff y_{i+1}.ProbeHead \u2208 {Move_j, Test_j} and either (i) y_{i+1}.Role=PORT with Addr incrementing correctly; or (ii) y_{i+1}.Role \u2208 {PROBE,PAD} as part of a fixed, finite corridor skeleton that leads into the PORT zone. No ERR or \u22a5 adjacent to any Move_j/Test_j (omit such pairs).\n  R3. Move_j \u2192 Test_j only when y_{i+1}.Role=PORT and y_{i+1}.Addr=j.\n  R4. Test_j \u2192 Accept_j only if y_{i+1}.RIDbit=1 (Cin\u2013out has already tied this bit to the input at that node). Otherwise, Test_j has no legal successor.\n  R5. Accept_j transitions through a short fixed sequence to a neutral PAD filler (a constant-length exit), after which Role=PAD continues with a self-loop language. While ProbeHead\u2208{Start_j,Move_j,Test_j,Accept_j}, no pairs to ERR_\u2022 or \u22a5 are allowed; outside probe mode, ERR/\u22a5 are permitted as usual.\n- PORT-zone well-formedness: local rules enforce a contiguous PORT block with Addr=1,\u2026,B, immediately adjacent to S on the canonical side, as part of the canonical vertex block (see C below). If the probe reaches the end of the allowed corridor without encountering Addr=j (which cannot happen in a well-formed block), there is no legal successor and the DP fails; this guarantees uniqueness.\n- Claim TS (restated precisely). For any canonical left vertex word L(u) with properly formed PORT just to the right of S, E_{L(u)}(a\u22c6)[Q_j]=1 iff u_j=1; otherwise 0. Proof: under Q_j, the only legal continuation is the deterministic probe path R1\u2013R5; acceptance is equivalent to RIDbit=1 exactly at Addr=j; RIDbit copies the fixed input bit at that node by Cin\u2013out. No error/plumbing escape is permitted in probe mode.\n- Budget for probes: ProbeHead states contribute 4B symbols; Addr contributes B; corridor roles/phases add a constant factor. This induces at most O(B^2) distinct combined symbols in \u03a3_out when folded. See \u201cAlphabet budget\u201d below.\n\nB. Canonical vertex contexts and per-side color gating (RG)\n- Canonical left block W_L(u): fixed layout HEAD \u00b7 PORT(B) \u00b7 RUN \u00b7 PAD with PORT abutting S on its right; HEAD exposes enc(D) (copied from inputs by Cin\u2013out) and a short delimiter; RUN is a corridor used by the seam tableau (below); PAD is arbitrary filler. Right block W_R(v) is symmetric.\n- Per-side handshake flags next to S: the cell immediately inside S on each side must show a fixed gate token GateL (left context) or GateR (right context), followed (at a fixed offset) by the PORT zone. Cout\u2013out allows S to take a color token {RED, GRN, BLU} only if the adjacent inner neighbor displays the correct Gate\u2022 token; otherwise, the only allowed S token is \u22a5.\n- Mixed-pair policy (critical correction): seam activity (and any \u201cmust-color\u201d constraint) is triggered only when both sides are canonical. If exactly one side is canonical, the canonical side may be colored (per-side gating), the opposite S must be \u22a5, and the interior wb\u2218wc admits only neutral plumbing; no seam tableau is required or even allowed to start.\n\nC. Seam gadget with directional tokens and local acceptance (EDGE, Eq)\n- Goal: enforce, when both sides are canonical, the conjunction\n  (A) EDGE=1 \u21d2 colors differ; vacuous if EDGE=0; and\n  (B) Eq=1 \u21d2 colors equal; vacuous if Eq=0;\n  while (i) forcing \u201cmust-color\u201d in active-active pairs and (ii) guaranteeing unconditional acceptance in mixed pairs.\n- Directional seam tokens: two 1-bit subtracks Tok\u2192 and Tok\u2190 that live only on corridor (RUN/PAD) cells across wb\u2218wc.\n  \u2022 If left side is canonical, the inner neighbor of S1 seeds Tok\u2192=1 that deterministically propagates rightwards (Tok\u2192=1 on each successive cell) until it meets S2; Tok\u2192 never turns off.\n  \u2022 If right side is canonical, the inner neighbor of S2 seeds Tok\u2190=1 that propagates leftwards analogously.\n- Colored S fallback gating, local and sound:\n  \u2022 Near S2: if Tok\u2190=1 is present at the first interior cell (i.e., a token coming from the opposite end), then a colored S2 cannot attach to a neutral neighbor; its only legal successor pairs are to a seam verdict cell (see below). If Tok\u2190=0 locally, a colored S2 may attach to a neutral neighbor (mixed pair fallback). Symmetric rule near S1 using Tok\u2192.\n  \u2022 \u22a5 at S is locally disallowed when the opposite-direction token is present: if Tok\u2190=1 (respectively Tok\u2192=1) is present adjacent to S2 (resp. S1), then S2=\u22a5 (resp. S1=\u22a5) has no legal neighbor pair. This implements must-color only in active-active pairs.\n  These checks are purely local (each S only inspects its interior neighbor\u2019s two Tok bits).\n- Verdict cell and adjacency enforcing (A) and (B):\n  \u2022 When both tokens are present anywhere (they overlap throughout the bridge), the seam tableau is permitted and required to run row-by-row across the corridor (standard 1D TM simulation) and eventually place a verdict cell V next to S2 carrying fields EDGE\u2208{0,1}, Eq\u2208{0,1}, and FwdColor \u2208 {RED,GRN,BLU}, which is a copy of Color(S1).\n  \u2022 Cout\u2013out forbids the following pairs between S2 and its interior neighbor when that neighbor is V (verdict):\n    \u2013 If EDGE=1 and Color(S2)=FwdColor, forbid (violates inequality on edges).\n    \u2013 If Eq=1 and Color(S2)\u2260FwdColor, forbid (violates same-vertex equality).\n    Conversely, all pairs are allowed if EDGE=0 (for (A)) and if Eq=0 (for (B)). These enforce (A) and (B) simultaneously, using only the S2\u2013V adjacency.\n  \u2022 It is legal (but not necessary) for the verdict cell to exist when only one token is present; the tableau cannot complete in that case (no incoming start from the far side), so V never appears. Thus the only viable completion in mixed pairs is via the neutral fallback, which is allowed by the Tok-based gating above.\n- Tableau consistency and robustness: as usual, Cout\u2013out enforces per-row TM transitions across the seam corridor; malformed rows have no accepting continuation. Error-chain alphabets are disabled on RUN/PAD when either color is used at S and a token from the opposite side is present (to avoid escape hatches in active-active mode); they remain enabled in mixed pairs and inactive contexts.\n\nD. Alphabet budget and \u03b2 sizing (explicit bound)\n- Constant tracks: roles/phases O(1); error alphabet O(1); tableau work alphabet O(1); color/\u22a5 (4 symbols).\n- O(B) tracks/components:\n  \u2022 Addr: B values + \u22a5 (for non-PORT cells).\n  \u2022 ProbeHead states: 4B distinct states (Start/Move/Test/Accept per j).\n  \u2022 Reserved boundary 4-tuples Q_j: B distinct boundary-output choices; these do not multiply \u03a3_out but require special boundary symbols (O(B)).\n- Tokens and verdict: Tok\u2192, Tok\u2190 \u2208 {0,1} each (constant factor); verdict fields EDGE, Eq \u2208 {0,1}, FwdColor \u2208 {R,G,B} (constant factor), realized only on a special verdict role.\n- Folding into \u03a3_out: the combined symbol set can be organized so that the number of symbols is O(B^2) times a constant (addresses \u00d7 probe-head id dominate), or O(B^3) if we choose to fully decouple j from head modes and addresses conservatively. With B = s^{c0}, pick \u03b2 = s^{c1} with c1 \u2265 3c0 to guarantee \u03b2 \u2265 c \u00b7 B^3 for a fixed c; this leaves ample headroom for all constant factors. This satisfies the \u201c\u03b2 = poly(s)\u201d requirement.\n\nE. B=2 sanity test template (DP-ready)\n- Choose \u03b2 \u2265 32. Enumerate symbols for: colors {\u22a5,R,G,B}; roles {HEAD,PORT,RUN,PAD,PROBE,VERDICT}; Addr \u2208 {\u22a5,1,2}; ProbeHead \u2208 {None,Start_1,Move_1,Test_1,Accept_1,Start_2,Move_2,Test_2,Accept_2}; Tok\u2192, Tok\u2190 \u2208 {0,1}; verdict bits EDGE, Eq \u2208 {0,1}, FwdColor \u2208 {R,G,B} (verdict role only); error symbols ERR_\u2022.\n- Build four canonical left words L(00), L(01), L(10), L(11) and right words analogously, each with HEAD, a 2-cell PORT zone abutting S, and trivial RUN/PAD. Fix a\u22c6. Verify with the O(k\u03b2^2) DP that under Q_1 and Q_2, the bits (E_{L(u)}(a\u22c6)[Q_1], E_{L(u)}(a\u22c6)[Q_2]) equal u.\n- Instantiate a toy D on 4 vertices (e.g., a 4-cycle), encode it into HEAD, and run the DP on all 16 ordered pairs (L(u), R(v)). Check: if D(u,v)=1, the only completions for active-active pairs have unequal colors (enforced by S2\u2013V pairs); if D(u,v)=0, all color pairs accept; if u=v, Eq=1 forces equal colors. Mixed pairs accept unconditionally with the colored canonical side and \u22a5 on the inactive side.\n\nWhy the token-gated seam resolves the locality issues\n- Mixed pairs accept locally: if only one side is canonical, the opposite-direction token is absent locally. Thus colored S can attach to neutral neighbor states without requiring a verdict, and \u22a5 is allowed as well.\n- Active-active pairs force constraints locally: both tokens are present adjacent to both S\u2019s. Locally (at each S), \u22a5 is disallowed (must-color), and colored S cannot attach to neutral neighbors; it must attach to a verdict cell. The verdict cell enforces (A) and (B) via S2\u2013V local pairs. No reference to distant nodes is needed.\n- No error escape: in probe mode and in seam-active modes (when opposite-direction token is present), ERR/\u22a5 transitions are disabled in Cout\u2013out; malformed attempts dead-end.\n\nSoundness/completeness recapped with Eq\n- Completeness: Given a 3-coloring \u03c7 on V={0,1}^B, set f(Type(L(u)))=\u03c7(u), f(Type(R(v)))=\u03c7(v), f(\u03c4)=\u22a5 for all inactive \u03c4. Active-active pairs: both tokens present; the tableau computes EDGE and Eq; the verdict adjacency enforces S-color inequality on edges and equality on u=v; mixed pairs: exactly one token near S; fallback acceptance ensures feasibility. Must-color is enforced automatically on active-active pairs by token rules.\n- Soundness: If f passes (F1), the token-gated must-color forces f to assign non-\u22a5 to canonical types. Define \u03c7(u)=f(Type(L(u))). The (L(u),R(v)) bridge (with both tokens) enforces \u03c7(u)\u2260\u03c7(v) for edges and \u03c7(u)=\u03c7(u) trivially for same-vertex pairs; thus \u03c7 is a proper 3-coloring.\n\nGaps/risks and how we addressed them\n- Unique probe continuation (verifier item 6): enforced by forbidding ERR/\u22a5 next to ProbeHead and by making Start_j/Move_j/Test_j deterministic with a single successor per state; the corridor layout ensures the head must reach the unique Addr=j cell or die.\n- Mixed-pair acceptance (items 1\u20132): resolved by per-side gating and directional tokens; only the presence of the opposite-direction token disables fallback and \u22a5 locally.\n- \u201cMust-color\u201d only in active-active: enforced by forbidding S=\u22a5 locally when the opposite-direction token is present.\n- Seam wiring locality (item 7): acceptance checks occur only between S2 and the verdict cell V (and symmetrically S1/its verdict if desired); EDGE/Eq and FwdColor are carried in V. No distant inspection.\n- Alphabet budgeting (item 8): explicit O(B^2)\u2013O(B^3) bound and \u03b2 sizing provided.\n- Length normalization: existence of canonical contexts with PORT abutting S at |w_i|\u2208{\u2113_pump,\u2113_pump+1} still relies on pumping/replacement. We keep this as an assumption in notes; integrating Lemmas 11,14\u201315 into output.md remains a to-do if needed.\n\nMinor clarifications for output.md (new)\n- Types vs. fixed interior inputs: please add a parenthetical \u201ctypes E_w(a) are computed with respect to the fixed input string of w\u201d (we rely on Cin\u2013out tying RIDbit to inputs in PORT).\n- Context set C: it helps to state explicitly that C consists of types of words w_1 S w_2 with |w_i|\u2208{\u2113_pump,\u2113_pump+1} and |S|=2; this keeps C finite with |C|\u2264\u2113_pump.\n\nNext concrete steps (auditable)\n1) Produce a B=2 machine-readable instance (symbol list and Cin\u2013out/Cout\u2013out fragments) reflecting A\u2013C above and run the verifier\u2019s O(k\u03b2^2) DP for the TS probe and seam pairs.\n2) Write the exact Cout\u2013out pair schemas (parametric) used above: Start_j\u2192Move_j\u2192Test_j\u2192Accept_j; token propagation; S/neighbor forbidden pairs; verdict adjacency.\n3) Optional: formalize the existence of canonical contexts at |w|\u2208{\u2113_pump,\u2113_pump+1} using Lemmas 11,14\u201315 (replacement/pumping) and add a short lemma to output.md.\n4) Integrate Lemma TS (per-bit probe), Lemma RG (per-side gating and token must-color), and Lemma SG (seam tableau with EDGE/Eq and local acceptance) into the curated output once the B=2 validation passes.\n\nWhy this is progress\n- We\u2019ve transformed the sketches into precise, local rule families that a DP can check: deterministic probe pipelines for type separation; per-side gating plus directional tokens to reconcile mixed-pair acceptance with active-active constraints; and a strictly local verdict interface encoding both EDGE and Eq. The symbol budget is explicit and stays within \u03b2=poly(s). This addresses all previously flagged locality, determinism, and mixed-pair issues and sets up a small-scale DP regression to validate behavior end-to-end."}, {"prover_id": "03", "progress_md": "Status and aim\n- Objective: make the NEXPTIME-hardness reduction auditable by pinning down three radius-1 gadgets with explicit, testable behavior: (i) a per-bit boundary-probe family {Q_j} that injectively separates 2^B vertex indices into distinct context types; (ii) per-side color gating and seam activation that keep mixed pairs vacuous and enforce \u201cmust color\u201d only when both sides are canonical; (iii) a seam tableau that computes EDGE := D(u,v) and Eq := [u=v] and enforces local acceptance (EDGE=0 or colors differ) \u2227 (Eq=0 or colors equal).\n\nGaps or clarifications in output.md (to log, not to edit now)\n- Fixed inputs in types: Definitions state \u201cinterior inputs may be arbitrary; if the model fixes interior inputs, the definition is with respect to those fixed inputs.\u201d Our reduction uses fixed interior inputs to encode indices/C. Suggest adding a sentence clarifying that Type(w) is computed with respect to the fixed input string of w, which is the instance\u2019s input.\n- Context set size and construction: It would be useful to state explicitly that the context set C consists of types realized by words of the form w_1 S w_2 with |w_i| \u2208 {\u2113_pump, \u2113_pump+1}, hence |C| \u2264 \u2113_pump. Also note (or later prove) how pumping/replacement ensures the existence of canonical contexts with prescribed lengths.\n\nLemma TS \u2014 Per-bit boundary probe (radius 1, deterministic, no error-escape)\n- Statement. There exist: (a) a fixed boundary-input tuple a\u22c6 \u2208 \u03a3_in^4; (b) B distinct reserved boundary-output 4-tuples Q_1,\u2026,Q_B; (c) an output-track layout with Role \u2208 {HEAD, PORT, RUN, PAD, PROBE, ERR}, an address subtrack Addr \u2208 {1,\u2026,B}, and a data subtrack RIDbit \u2208 {0,1} tied to \u03a3_in by Cin\u2013out when Role=PORT; (d) probe-head states Start_j, Head_j, Test_j, Acc_j for each j; such that for each canonical left block L(u) exposing a well-formed B-cell PORT zone with Addr=1,\u2026,B and RIDbit spelling u \u2208 {0,1}^B adjacent to S, we have for all j\u2208[B]:\n  E_{L(u)}(a\u22c6)[Q_j] = u_j.\n  Hence u\u2260u\u2032 \u21d2 Type(L(u))\u2260Type(L(u\u2032)). A symmetric construction yields 2^B distinct right-types.\n- Rule discipline (sketch sufficient for DP audit):\n  \u2022 Under Q_j the only legal Cout\u2013out pairs from the left boundary enter PROBE mode with Start_j, then deterministically propagate Head_j one step per edge along a predeclared probe-corridor; ERR/\u22a5 pairs are disallowed when any PROBE state is present.\n  \u2022 Along Head_j: if current Role\u2260PORT, the unique successor keeps moving; if Role=PORT with Addr\u2260j, keep moving; if Role=PORT with Addr=j, the only successor is Test_j.\n  \u2022 At Test_j: allow transition to Acc_j iff RIDbit=1; otherwise no successor exists (dead-end).\n  \u2022 Acc_j locally splices into PAD and disables all alternative branches.\n- Why this yields E= u_j: Q_j triggers a unique run; it reaches exactly the unique PORT cell with Addr=j; Cin\u2013out forces RIDbit to equal the node\u2019s input bit; hence continuation exists iff u_j=1. No error-escape is available in PROBE mode.\n- Alphabet budget: O(1) for roles/phases, O(B) for Addr values, O(B) for {Start_j,Head_j,Test_j,Acc_j}, plus O(1) for PAD/ERR; feasible with \u03b2 \u2265 c\u00b7B.\n\nLemma CG \u2014 Per-side color gating and seam activation\n- Statement. There exist handshake markers GateL, GateR emitted near S if and only if the adjacent interior begins with a well-formed canonical vertex header (HEAD+PORT at fixed offsets). Local rules ensure:\n  \u2022 Color-permission at S_i (i\u2208{1,2}) is per-side: S_i may carry Color \u2208 {RED,GRN,BLU} iff Gate on that side is present; else the only allowed token is \u22a5.\n  \u2022 Active seam mode is enabled only if both GateL and GateR are present (active-active). In active-active, we enforce \u201cmust color\u201d: both S nodes must be non-\u22a5. In mixed pairs (exactly one Gate present), the seam remains inactive and accepts unconditionally (the inactive side is \u22a5 by gating). In inactive-inactive, both sides are \u22a5 and accept.\n- Why useful. It prevents mixed pairs from constraining f and restricts non-\u22a5 colors to canonical vertex contexts only, so f must color only \u03c4^L_u, \u03c4^R_v and map all others to \u22a5.\n\nLemma Seam \u2014 Tableau for D(u,v) and Eq(u,v) with local gates\n- Statement. There is a fixed-width RUN corridor across the bridge wb\u2218wc that simulates a universal TM U for poly(s) steps, reading enc(D) from HEAD and the port bits u (from left PORT) and v (from right PORT), and computing two verdict bits: EDGE := D(u,v) and Eq := [u=v]. The last tableau row writes, in the unique cell immediately to the right of S2, a triple (EDGE, Eq, FwdCol), where FwdCol is a copy of Color(S1). Local rules between S2 and this neighbor enforce all of:\n  (A) EDGE=1 implies Color(S2) \u2260 FwdCol; if EDGE=0 both equal/unequal are allowed.\n  (B) Eq=1 implies Color(S2) = FwdCol; if Eq=0 both equal/unequal are allowed.\n  Coupled with CG\u2019s \u201cmust color\u201d in active-active, this yields acceptance iff (EDGE=0 or colors differ) and (Eq=0 or colors equal).\n- Robustness: In active mode, ERR symbols are disallowed adjacent to RUN states; malformed tableaux have no accepting continuation. Outside active mode (i.e., mixed or inactive), neutral \u22a5-plumbing is available, so those pairs accept vacuously.\n\nPadding to prescribed lengths (existence of canonical contexts)\n- Claim. For each u\u2208{0,1}^B there exists at least one left word w_1 of length in {\u2113_pump, \u2113_pump+1} whose suffix adjacent to S is a canonical W_L(u); similarly for right contexts. Proof sketch: Build a seed left word as P^z \u00b7 W_L(u) with padding P outside the HEAD/PORT/RUN header. By Lemma 15 (pumping), choose z so that Type(P^z) stabilizes and the total length hits \u2113_pump or \u2113_pump+1. By Lemma 12 (type composition), replacing P^z by any P^{z\u2032} of the same type preserves Type(P^z \u00b7 W_L(u)); since we pump only in PAD outside the seam, the near-S structure and the probe/seam interfaces are unaffected. Symmetrically for the right side.\n\nSoundness/completeness (recap with Eq)\n- Completeness: Given a proper 3-coloring \u03c7, set f(\u03c4^L_u)=\u03c7(u) and f(\u03c4^R_v)=\u03c7(v), \u22a5 elsewhere. Active-active bridges accept by Lemma Seam (Eq forces same color on (u,u), EDGE forces inequality on edges; non-edges are vacuous). Mixed/inactive pairs accept via CG.\n- Soundness: If f satisfies (F1), define \u03c7(u):=f(\u03c4^L_u). Pairing (\u03c4^L_u,\u03c4^R_u) is active-active with Eq=1, so colors must match; pairing (\u03c4^L_u,\u03c4^R_v) for any edge has EDGE=1, so colors must differ. Hence \u03c7 is a proper 3-coloring.\n\nAlphabet/radius budget (concrete)\n- Tracks: roles/phases O(1), colors+\u22a5 (4), ERR O(1), RUN alphabet O(1), Addr values O(B), probe heads and reserved boundary outputs O(B). Total |\u03a3_out| \u2264 c_0 + c_1\u00b7B for fixed constants, so choose \u03b2 \u2265 c\u00b7B. All checks are radius-1: probe steps, RUN row transitions, per-side gating, and the S2\u2013neighbor acceptance gates.\n\nDP-auditable B=2 sanity plan\n- Build four left seeds L(00), L(01), L(10), L(11) and four right seeds; reserve Q_1,Q_2; fix a\u22c6. Verify by the O(k\u03b2^2) DP that E_{L(u)}(a\u22c6)[Q_1,Q_2]=(u_1,u_2). Implement a tiny U that sets EDGE for a 4-cycle and Eq via bitwise equality. Check all 16 ordered pairs (L(u),R(v)): accept iff (u=v \u21d2 colors equal) and (u,v edge \u21d2 colors differ). Mixed pairs (e.g., L(u) with a non-canonical right) accept regardless.\n\nPotential pitfalls and how we address them\n- Alternative completions under probes: explicitly forbid ERR/\u22a5 and any non-probe successors when a PROBE state is active.\n- Mixed-pair dead-ends: avoided by per-side gating and late seam activation; only active-active enforces \u201cmust color\u201d.\n- S-token control: f controls only the color/\u22a5 choice at S; all other S subtracks (handshake bits) are fixed by local adjacencies.\n- Length normalization dependence: we only need existence of at least one canonical context per u at lengths in {\u2113_pump, \u2113_pump+1}; pumping/replacement provides this without changing near-S behavior.\n\nNext steps (explicit, auditable)\n1) Write the parametrized probe-rule schema: enumerate allowed Cout\u2013out pairs for Start_j,Head_j,Test_j,Acc_j and the prohibition of ERR/\u22a5 adjacent to any PROBE state; list Cin\u2013out constraints tying RIDbit to \u03a3_in whenever Role=PORT.\n2) Specify the per-side handshake tokens near S and the exact Cout\u2013out conditions that (i) enable colors per-side; (ii) activate the seam only if both handshakes present; (iii) enforce \u201cmust color\u201d only then; and (iv) make mixed pairs accept unconditionally.\n3) Give the seam tableau\u2019s final-cell interface: define the neighboring cell\u2019s states that encode (EDGE,Eq,FwdCol) and the constant-size forbidden/allowed pairs with S2 realizing (A) and (B).\n4) Produce a B=2 instance (explicit symbol names and tables) and run the O(k\u03b2^2) DP to validate: probe bits, mixed-pair vacuity, and active-active acceptance policy.\n5) Add a short clarification to output.md (later): fixed-interior-input interpretation of Type(w) and a one-line bound |C| \u2264 \u2113_pump; defer full hardness write-up until the three gadgets are tabled and DP-tested."}, {"prover_id": "04", "progress_md": "Round 0004 \u2014 Filling in local rules for probes and seam; mixed-pair gating and a B=2 skeleton\n\nContext recap and objective\n- Goal: finalize a NEXPTIME-hardness reduction from Succinct 3-Coloring (S3Col) to Feasible-Function Existence (F1) for \u03b2-normalized, radius-1 LCLs on oriented paths, with (F2) neutralized by a global \u22a5-plumbing. We now pin down explicit, radius-1 Cout\u2013out rule schemas for (i) per-bit boundary probes that separate 2^B vertex indices; (ii) per-side color gating and seam activation with correct mixed-pair behavior; (iii) a seam verdict interface enforcing simultaneously EDGE=1 \u21d2 color-inequality and Eq=1 \u21d2 color-equality, while keeping error-escape disabled in active modes. We also provide a B=2 (toy) instance blueprint and a symbol budget check.\n\nCorrections/clarifications to output.md (gaps)\n- Types with fixed interior inputs: Please add to Definitions: \u201cIf the model fixes interior inputs, E_w(a) is computed with respect to those fixed inputs.\u201d Our reduction relies on Cin\u2013out copying input bits to outputs in PORT cells; extendibility is type-invariant under the fixed interior input string.\n- Context set size: It helps to note explicitly that context types are a subset of the global type space realized by words w_1 S w_2 with |w_i| \u2208 {\u2113_pump, \u2113_pump+1}, hence |C| \u2264 \u2113_pump.\n\nSymbols/tracks used (\u03a3_out components folded into symbols)\n- Colors at the two S nodes: Scol \u2208 {RED, GRN, BLU, \u22a5}.\n- Roles/phases (constant): {HEAD, PORT, RUN, PAD, ERR, GATE_L, GATE_R, BRIDGE, VERD} \u00d7 {phase \u2208 [c]}.\n- Port subtracks at Role=PORT: Addr \u2208 [B] (unary, i.e., distinct symbol per j) and RIDbit \u2208 {0,1} with Cin\u2013out tie RIDbit = input bit.\n- Probe states (left side) per j \u2208 [B]: Start_j, Head_j, Test_j, Accept_j.\n- Reserved boundary outputs per j \u2208 [B]: 4-tuples Q_j \u2261 (Q^L1_j, Q^L2_j, Q^R2_j, Q^R1_j) used only on the four boundary nodes.\n- Seam verdict neighbor (right of S2): VERD(FwdColor \u2208 {R,G,B}, EDGE \u2208 {0,1}, Eq \u2208 {0,1}). We also use a one-cell \u201cforwarder\u201d just left of S2 inside the RUN corridor to carry FwdColor.\n- Error/plumbing: a constant ERR alphabet (as in the PSPACE ref.) and PAD; these are disabled in active probe/seam modes (see discipline below).\n\nA. Per-bit probe gadget (Type-Separation, radius-1)\nParameters: B = s^{c0}, \u03b2 = s^{c1}, c1 \u2265 c0 so \u03b2 \u2265 c\u00b7B for a fixed constant c.\n\nLayout of a canonical left vertex block W_L(u)\n- Immediately to the right of S, a contiguous PORT zone of length B: the j-th cell carries Role=PORT, Addr=j, and RIDbit = u_j, with Cin\u2013out enforcing RIDbit equals the input bit at that node. Outside PORT, a short HEAD and long PAD. Right of S this is the only active structure; elsewhere PAD (neutral).\n\nProbe discipline (no error-escape / unique continuation)\n- Under the boundary outputs Q_j on the left boundary (and a fixed boundary-input 4-tuple a\u22c6), we force a deterministic \u201cprobe mode\u201d corridor from the boundary into the interior. While any Probe state appears on an edge, no Cout\u2013out pair involving ERR or \u22a5 is listed; the only legal successors are those below. Outside reserved probes, error/\u22a5-plumbing is available as usual.\n\nRadius-1 Cout\u2013out rule schema (parametrized by j)\n- Boundary injection: allow (Q^L2_j \u2192 Start_j) on the left-boundary-to-interior edge; forbid any other successor from Q^L2_j.\n- Movement: for any interior x, allow (Start_j \u2192 Head_j) on the next edge; for any non-PORT cell y (Role\u2208{HEAD,RUN,PAD}), allow (Head_j at predecessor \u2192 Head_j at y). Disallow any (Head_j \u2192 ERR/*) or (* \u2192 Start_j) except the specified ones.\n- Port scan: at a PORT cell with Addr=k \u2260 j, allow (Head_j(prev) \u2192 Head_j(curr)), continuing the march. At a PORT cell with Addr=j and RIDbit=b, allow exactly one of:\n  \u2022 If b=1: (Head_j(prev) \u2192 Test_j(curr)) and (Test_j(curr) \u2192 Accept_j(next)), where Accept_j transitions (deterministically in O(1) steps) to PAD.\n  \u2022 If b=0: (Head_j(prev) \u2192 [no successor]); i.e., no pair listed; the DP dies.\n- Addr enforcement: between consecutive PORT cells, only pairs that increment Addr by 1 are allowed (e.g., (PORT@Addr=k, PORT@Addr=k+1)); Addr monotonicity before reaching the PORT zone is enforced by disallowing (Head_j \u2192 PORT@Addr\u22601) at the very first PORT and by requiring contiguous PORT cells.\n\nClaim TS (Type-Separation; precise)\nFor any canonical W_L(u) and fixed boundary inputs a\u22c6, we have E_{W_L(u)}(a\u22c6)[Q_j] = u_j. Proof sketch: Under Q_j, the only legal continuation is the above deterministic probe; it reaches the unique PORT cell with Addr=j, where continuation exists iff RIDbit=1. Cin\u2013out ties RIDbit to the input bit, so acceptance depends only on u_j. No error/\u22a5 escape is possible in probe mode. Hence the B-bit vector (E(a\u22c6)[Q_1],\u2026,E(a\u22c6)[Q_B]) equals u; distinct u give distinct vectors, i.e., distinct left types. Symmetrically, we obtain 2^B right types with a mirrored probe.\n\nAlphabet budget for probes\n- PORT symbols: 2\u00b7B (RIDbit\u00d7Addr) distinct symbols.\n- Probes: 4\u00b7B symbols (Start_j,Head_j,Test_j,Accept_j) across j.\n- Reserved boundary symbols: \u22644\u00b7B tokens for the four boundary positions (Q^L1_j,\u2026), re-used across instances.\n- Add O(1) roles/phases, PAD, ERR, RUN alphabet: total |\u03a3_out| = O(B) + O(1) = \u0398(B) \u2264 \u03b2.\n\nB. Per-side color gating and mixed pairs\nPer-side handshake\n- The cell immediately adjacent to S1 on the left interior uses role GATE_L if and only if a well-formed canonical left vertex block is present; otherwise that cell uses PAD/HEAD/RUN. Similarly, on the right interior adjacent to S2 we use role GATE_R iff a canonical right block is present. These are enforced by local HEAD/PORT placement and phases.\n- The allowed Cout\u2013out pairs between a GATE_* cell and its adjacent S node restrict the S symbol\u2019s handshake flags: the S symbol includes two read-only bits HL, HR. At S1, adjacency with GATE_L forces HL=1 (else no pair allowed); if not GATE_L, adjacency forces HL=0. Similarly, at S2, adjacency with GATE_R forces HR=1 else HR=0. These flags are forced by neighbors; f cannot change them.\nColor permission\n- Pairs between a GATE_* cell and S permit Scol \u2208 {RED,GRN,BLU,\u22a5}. When not GATE_* (i.e., PAD/HEAD), only Scol=\u22a5 is permitted. Thus colors are permitted per-side based on the adjacent interior only; this is independent across sides.\nMixed pairs accept unconditionally\n- If exactly one side is canonical (say HL=1, HR=0), we do not activate the seam tableau. The S1\u2013S2 pair allows any (Scol1 \u2208 {R,G,B}, Scol2=\u22a5) combination; the two interior halves are filled with PAD/\u22a5 plumbing. No must-color constraint is enforced here.\n\nC. Seam activation and verdict wiring (active-active pairs)\nActivation and must-color locality\n- The seam is active only when both sides are canonical; locally this is encoded by HL=1 at S1 and HR=1 at S2 (both forced by the adjacent GATE_* cells). Only in this case do we enforce \u201cmust-color\u201d: the S1\u2013S2 adjacency forbids any pair with Scol1=\u22a5 or Scol2=\u22a5 when (HL=1 and HR=1). When either HL=0 or HR=0, \u22a5 is allowed on the corresponding S and the seam is inactive.\nRUN_B tableau and verdict cell\n- Across wb\u2218wc (a corridor spanning into both sides right next to S), Cout\u2013out enforces a row-by-row simulation of a fixed TM U on input (enc(D), u, v). The RUN corridor is enabled only when HL=HR=1 and both S nodes are non-\u22a5. The last row writes into the neighbor immediately to the right of S2 a symbol VERD(FwdColor, EDGE, Eq), where FwdColor\u2208{R,G,B} is a copy of Scol1, EDGE = D(u,v), and Eq = [u=v]. ERR is disallowed adjacent to RUN/VERD in this active mode (no escape).\nLocal verdict check (pure radius-1)\n- Pairs S2 \u2194 VERD are allowed exactly when both constraints hold:\n  (A) if EDGE=1 then FwdColor \u2260 Scol2; if EDGE=0 then no restriction.\n  (B) if Eq=1 then FwdColor = Scol2; if Eq=0 then no restriction.\n- The edge S1 \u2194 S2 additionally forbids \u22a5 when HL=HR=1 (must-color) and otherwise imposes no restriction. No other global signal is used.\nCorrectness: On active-active pairs, acceptance iff (EDGE=0 or colors differ) and (Eq=0 or colors equal). This enforces 3-coloring on edges and consistency on (u,u) pairs.\n\nD. Soundness/completeness (recap) and role of mixed pairs\n- Completeness: Given a proper 3-coloring \u03c7 of the succinct graph, define f on canonical types by f(\u03c4^L_u)=\u03c7(u), f(\u03c4^R_v)=\u03c7(v), all other types map to \u22a5. On active-active pairs (u,v): RUN_B computes (EDGE,Eq); (A)(B) hold by \u03c7. On mixed pairs: seam inactive; pairs accept with plumbing. Hence (F1) holds. (F2) is neutralized by \u22a5-filling (see F below).\n- Soundness: If f passes (F1), then each canonical \u03c4^L_u must be colored (or some active-active seam would violate must-color), and the values on \u03c4^L_u and \u03c4^R_u must coincide (pair (u,u) has Eq=1). For any edge (u,v) with D(u,v)=1, the pair (\u03c4^L_u, \u03c4^R_v) must satisfy (A), forcing \u03c7(u)\u2260\u03c7(v). Thus \u03c7 is a proper 3-coloring.\n\nE. B=2 DP-checkable skeleton (auditable)\nSymbols (sample)\n- Colors at S: S_R, S_G, S_B, S_\u22a5 (each encodes HL,HR bits as forced by neighbors).\n- PORT cells: P1^0,P1^1 and P2^0,P2^1 (Addr=1 or 2 and RIDbit=b). Cin\u2013out allows Pj^b only on input b.\n- Probes: Start_1,Head_1,Test_1,Accept_1 and Start_2,Head_2,Test_2,Accept_2.\n- Boundary: Q^L1_1,Q^L2_1 (and similarly for j=2), mirrored on the right.\n- Gating: GATE_L, GATE_R on the interior cells adjacent to S, else PAD.\n- Verdict: VERD(c\u2208{R,G,B}, EDGE\u2208{0,1}, Eq\u2208{0,1}).\nKey Cout\u2013out pairs (non-exhaustive but complete by schema)\n- Probe injection and march: (Q^L2_j \u2192 Start_j), (Start_j \u2192 Head_j), (Head_j \u2192 Head_j) on non-PORT, (Head_j \u2192 Head_j) on PORT@Addr\u2260j, (Head_j \u2192 Test_j) on PORT@Addr=j, then (Test_j \u2192 Accept_j) iff RIDbit=1, then Accept_j \u2192 PAD.\n- PORT adjacency: (P1^b \u2192 P2^{b\u2032}) allowed; (Addr monotonicity) require that between consecutive PORT cells, Addr increases by 1 (here 1\u21922). No other PORT transitions.\n- Per-side color gating: (GATE_L \u2192 S_x with HL=1) and (non-GATE_L \u2192 S_\u22a5 with HL=0) only; symmetrically for S2 and HR.\n- Seam activation/must-color: edge (S1 \u2194 S2) forbids S_\u22a5 on either side when HL=HR=1; allows any pair otherwise.\n- Verdict check: (S2=R \u2194 VERD(FwdColor=R,EDGE=1,Eq=0)) is forbidden; (S2=R \u2194 VERD(FwdColor=G,EDGE=1,Eq=0)) allowed; similarly for other colors; and (Eq=1) forces equality by allowing only pairs with FwdColor=Scol2; when EDGE=0 both equal/unequal are allowed. No VERD neighbors occur unless HL=HR=1 (RUN active); otherwise the neighbor is PAD.\nAudit plan\n- Verify TS: run the O(k\u03b2^2) DP on L(00),L(01),L(10),L(11) under Q_1,Q_2 with the above probe rules; acceptance matches u_j.\n- Verify seam: choose a small D (e.g., 4-cycle) and implement U as a constant table that writes EDGE,Eq deterministically from u,v (for B=2, D can be tabulated directly). Check that all active-active pairs accept iff inequality on edges and equality when u=v. Mixed pairs accept regardless.\n\nF. Neutralizing (F2)\nAdd to Cout\u2013out a neutral self-looping \u22a5-language: for any repetition w^z, z\u22651, and any boundary outputs/inputs, the interiors can be labeled entirely with PAD/\u22a5 without touching S or the handshake flags. Then for every context (w1,S,w2) and any z\u22651, f(Type(w1Sw2)) on S extends trivially: (F2) holds for all f.\n\nG. Existence of canonical contexts at lengths \u2113_pump/\u2113_pump+1\nWe rely on the standard replacement/pumping lemmas for path types (ref. Lemmas 10\u201315, 11, 12 in the attached paper): HEAD+PORT+RUN have length poly(s) \u226a \u2113_pump = 2^{\u0398(\u03b2^4)}. We place W_L(u) and W_R(v) adjacent to S and pad only outside the PORT zone to achieve total side lengths in {\u2113_pump,\u2113_pump+1}. Replacement preserves type near S, so each u (and v) has at least one canonical left (right) context in C. This item should be added explicitly to output.md or cited as such; until then, treat it as an assumption backed by the cited lemmas.\n\nH. Determinism and locality checks (addressing reviewer points)\n- Probe determinism: In probe mode (presence of Start_j/Head_j/Test_j), Cout\u2013out lists no ERR/\u22a5 pairs; only the deterministic march/test/accept transitions exist. Thus E(a\u22c6)[Q_j] is a single-bit function of RIDbit[j].\n- Seam wiring locality: The final check uses only the pair S2 \u2194 VERD; the must-color trigger uses only S1 \u2194 S2 with locally stored HL,HR flags.\n- S symbol control by f: The only component of S chosen by f is the color field; HL,HR are forced by neighbors via adjacency constraints.\n- Budget: \u03a3_out has O(B) reserved symbols and O(1) others; choose \u03b2 \u2265 c\u00b7B. Tables Cin\u2013out (2\u00d7\u03b2) and Cout\u2013out (\u03b2\u00d7\u03b2) remain poly(\u03b2).\n\nI. Why this is incremental progress\n- We have converted the earlier sketches into explicit, radius-1 rule schemas that the verifier can instantiate for B=2 and check with the O(k\u03b2^2) DP. We addressed mixed pairs (seam inactive; unconditional acceptance), must-color locality (only when both handshakes present), S-symbol control (only color is free), probe-mode determinism (no error-escape), and seam wiring locality. We provided a concrete symbol budget and a B=2 audit plan.\n\nNext steps (auditable deliverables)\n1) Write the parameterized Cout\u2013out tables for probes explicitly (as a list of allowed pairs for Start_j,Head_j,Test_j,Accept_j, PORT adjacency), and the Cin\u2013out mask tying PORT.RIDbit to \u03a3_in.\n2) Enumerate the S-adjacent pairs that gate colors per side, enforce must-color only when HL=HR=1, and list the S2\u2194VERD pairs that implement (A)(B).\n3) For B=2, produce a machine-readable instance (\u03a3_out symbol list, Cin\u2013out, Cout\u2013out) and run the DP to validate TS and seam behavior on all 16 ordered pairs (L(u),R(v)).\n4) Incorporate (or cite) the pumping/replacement lemmas into output.md to justify existence of canonical contexts at the required lengths. If preferred, give an explicit padding construction that never touches the PORT zone.\n5) Package the reduction D \u21a6 P_D, state the equivalence \u201cG 3-colorable \u21d4 (F1) feasible f,\u201d and add the \u22a5-filler to neutralize (F2), yielding the NEXPTIME-hardness of the 3-way classifier under the explicit \u03b2-normalized, r=1 model.\n"}]

Current notes.md:
Working model and notation (radius 1, Î²-normalized)
- We study LCLs on globally oriented paths with fixed input alphabet Î£_in and output alphabet Î£_out of size Î². The local legality is given by two global relations: Cinâ€“out relating each input symbol to allowed output symbols at a node, and Coutâ€“out relating allowed pairs of consecutive output symbols. The radius is 1.
- A path segment w has four boundary nodes (two on the left, two on the right). For a fixed assignment to the four boundary inputs, we define the extendibility bitvector over all Î²^4 assignments to the four boundary outputs indicating for which boundary-output assignments there exists a legal extension to the interior.
- The type Type(w) is the collection, over all 4-boundary input assignments, of these extendibility bitvectors. Two words share a type if they have identical extendibility behavior for all boundary input/output assignments. Let T be the finite set of all types realizable by some word.

Verified technical facts (recorded in output.md)
- Type bound: |T| â‰¤ |Î£_in|^4 Â· 2^{Î²^4}. Reason: a type is determined by four boundary input symbols and a Boolean function on the Î²^4 boundary output assignments.
- Composition lemma: There is a computable binary operation âŠ› on T such that Type(uv) = Type(u) âŠ› Type(v) for all words u, v. Intuition: to decide extendibility of uv under a boundary-output assignment, one needs only (i) the extendibility tables of u and v, and (ii) existentially quantify over the two internal boundary outputs to satisfy Coutâ€“out at the join.
- Periodicity: For any fixed word w, the sequence Ï„_z := Type(w^z) is ultimately periodic with preperiod and period â‰¤ |T|. Thus the pair sequence (Type(w1^z), Type(w2^z)) is ultimately periodic with preperiod â‰¤ 2|T| and period â‰¤ |T|.
- Finite-Z for (F2): Given any context (w1, S, w2), whether the (F2) check passes for all z â‰¥ 1 depends only on finitely many pairs (Type(w1^z), Type(w2^z)); it suffices to check z up to Z â‰¤ |T|^2 (a non-tight but simple bound).
- DP for extension: For a fixed path with some outputs forced (e.g., on S), the existence of a global completion can be decided in O(k Î²^2) time for a length-k path by a layered dynamic program over output symbols.

Hardness direction we will pursue (pivot suggested by Prover 01)
- Source problem: Succinct 3-Coloring of a graph G on V={0,1}^B, given by a circuit D(u,v) (size s) deciding adjacency; NEXP-complete.
- Target LCL: Construct a Î²-normalized, r=1 instance P_D with Î£_out size Î² = poly(s). The plan:
  1) For each u, build at least one context type Ï„_u whose boundary behavior (detected via a reserved boundary-probe) certifies that the interior encodes the index u in a standard, radius-1-checkable block. The interior also stores a copy of D on an input track and a runzone for a fixed TM U.
  2) In a bridge between Ï„_u and Ï„_v, locally simulate U on input (D,u,v) across the seam for poly(s) steps to evaluate D(u,v); malformed simulations are locally refutable.
  3) Gate constraints: if D(u,v)=0 (non-edge) allow completion regardless of colors; if D(u,v)=1 enforce color inequality across S. All other pairings (not recognized as vertexâ€“vertex) are trivial.
  4) Assigning a color to each Ï„_u by a feasible function f is then exactly a proper 3-coloring of G.
  5) Make (F2) vacuous by allowing repeated sides to be filled with a globally available âŠ¥-plumbing language.

Open technical items for hardness (to be formalized next)
- Boundary-probe/type-separation lemma: Exhibit a fixed boundary-output probe that, when used, triggers an interior index-check subroutine; show that for distinct indices u â‰  uâ€², the probeâ€™s extendibility bit differs, hence Ï„_u â‰  Ï„_{uâ€²}.
- Seam handshake and computation: Specify the constant-size interface by which the bridge accesses (via pointers) the interior encodings of u and v and runs the 1D tableau for U for poly(s) steps, with radius-1 local checks and robust error refutations.
- Alphabet/size bookkeeping: Keep Î£_out constant tracks (roles, colors, error, Uâ€™s work alphabet) constant, with Î² = poly(s) sufficient for all auxiliary symbols.
- Soundness/completeness proof for the reduction P_D: G is 3-colorable iff a feasible f exists for P_D (with (F2) neutralized).

Caveats and corrections logged
- Short seam codes cannot distinguish exponentially many indices; instead use constant-size pointers/handshakes plus interior blocks that store and validate indices.
- Do not attempt to â€œprogram arbitrary boundary truth tables per typeâ€ via Coutâ€“out; all rules are global. Use boundary probes plus uniform interior checks to separate types.
- For 3SAT-based reductions, the (F1) universal quantifier clashes with clause-level existential quantification unless one adds complex nondeterministic gating. The succinct 3-coloring pivot avoids this.
Refined hardness plan via Succinct 3-Coloring: type separation and seam simulation (radius 1)

Parameters and normalization
- Given a succinct graph instance D of size s over V={0,1}^B with B=s^{c0}, choose Î²=s^{c1} with c1â‰¥c0 so Î²â‰¥B and the output alphabet Î£_out has size Î². The LCL instance P_D has radius 1 and is Î²-normalized (Cinâ€“out global, Coutâ€“out nearest-neighbor global). The DP and type framework from output.md applies with |T|â‰¤|Î£_in|^4Â·2^{Î²^4}.

Canonical vertex contexts and activity gating
- We will construct canonical context shapes L(u)=W_L(u) S F_R and R(v)=F_L S W_R(v) for each u,vâˆˆ{0,1}^B such that:
  1) W_L(u) (resp. W_R(v)) is a well-formed vertex block anchored O(1) from S; it exposes a port zone of length Î˜(B) immediately adjacent to S holding the index bits.
  2) Only these canonical contexts permit color tokens at S (role gating). Any context that is not a canonical vertex context is inactive: any non-âŠ¥ token at S dead-ends locally; âŠ¥ at S always extends via neutral plumbing.
  3) For each u (resp. v) the type Type(L(u)) (resp. Type(R(v))) depends only on u (resp. v) via a boundary-probe mechanism detailed below. Thus we obtain at least 2^B distinct left-types and 2^B distinct right-types.

Type separation via a family of boundary probes (two workable options)
- Option A (per-bit probes Q_j with address field): Reserve B distinct boundary-output 4-tuples {Q_j : jâˆˆ[B]}. In the port zone, include an address track Addrâˆˆ[B] and a data track RIDâˆˆ{0,1}. Local rules enforce that under boundary outputs Q_j the only legal continuation is a deterministic pointer that walks from the boundary to the unique port cell with Addr=j and then accepts iff RID=1 at that cell; otherwise no continuation exists. For all non-reserved boundary outputs we allow generic âŠ¥-plumbing so they do not affect separation. Fix a boundary-input pattern aâ‹†. Then for each u we have E_{L(u)}(aâ‹†)[Q_j]=u_j. Consequently, uâ‰ uâ€² implies Type(L(u))â‰ Type(L(uâ€²)). This uses O(B) extra symbols (addresses/pointer states) and remains within Î²=poly(s).
- Option B (mask/parity probes with Mâ‰¥B tests): Reserve M boundary-output 4-tuples {b_t : tâˆˆ[M]} with Mâ‰¥B. Store in the input of W_L(u) a table of M masks M_tâˆˆ{0,1}^B (with the BÃ—M matrix of full rank over GF(2)) and the RID block u. Under boundary outputs b_t, a deterministic pointer reads M_t and then the RID block and accumulates the inner product âŸ¨M_t,uâŸ© mod 2 using a small â€œRUNâ€ zone (row-by-row locally checked). Accept iff the parity is 1. Define Sig(u)=(âŸ¨M_t,uâŸ©)_tâˆˆ{0,1}^M; Sig is injective because Mâ‰¥B and the masks are independent. Fixing a boundary-input aâ‹†, E_{L(u)}(aâ‹†)[b_t]=Sig(u)_t, so types differ for distinct u. Again, the probe behavior is radius-1 and Î²=poly(s) suffices.
- In both options, under reserved probes the control is deterministic (no error-chain escape). Outside reserved probes, error-chains and âŠ¥-plumbing ensure malformed interiors do not constrain f.

Seam gadget for succinct adjacency and color inequality
- In an (F1) instance on L(u) seam R(v), the bridge wbâˆ˜wc hosts a row-by-row simulation of a fixed TM U that evaluates D(u,v) in poly(s) steps:
  1) The port zones adjacent to S on each side expose the B-bit strings u and v. A small handshake track opens a corridor through wbâˆ˜wc where Uâ€™s tableau is laid out.
  2) Coutâ€“out enforces nearest-neighbor consistency between successive rows; malformed rows are locally refutable (no accepting continuation). The run emits a verdict bit EDGEâˆˆ{0,1} at a fixed place near S.
  3) Local acceptance: If EDGE=0 (non-edge), admit completion irrespective of colors at S; if EDGE=1 (edge), admit completion iff the two color tokens at the two S nodes differ. These are radius-1 checks.
- If either side is inactive (not a canonical vertex context), a âŠ¥-plumbing language allows completion irrespective of the other side and the colors; however, the role gating forbids colors at S for inactive types, so mapping inactive types to a color would violate (F1) on some pair.

Neutralizing (F2)
- Add a global âŠ¥-filler that, for any context (w_1,S,w_2) and any zâ‰¥1, allows filling w_1^z and w_2^z entirely with âŠ¥ symbols, consistent with any boundary outputs and inputs, without altering the two S positions or the vertex-role gating. Then (F2) holds for every f, reducing the 3-way classification on this family to (F1)-feasibility.

Why this matches our DP/type framework
- Types are defined with respect to fixed inputs; the reserved-probe acceptance depends only on the interior index u and the chosen boundary 4-tuple, so it is type-invariant. The DP in O(kÎ²^2) can verify both probe behavior and seam runs on small test instances (e.g., B=2), giving a concrete auditable path.

Key cautions to enforce in the local rules
- Reserved probes must have a unique legal continuation (deterministic pointer/run); no error-chain may provide an alternative accepting path.
- Color tokens at S must be gated by the vertex role; inactive contexts cannot place colors, ensuring f is only free on canonical vertex types and âŠ¥ elsewhere.
- The seam gadget must accept for non-edges regardless of colors and enforce inequality for edges; malformed simulations must not accept.

Minimal sanity check (B=2)
- Use Option A with Q_1,Q_2 and an Addr track {1,2} in the port zone. For uâˆˆ{00,01,10,11}, the vector (E_{L(u)}(aâ‹†)[Q_1], E_{L(u)}(aâ‹†)[Q_2]) equals u. The seam gadget with a small circuit D (e.g., a 4-cycle) enforces inequality exactly on edges, which can be brute-forced by the DP.
Consolidated plan and corrections for the S3Col â†’ F1 reduction (radius 1, Î²-normalized)

Parameters and model
- Input: succinct graph on V={0,1}^B specified by circuit D of size s. Choose Î²=s^{c1} with c1â‰¥c0 so Î²â‰¥Î˜(B) and there is symbol budget for O(B) auxiliary symbols. All constraints are radius 1 via Cinâ€“out and Coutâ€“out.

Canonical vertex blocks and activity
- Left canonical block W_L(u) adjacent to S exposes a port zone of length B with two subtracks: Addrâˆˆ{1,â€¦,B} and RIDâˆˆ{0,1}. Local rules enforce Addr increases by 1 leftâ†’right and Cinâ€“out ties RID to Î£_in. The B-bit word u is RID[1..B]. Right canonical block W_R(v) is symmetric.
- Per-side color gating (corrected): S may carry a color token {R,G,B} on a side iff the adjacent interior begins with a well-formed canonical vertex header (per-side handshake). This decision is per-side and does not depend on the opposite side. If the header is absent or malformed, the only allowed S token on that side is âŠ¥.
- Seam activation: The seam gadget is â€œactiveâ€ only when both sides are canonical (both per-side handshakes present). Mixed pairs (only one side canonical) are â€œsemi-activeâ€ and must accept unconditionally (see below), so that f may color canonical types without violating F1 on mixed pairs.

Type separation via per-bit probes (Option A)
- Reserve B distinct boundary-output 4-tuples {Q_j}. Under boundary inputs aâ‹† and outputs Q_j, Coutâ€“out forces a deterministic probe mode starting at the boundary, carrying a tagged head Head_j that moves along a pre-laid corridor to the unique cell in the port zone with Addr=j. At that cell, continuation exists iff RID=1. While in probe mode, error/âŠ¥ symbols are forbidden from appearing adjacent to probe states; outside reserved probes, standard error/âŠ¥ plumbing is allowed.
- Claim (TS): For any canonical left vertex word L(u), E_{L(u)}(aâ‹†)[Q_j]=u_j. Hence uâ‰ uâ€² â‡’ Type(L(u))â‰ Type(L(uâ€²)). Symmetric on the right. This uses only radius-1 locality and O(B) symbol budget.

Seam tableau and acceptance
- Active seam (both sides canonical): The bridge wbâˆ˜wc hosts a row-by-row tableau of a fixed TM U computing EDGE:=D(u,v) and Eq:=[u=v] in poly(s) steps. The last row writes (EDGE,Eq,ForwardedColor(S1)) into the cell immediately to the right of S2. Local rules between S2 and this neighbor enforce simultaneously:
  (A) if EDGE=1 then Color(S2)â‰ ForwardedColor(S1) (inequality on edges), else vacuous; and
  (B) if Eq=1 then Color(S2)=ForwardedColor(S1) (same-vertex consistency), else vacuous.
  Additionally, a must-color rule is enforced only in this active-active case: both S sides must be non-âŠ¥.
- Semi-active seam (mixed pair): If exactly one side is canonical, the colored side is allowed (by per-side gating), the opposite side must be âŠ¥, and the seam does not activate; the pair must accept unconditionally (neutral plumbing fills the interior). This prevents mixed pairs from constraining f.
- Inactive seam (neither side canonical): Both sides must be âŠ¥ and the pair accepts (neutral plumbing).

F2 neutralization
- A global âŠ¥-filler is available on repetitions w^z, zâ‰¥1, independent of boundary outputs and inputs, and does not interfere with per-side gating or the active seam. Thus (F2) becomes trivial.

Existence/length normalization (to be formalized)
- We assume (to be proven or replaced by an explicit construction) that for each u there exists at least one left (resp. right) canonical context of length â„“âˆˆ{â„“_pump,â„“_pump+1} with the port zone adjacent to S. Padding occurs outside the port zone, so probes and seam interfaces are unaffected. This step currently rests on pumping/replacement lemmas not yet included in output.md; keep it here as an assumption until proven.

Budget and locality checklist
- Alphabet: O(1) for roles/phases, colors+âŠ¥, error alphabet, tableau alphabet; O(B) for Addr; O(B) for probe heads and reserved boundary outputs. Choose Î² accordingly. All constraints are radius 1 and refer only to adjacent outputs (Sâ†”S neighbor or Sâ†”interior neighbor).

Audit points to pin down next
- Explicit tables for probe-mode transitions and the prohibition of ERR/âŠ¥ near probe states.
- Exact per-side handshake symbols, and the three seam modes (inactive, semi-active, active) encoded locally.
- The seamâ€™s final cell format and the constant-size forbidden/allowed adjacency list realizing (A) and (B) above.
- A B=2 explicit instance for DP validation.


Current output.md (if any):
Results validated for radius-1, Î²-normalized LCLs on oriented paths

Why these results matter
- The decision procedures for feasible-function existence (and hence the O(1)/Î˜(log* n)/Î˜(n) classification on paths) rely on two ingredients: (i) that path segments admit a finite set of â€œtypesâ€ which compose under concatenation, and (ii) that extendibility of partially labeled paths can be checked efficiently. The theorems below formalize these facts for radius 1 and yield a finite bound for the bridging (F2) checks.

Definitions (radius 1)
- Fix finite alphabets Î£_in and Î£_out (|Î£_out| = Î²). Cinâ€“out âŠ† Î£_in Ã— Î£_out specifies allowed output symbols at a node given its input symbol. Coutâ€“out âŠ† Î£_out Ã— Î£_out specifies allowed pairs of consecutive output symbols along the oriented path. A labeling of outputs y_1â€¦y_k over an input x_1â€¦x_k is legal if (x_i, y_i) âˆˆ Cinâ€“out for all i and (y_i, y_{i+1}) âˆˆ Coutâ€“out for all i.
- For a word w of length k â‰¥ 2, let the four boundary positions be i=1,2 and i=k-1,k. For a fixed assignment a âˆˆ Î£_in^4 to the boundary inputs (x_1, x_2, x_{k-1}, x_k), define E_w(a) âŠ† Î£_out^4 to be the set of boundary-output assignments b = (y_1, y_2, y_{k-1}, y_k) for which there exists a legal output labeling y_1â€¦y_k extending b, given the boundary inputs a (interior inputs may be arbitrary in Î£_in; if the model fixes interior inputs, the definition is with respect to those fixed inputs). The type of w, Type(w), is the map a â†¦ E_w(a). Let T be the set of all types realized by some w.

Theorem 1 (Finite number of types and an explicit bound)
Let m := |Î£_in|. For radius 1 we have |T| â‰¤ m^4 Â· 2^{Î²^4}.
Proof. For each fixed boundary-input assignment a there are exactly Î²^4 possible boundary-output assignments; E_w(a) is an arbitrary subset of these, hence at most 2^{Î²^4} possibilities. There are m^4 possible aâ€™s. The type is fully determined by the tuple (a, E_w(a))_{aâˆˆÎ£_in^4}. Thus the total number of distinct types is at most m^4 Â· 2^{Î²^4}.

Lemma 2 (Composition of types under concatenation)
There is a computable binary operation âŠ›: T Ã— T â†’ T such that for all words u, v we have Type(uv) = Type(u) âŠ› Type(v).
Proof. Fix boundary inputs a on uv, i.e., inputs on positions 1,2 and at the last two positions of uv. For each boundary-outputs choice b on uv, extendibility is equivalent to the existence of output symbols p,q âˆˆ Î£_out at the shared boundary between u and v (the last two outputs of u = first two of v) such that:
- (i) (Type(u) under its corresponding boundary inputs) accepts the boundary outputs given by the left two outputs of b together with p,q; and
- (ii) (Type(v) under its corresponding boundary inputs) accepts p,q together with the right two outputs of b; and
- (iii) the two internal adjacencies across the u|v seam are allowed by Coutâ€“out (these involve only (y_{|u|-1}, y_{|u|}) = (p_left, p_right) and (p_left, p_right) = (y_1, y_2) of v, but these are exactly the p,q we quantify over).
Because radius is 1, no other interior constraints couple u and v. Thus extendibility of uv under (a,b) can be decided solely from Type(u), Type(v), and Coutâ€“out by existentially quantifying p,q. Defining âŠ› to implement this decision for all (a,b) yields Type(uv) = Type(u) âŠ› Type(v).

Lemma 3 (Ultimate periodicity of repeated concatenation)
Fix w and let Ï„ := Type(w). Define the sequence Ïƒ_1, Ïƒ_2, â€¦ in T by Ïƒ_z := Type(w^z). Then Ïƒ_{z+1} = Ïƒ_z âŠ› Ï„ for all z â‰¥ 1. Consequently, the sequence (Ïƒ_z) is ultimately periodic with preperiod and period at most |T|.
Proof. By Lemma 2, Ïƒ_{z+1} = Type(w^{z+1}) = Type(w^z w) = Type(w^z) âŠ› Type(w) = Ïƒ_z âŠ› Ï„. Since T is finite, the sequence must revisit a previous value within at most |T| steps, after which it evolves deterministically with fixed period â‰¤ |T|.

Corollary 4 (Finite bound for the bridging (F2) check)
Let â„“ := |T|. Fix a context (w_1, S, w_2) with |S| = 2 and a forced output assignment s âˆˆ Î£_out^2 on S. For each z â‰¥ 1, consider the path w_1^z S w_2^z with S fixed to s, and let P(z) be the predicate â€œthere exists a legal completion of outputs on w_1^z and w_2^z consistent with s.â€ Then P(z) depends only on the pair (Type(w_1^z), Type(w_2^z)). Moreover, it suffices to check P(z) for 1 â‰¤ z â‰¤ Z with Z â‰¤ â„“^2; if all these hold then P(z) holds for all z â‰¥ 1.
Proof. For fixed s, feasibility is determined by whether there exist outputs on the two boundary nodes adjacent to S on each side such that the two segments extend and Coutâ€“out holds across the two adjacencies touching S; this depends only on Type(w_1^z) and Type(w_2^z). By Lemma 3, each of the two type sequences is ultimately periodic with preperiod and period â‰¤ â„“. Hence the pair sequence (Type(w_1^z), Type(w_2^z)) takes values in a set of size â‰¤ â„“^2 and is ultimately periodic. If P(z) holds for one full traversal of the distinct pairs (which occurs within the first â„“^2 indices), it holds for all subsequent z.

Theorem 5 (DP for extension on a partially labeled path)
Given a path of length k with a fixed input string and some outputs preassigned on a subset of nodes, there is an O(k Î²^2) time algorithm that decides whether the outputs can be completed to a legal labeling.
Proof. Construct a layered graph with k layers, each layerâ€™s vertices being the output symbols allowed at that node by Cinâ€“out and any preassignment. Add a directed edge from y at layer i to yâ€² at layer i+1 iff (y, yâ€²) âˆˆ Coutâ€“out. There exists a legal completion iff there is a path from some vertex in layer 1 to some vertex in layer k. The graph has O(k Î²) vertices and O(k Î²^2) edges; reachability is decidable in O(k Î²^2).

Remarks
- The bounds above are not tight (e.g., the â„“^2 bound in Corollary 4 can be improved using lcm of periods), but they suffice for verification in exponential time in Î². They also isolate exactly where only the types matter (composition and periodicity), which is crucial for hardness reductions that aim to make (F2) vacuous and focus on (F1).

