{"progress_md":"Round 0005 — Parametric radius-1 rule schemas made DP-ready (B=2 instance blueprint) and locality checks consolidated\n\nContext and objective\n- We are proving NEXPTIME-hardness of the β-normalized, radius-1 classification on oriented paths by reducing Succinct 3-Coloring to Feasible-Function Existence (F1). The verifier asked for fully local, radius-1 rule schemas that (i) separate 2^B vertex types via per-bit boundary probes, (ii) realize per-side color gating and mixed-pair vacuity, and (iii) implement an active seam with a local verdict enforcing both EDGE=1 ⇒ color-inequality and Eq=1 ⇒ color-equality. We adopt the directional-token activation to keep mixed pairs unconditional and must-color only in active-active pairs. Below I spell out parametric Cout–out rule schemas and instantiate a B=2 DP-auditable skeleton.\n\nGaps spotted in output.md (minor; no edits)\n- None new. The parenthetical “interior inputs may be arbitrary; if the model fixes interior inputs, the definition is with respect to those fixed inputs” is present; we rely on the fixed-interior-inputs interpretation. The finite-Z bound Z ≤ |T|^2 is already recorded (Corollary 4).\n\nSymbols, roles, and disjoint subalphabets (budget discipline)\n- We keep disjoint role subalphabets so sizes add, not multiply. Output symbols encode: Role ∈ {S, GATE_L, GATE_R, PORT, PROBE, PAD, RUN, VERD, ERR}, color ∈ {⊥,R,G,B} used only when Role=S, PORT-fields Addr∈{1,…,B}, RIDbit∈{0,1}, probehead ∈ {None, Start_j, Head_j, Test_j, Accept_j}, tokens Tok→,Tok←∈{0,1} present only on RUN/PAD in the bridge, verdict fields (EDGE,Eq,FwdCol) present only when Role=VERD. Cin–out ties RIDbit to Σ_in for Role=PORT and is otherwise permissive.\n\nA. Per-bit boundary probe — parametric Cout–out schema (Type-Separation)\nSetup\n- Reserve B boundary-output 4-tuples Q_j, j∈[B]. We use only the left pair (positions 1,2) actively; the right pair is a neutral terminator (RB_pad2,RB_pad1). Fix a boundary-input 4-tuple a⋆.\nCanonical left block W_L(u)\n- Adjacent to S on its right: a contiguous PORT zone of length B with symbols Port(k,b) (Role=PORT, Addr=k, RIDbit=b=u_k). The remainder is PAD/HEAD as filler; RUN is absent unless the seam is active. Addr increases strictly left→right; the PORT zone abuts S.\nAllowed Cout–out pairs (all unlisted pairs disallowed)\n- Boundary injection and uniqueness:\n  • (QL1_j, QL2_j) is allowed for each j; for any i≠j, (QL1_i, QL2_j) is disallowed.\n  • (QL2_j, Start_j) is allowed; for any x ≠ Start_j, (QL2_j, x) is disallowed.\n- Deterministic march (no error/⊥ escape while probing):\n  • (Start_j, Head_j) is allowed; no other successor from Start_j.\n  • For any non-PORT role y∈{PAD,HEAD}, (Head_j, Head_j@y) is allowed; pairs (Head_j, ERR_•), (Head_j, ⊥@S), and (Head_j, any non-probehead) are disallowed.\n- PORT scan and test at Addr:\n  • For k≠j, (Head_j, Head_j@Port(k,b)) is allowed (pass-through over wrong address).\n  • For k=j and RIDbit=b:\n    – If b=1: (Head_j, Test_j@Port(j,1)) is allowed, then (Test_j@Port(j,1), Accept_j) is allowed.\n    – If b=0: no outgoing pair from Head_j into Port(j,0) (dead end).\n- Accept exit:\n  • (Accept_j, PAD) is allowed; while probehead∈{Start_j,Head_j,Test_j,Accept_j} appears on either endpoint of an edge, no pair with ERR_• nor ⊥ is listed.\n- PORT well-formedness (static, local): within the zone, only pairs (Port(k,b), Port(k+1,b′)) are allowed; no skips, no reordering. The left neighbor of Port(1,·) must be S (or the seam’s right S when mirrored).\nClaim TS (per-bit separation)\n- For any canonical L(u) and the boundary assignment (QL1_j, QL2_j, RB_pad2, RB_pad1), the DP has a legal completion iff u_j=1. Proof: the only possible evolution is the deterministic pipeline above; it reaches Port(j,·) and accepts iff RIDbit=1; no alternative paths or error-plumbing exist during the probe.\n\nB. Per-side gating, directional tokens, and mixed pairs\nPer-side gating (local, independent across sides)\n- The interior neighbor of S is GATE_L (left side) iff a canonical left block starts there; otherwise PAD/HEAD. Allowed S-adjacent pairs:\n  • If neighbor∈{PAD,HEAD}, then only (neighbor, S_⊥) is allowed.\n  • If neighbor=GATE_L, then (GATE_L, S_c) is allowed for c∈{R,G,B,⊥}. Symmetrically on the right side with GATE_R.\nDirectional tokens (purely local activation)\n- Seeding:\n  • If the cell to the right of S1 is GATE_L and S1∈{R,G,B}, then (S1_c, Tok→=1@RUN) is allowed; otherwise only (S1_token, Tok→=0@PAD/RUN) is allowed.\n  • If the cell to the left of S2 is GATE_R and S2∈{R,G,B}, then (Tok←=1@RUN, S2_c) is allowed; otherwise only (Tok←=0@PAD/RUN, S2_token) is allowed.\n- Propagation:\n  • Along the bridge, only (Tok→=1, Tok→=1) and (Tok→=0, Tok→=0) pairs are listed left→right; similarly (Tok←=1, Tok←=1) and (Tok←=0, Tok←=0) right→left. No pair can spontaneously create a 1 from 0.\nMust-color and mixed-pair fallback (enforced locally at S)\n- At S1, adjacency to the right neighbor obeys:\n  • If neighbor carries Tok→=1: pairs (S1_⊥, neighbor) are disallowed; S1 must be colored and must attach to RUN (or VERD, see below); (S1_c, PAD) is disallowed to prevent neutral fallback in active mode.\n  • If neighbor carries Tok→=0: both (S1_⊥, neighbor) and (S1_c, PAD) are allowed (fallback); no activation of RUN.\n- Symmetrically at S2 with Tok←.\nConsequences\n- In mixed pairs (exactly one canonical side), exactly one token is present near S; the colored side is permitted (by GATE_*), the opposite side must be ⊥, and the seam cannot activate (since the opposite-direction token is 0). Neutral PAD-plumbing accepts.\n- In active-active pairs, both tokens are 1; locally at S we forbid ⊥ and forbid attaching to neutral neighbors, forcing RUN activation and a verdict neighbor.\n\nC. Seam tableau and verdict adjacency (local enforcement of EDGE and Eq)\nVerdict interface (radius-1, small)\n- The immediate neighbor to the right of S2 may be VERD(e,q,cFwd) only when both tokens are 1 (RUN active) and after the RUN corridor has stabilized; ERR is disallowed adjacent to RUN/VERD in active mode.\n- Allowed S2–VERD pairs implement the conjunction:\n  • If e=1 (edge), then Color(S2) ≠ cFwd (forbid equal-color pairs); if e=0, both equal and unequal allowed.\n  • If q=1 (same index), then Color(S2) = cFwd (forbid unequal-color pairs); if q=0, both equal and unequal allowed.\n- This yields acceptance iff (e=0 or colors differ) and (q=0 or colors equal). We ensure D(u,u)=0 so e∧q never conflicts.\nComputation of (EDGE,Eq,FwdCol)\n- RUN carries: (i) a one-cell forwarder that copies S1’s color into cFwd (checked by local equality along the corridor), (ii) a fixed-width, row-by-row computation of EDGE=D(u,v) and Eq=[u=v] from the nearby PORT bits, enforced by local row-consistency pairs. In DP-auditable B=2 we tabulate a 4×4 truth table for D and Eq and materialize VERD accordingly.\n\nD. B=2 explicit skeleton (sufficient for DP audit)\nAlphabet sketch (names are individual Σ_out symbols; roles are disjoint)\n- S: S_R, S_G, S_B, S_⊥.\n- Gating: GATE_L, GATE_R.\n- PORT: P1^0, P1^1, P2^0, P2^1.\n- Probe states: Start_1, Head_1, Test_1, Accept_1, Start_2, Head_2, Test_2, Accept_2.\n- Boundary tokens: QL1_1, QL2_1, QL1_2, QL2_2, RB2_pad, RB1_pad.\n- Tokens on bridge: Tok00, Tok10, Tok01, Tok11 encoding (Tok→,Tok←)∈{0,1}^2.\n- RUN (constant small alphabet) and VERD(e,q,c) for e,q∈{0,1}, c∈{R,G,B}.\nCin–out (radius-0 constraints)\n- For PORT symbols: Cin–out allows Pj^b only when Σ_in bit at that node equals b. For all other roles, both input bits are allowed.\nCout–out: key allowed pairs (representative list sufficient for DP harness)\n- Probe (j=1): (QL1_1, QL2_1), (QL2_1, Start_1), (Start_1, Head_1), (Head_1, Head_1) over PAD/HEAD, (Head_1, Head_1) over P2^b, (Head_1, Test_1) over P1^1, (Test_1, Accept_1), (Accept_1, PAD). For j=2 swap P1↔P2 in the test pair.\n- PORT contiguity: (P1^b, P2^{b′}) allowed; no other PORT–PORT pair.\n- Gating: (GATE_L, S_c) for c∈{R,G,B,⊥}; (PAD, S_⊥) and (HEAD, S_⊥) only; similarly on the right with GATE_R.\n- Token seeding/propagation (bridge cells immediately inside S): (S_c, Tok10) allowed iff neighbor is right of S1 and S1 is adjacent to GATE_L; otherwise only (S_token, Tok00). Along the bridge, (Tok10, Tok10), (Tok00, Tok00) left→right; symmetrically right→left for Tok←, combining into Tok00, Tok10, Tok01, Tok11.\n- Must-color: if neighbor of S has Tok←=1 (i.e., Tok01 or Tok11), pairs (S2_⊥, Tok•) are disallowed; if Tok←=0 (Tok00 or Tok10), both (S2_⊥, Tok•) and (S2_c, PAD) are allowed. Symmetric rule at S1 with Tok→.\n- Verdict adjacency (explicit): for each e,q,cFwd and color d∈{R,G,B}, allow (S2_d, VERD(e,q,cFwd)) iff [(e=1 ⇒ d≠cFwd) and (q=1 ⇒ d=cFwd)]. For example, disallow (S2_R, VERD(1,0,R)), allow (S2_G, VERD(1,0,R)); disallow (S2_G, VERD(0,1,R)), allow (S2_R, VERD(0,1,R)). When Tok←=0, VERD never appears (RUN inactive), and neutral PAD neighbors are allowed.\n- ERR disabled near PROBE/RUN/VERD: no pairs with ERR on either endpoint adjacent to any of Start_j, Head_j, Test_j, Accept_j, RUN, or VERD.\nDP checks to run (auditable)\n- TS: For four L(u) with u∈{00,01,10,11}, and the pair (QL1_1,QL2_1) on the left and (RB2_pad,RB1_pad) on the right, verify by O(kβ^2) DP that acceptance equals u_1; similarly QL1_2,QL2_2 yields u_2.\n- Seam: Fix a toy D on 4 vertices (e.g., a 4-cycle) and Eq=[u=v]. Ensure RUN places VERD(e,q,·) and S2–VERD adjacency enforces: (i) if D(u,v)=1, only unequal colors pass; (ii) if u=v, only equal colors pass; (iii) mixed pairs accept regardless of the colored canonical side’s choice on S (the opposite side must be ⊥ by gating).\n\nE. Why the rules are local, deterministic where needed, and budget-feasible\n- Probe determinism: Reserved boundary pairs Q_j force Start_j uniquely; Head_j has a single successor on every edge; at Addr=j the only way forward depends on RIDbit; ERR/⊥ are not allowed adjacent to probe states. Hence E_{L(u)}(a⋆)[Q_j]=u_j.\n- Mixed-pair vacuity and must-color: The opposite-direction token locally indicates whether the seam is active; only when it is 1 do we (i) forbid ⊥ at S and (ii) forbid attaching to neutral PAD; otherwise all fallbacks are allowed.\n- Verdict locality: All semantic checks reduce to S2↔VERD adjacency; the forward color is carried explicitly; EDGE and Eq are pinned by the local RUN-to-VERD interface.\n- Budget: With disjoint roles, symbols scale as O(B) (PORT and probe states) plus O(1) for others; the Cout–out table uses O(B^2) entries for (Head_j ↔ Port(k,·)) and O(β) elsewhere. Choose β ≥ c·B^2 to leave slack.\n\nF. Obstacles and how addressed\n- Token spurious creation: Prevented by listing only (Tok0→Tok0) and (Tok1→Tok1) along the corridor, with seeding tied to GATE_* adjacency; no rule lists 0→1 without a gate.\n- Probe escape: All pairs with ERR/⊥ adjacent to probe states are omitted; Start/Head/Test/Accept have unique successors.\n- Seam mis-activation: Only the presence of the opposite-direction token adjacent to S forbids ⊥ and neutral neighbors; there is no cross-seam dependence beyond immediate neighbors.\n- Length normalization: We still rely on pumping/replacement to realize canonical W_L(u), W_R(v) at lengths ℓ_pump or ℓ_pump+1 with the PORT zone abutting S; we will supply a short, r=1 specialization of Lemmas 11–15 to make this self-contained.\n\nG. Next steps (concrete, auditable)\n1) Produce a machine-readable B=2 instance: enumerate Σ_out symbols as listed; provide Cin–out (PORT bit-tying) and Cout–out pairs exactly as above (including the explicit S2–VERD table and probe pairs). Run the O(kβ^2) DP to verify TS and the mixed/active seam behavior on all 16 ordered pairs (L(u), R(v)).\n2) Fill in the RUN-to-VERD micro-tableau for B=2: a finite, row-by-row transition system that reads u,v from the two-port zones and writes VERD(e,q,cFwd) adjacent to S2; ensure ERR is disallowed near RUN in active mode.\n3) Generalize token and probe tables from B=2 to arbitrary B (the only growth is the set {Start_j,Head_j,Test_j,Accept_j} and the PORT addresses).\n4) Write a short r=1 padding lemma: “For each u, there exist left/right contexts of lengths in {ℓ_pump,ℓ_pump+1} with the same near-S structure (HEAD+PORT) and the same type near S,” by pumping PAD and applying Lemma 11 (replacement) to preserve type at the seam.\n5) After B=2 validation, promote Lemmas TS (probe separation), RG (gating+tokens), and SG (seam verdict) into the curated output.\n\nH. Minimal claims ready for DP audit (summarized)\n- TS: Under the boundary 4-tuples (QL1_j,QL2_j,RB2_pad,RB1_pad), E_{L(u)}(a⋆)[·] equals u_j. Distinct u give distinct left-types; mirrored on the right.\n- Mixed pairs accept unconditionally: exactly one token present ⇒ S-side with 0 allows ⊥ and neutral fallback; no RUN/VERD appears.\n- Active-active: both tokens present ⇒ must-color; S2↔VERD adjacency enforces simultaneously EDGE and Eq constraints; ERR is disallowed near RUN/VERD.\nThese are all checkable by the O(kβ^2) DP once the above symbol list and pair tables are instantiated.\n"}