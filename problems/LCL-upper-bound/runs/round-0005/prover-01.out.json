{
  "progress_md": "Status check and gaps in output.md\n- Present: rigorous r=1 primitives: Ext-tables, k_flag, append-one-bit DP (including k=1\u21922, 2\u21923, 3\u21924), congruence under append, Ext-level concatenation (for k_flag\u22654), an O(\u03b2^6) concatenation routine, a counterexample to R-composition, \u03b4 well-defined and BFS enumeration, Type-count bound |T| \u2264 4\u00b72^{\u03b2^4}, and a reversal operator.\n- Missing: (A) A pumping bound \u2113_pump and the associated type-level pumping lemmas (they are implicitly used but not stated). (B) Stage-1 trichotomy step: a precise type-level feasible-function theorem (o(n) iff a feasible f exists) specialized to oriented paths using only Ext. (C) Stage-2 trichotomy step: a constant-round construction from per-type boundary interfaces Q_\u03c4 with complete, oriented-path-specific partition argument. (D) Associativity of Ext-level concatenation (useful for sanity checks and caching). (E) Clarification that Stage-1/2 quantification ranges over long types T_long := {\u03c4 : k_flag(\u03c4)=\u22654}, which matches the pumping-based constructions.\n\nAdditions proposed (statements, why useful, proof sketches)\n\n1) Type-level pumping (define \u2113_pump and two pumping lemmas)\n- Definition. Let T be the set of reachable types computed by Proposition 9, and \u03b4: T\u00d7{0,1}\u2192T the append successor. Define \u2113_pump := |T|. Let run(s) be the \u03b4-trajectory when reading s left-to-right from an initial length-1 seed type.\n- Lemma P1 (prefix pumping). For any input string w with |w| \u2265 \u2113_pump, there exist a decomposition w = x y z with 1 \u2264 |y| \u2264 \u2113_pump and |x y| \u2264 \u2113_pump such that for all i \u2265 0, Type(x y^i z) is constant (independent of i). Why useful: Enables length normalization of contexts to [\u2113_pump, \u2113_pump+1] and underpins the o(n)\u21d2feasible f construction.\n  Proof sketch. Along the first \u2113_pump states of the \u03b4-run there is a repetition by pigeonhole, say after positions i<j\u2264\u2113_pump with the same type. Let y := w[i+1..j], and x,z be the corresponding prefix/suffix. Since \u03b4 is a DFA on Types (Proposition 9) and congruence holds (Proposition 3), repeating y preserves the final Type.\n- Lemma P2 (periodic pumping). For any nonempty u there exist a,b with a+b \u2264 \u2113_pump such that Type(u^{a+bi}) is invariant for all i\u22650. Why useful: Allows injecting arbitrarily long repeated contexts of the same Type (used to space out separators in the two-stage constructions). Proof sketch. Run \u03b4 on u,u^2,\u2026; within \u2113_pump+1 steps two Types repeat, say after exponents a and a+b; then \u03b4-closure yields Type(u^{a+bi}) fixed.\n\n2) Ext-level concatenation for all k_flags\n- Lemma C (general concatenation). For any P,Q (no restriction on k_flag) and B=P\u00b7Q, for all (o1,o2,o3\u2032,o4\u2032),\n  (o1,o2,o3\u2032,o4\u2032)\u2208Ext_B iff \u2203 x3,x4,x1\u2032,x2\u2032: (o1,o2,x3,x4)\u2208Ext_P, (x1\u2032,x2\u2032,o3\u2032,o4\u2032)\u2208Ext_Q, and E(x4,x1\u2032).\n  Why useful: Allows concatenation in verifiers even if a few short types appear (e.g., when S is short), and simplifies uniform API. Proof sketch. Identical to Lemma 2; coordinate equalities when k_flag<4 are harmless because the boundary map B_k is definitional.\n- Lemma A (associativity). For any P,Q,R, Ext_{(P\u00b7Q)\u00b7R} = Ext_{P\u00b7(Q\u00b7R)}. Why useful: sanity check and enables memoization policies independent of parenthesization. Proof sketch. Expand both sides with Lemma C: both characterize the set of boundary quadruples admitting witnesses (x3,x4,x1\u2032,x2\u2032) at the first seam and (y3,y4,y1\u2032,y2\u2032) at the second seam with E-seam constraints; the conjunctions are equivalent by rebracketing witnesses.\n\n3) Stage-1 (\u03a9(n) vs o(n)) \u2014 feasible f theorem at the type level\n- Definition (domain restriction to long types). Let T_long := {\u03c4\u2208T : k_flag(\u03c4)=\u22654}. Define f: T_long \u00d7 {0,1}^2 \u00d7 T_long \u2192 \u03a3_out^2. For each (\u03c4_L,s,\u03c4_R), f(\u00b7)=(\u03b11,\u03b12) must satisfy \u03b1i\u2208A_{s[i]} and E(\u03b11,\u03b12).\n- Verification condition (Ext-based). For all \u03c4_b,\u03c4_c\u2208T_long and s1,s2\u2208{0,1}^2 and all \u03c4_a,\u03c4_d\u2208T_long (these only affect \u03b1_L,\u03b1_R), let \u03b1_L := second output of f(\u03c4_a,s1,\u03c4_b) and \u03b1_R := first output of f(\u03c4_c,s2,\u03c4_d). Require \u2203(o1,o2,o3,o4)\u2208Ext_{\u03c4_b \u2299 \u03c4_c} with E(\u03b1_L,o1) and E(o4,\u03b1_R). Here \u2299 is Ext-concatenation on long types.\n- Theorem S1 (equivalence). An r=1, \u03b2-normalized LCL on globally oriented paths has deterministic complexity o(n) iff a feasible f as above exists. Why useful: This cleanly separates \u03a9(n) from o(n) and is implementable in NEXPTIME using only T_long and Ext.\n  Proof sketch (\u21d2). Given an o(n)-round algorithm A, fix n large and choose s\u226bT(n) so that A\u2019s runtime on n-node instances is <0.1s. For any w\u2208{0,1}^{1..\u2113_pump}, choose w^+ with Type(w^+)=Type(w) and |w^+|\u2208[s,s+\u2113_pump] (Lemma P1). For any tuple (\u03c4_L,s,\u03c4_R) with long \u03c4_L,\u03c4_R, pick representatives w_L^+,w_R^+ realizing \u03c4_L,\u03c4_R and define f(\u03c4_L,s,\u03c4_R) as A\u2019s output on the 2-node window S when run on the pumped path w_L^+ \u00b7 S \u00b7 w_R^+ with arbitrary distinct IDs consistent inside the 0.1s halos. To verify feasibility, consider any adjacent separators (S1 next to \u03c4_b) and (S2 next to \u03c4_c). Build a cycle G\u2032 by concatenating w_a^+, S1, w_b^+, w_c^+, S2, w_d^+, and run A; legality implies the existence of a labeling of the middle w_b^+\u00b7w_c^+ consistent with \u03b1_L,\u03b1_R. By Lemma 11 and Lemma C, the boundary witness lives in Ext_{\u03c4_b\u2299\u03c4_c}, yielding the required (o1,o2,o3,o4). (\u21d0). Given f, place separators in O(log* n) rounds with spacing K\u2273\u2113_pump using a standard MIS on the directed path. Label each separator\u2019s 2 nodes by f(\u00b7), producing boundary colors \u03b1_L,\u03b1_R on either side of each middle block. For a middle block with long type \u03c4_b\u2299\u03c4_c, the Ext-witness in Ext_{\u03c4_b\u2299\u03c4_c} provides a legal completion consistent with the seams. This yields an O(log* n) algorithm. The construction does not need reversals on globally oriented paths.\n- NEXPTIME verification. Deterministically compute T_long and Ext_{\u03c4\u2299\u03c3} for all \u03c4,\u03c3\u2208T_long (Proposition 5). Nondeterministically guess f; verify all constraints by membership tests in Ext_{\u03c4\u2299\u03c3} and E. The number of checks is |T_long|^4\u00b74; total time 2^{poly(\u03b2)}.\n\n4) Stage-2 (O(1) vs \u03a9(log* n)) \u2014 per-type boundary interfaces and constant-round construction\n- Witness. For each \u03c4\u2208T_long, guess Q_\u03c4=(L1_\u03c4,L2_\u03c4,R2_\u03c4,R1_\u03c4)\u2208Ext_\u03c4.\n- Checks.\n  (a) Tiling per \u03c4: E(L1_\u03c4,L2_\u03c4), E(R2_\u03c4,R1_\u03c4), and wrap E(R1_\u03c4,L1_\u03c4) (so copies of \u03c4 can be tiled). Already implied by Ext_\u03c4 computed from legal colorings, but we keep the explicit checks.\n  (b) Universal bridging: For all \u03c4_left,\u03c4_S,\u03c4_right with \u03c4_left,\u03c4_right\u2208T_long and \u03c4_S arbitrary (short or long), require \u2203(o1,o2,o3,o4)\u2208Ext_{\u03c4_S} with E(R1_{\u03c4_left},o1) and E(o4,L1_{\u03c4_right}). For \u03c4_S empty, this reduces to E(R1_{\u03c4_left},L1_{\u03c4_right}). Use Lemma C to allow short \u03c4_S.\n- Theorem S2 (construction). If such {Q_\u03c4} exist, there is an O(1)-round deterministic algorithm on globally oriented paths. Why useful: Cleanly separates O(1) from \u0398(log* n) and yields a verifiable certificate of constant-time solvability.\n  Proof sketch. In O(1) rounds, compute a partition into \u201clong periodic\u201d and \u201cshort/irregular\u201d subpaths with parameters (\u2113_width,\u2113_count,\u2113_pattern) := (\u2113_pump,2\u2113_pump+2,\u2113_pump); for oriented paths, a specialization of Lemma 22 suffices (orientation is given). On each long periodic block P with primitive pattern of length \u2264\u2113_pump and length \u2265\u2113_count, its type \u03c4 is long; tile P by repeats of \u03c4 using E(R1_\u03c4,L1_\u03c4); interior legality follows from Q_\u03c4\u2208Ext_\u03c4. Each short/irregular separator S (any k_flag) is filled using the existential witness from Ext_{\u03c4_S} to attach to the adjacent long blocks\u2019 boundary colors, by (b). Endpoints require no special handling on oriented paths. Runtime is O(1) as all decisions take radius O(\u2113_pump).\n- NEXPTIME verification. Guess {Q_\u03c4} over T_long. Compute Ext tables once. Verify (a) per \u03c4 and (b) for all triples (\u03c4_left,\u03c4_S,\u03c4_right), using Ext_{\u03c4_S} and E. Number of checks is |T_long| + |T_long|^2\u00b7|T| = 2^{poly(\u03b2)}; each check is polynomial in \u03b2.\n\n5) Implementation-level refinements for verifiers\n- Restricting to long types. Both Stage-1 and Stage-2 certificates and universal checks can safely limit \u03c4 ranging over T_long on the left/right contexts. Middle \u03c4_S in Stage-2 may be any type; Lemma C covers short \u03c4_S.\n- Precomputation plan. Compute T (BFS), split T_long and T_short. Precompute Left_\u03c4 and Right_\u03c4 for \u03c4\u2208T (for Stage-2 we need short \u03c4 too). Materialize Ext_{\u03c4\u2299\u03c3} for \u03c4,\u03c3\u2208T_long using Proposition 5. Cache membership queries for Ext_{\u03c4_S} via hash/table lookups.\n\n6) Extra sanity: small lemmas and examples\n- Lemma M (nonemptiness monotonicity under concatenation). If Ext_P and Ext_Q are nonempty and there exists at least one seam pair (x4,x1\u2032) with E(x4,x1\u2032), then Ext_{P\u00b7Q} is nonempty. Why useful: quick diagnostics when pruning infeasible candidates. Proof sketch. Choose any quadruples realizing x4 and x1\u2032; then Lemma C yields a witness.\n- Example (proper 2-coloring on oriented paths). \u03a3_out={a,b}, A_0=A_1={a,b}, E forbids equal neighbors. Stage-1 admits feasible f (log* algorithm exists); Stage-2 fails (cannot have wrap E(R1_\u03c4,L1_\u03c4) for a single \u03c4), so the verifier classifies \u0398(log* n).\n- Example (constant label). If \u2203c with (c,c)\u2208E and c\u2208A_0\u2229A_1, set f constant and Q_\u03c4=(c,c,c,c); both stages accept (O(1)).\n\nComplexity recap (unchanged asymptotically)\n- Precomputation: |T| \u2264 4\u00b72^{\u03b2^4}. BFS and Ext tables in 2^{poly(\u03b2)} time/space.\n- Stage-1: guess f over T_long\u00d7{0,1}^2\u00d7T_long; verify O(|T_long|^4) constraints using Ext_{\u00b7\u2299\u00b7} in O(1) each \u2192 2^{poly(\u03b2)}.\n- Stage-2: guess Q_\u03c4 over T_long; verify per-type tiling and |T_long|^2\u00b7|T| bridging constraints \u2192 2^{poly(\u03b2)}.\n\nObstacles and pitfalls addressed\n- Short types in concatenation: handled by Lemma C; Stage-1 still quantifies only over long contexts (as in the pumping-based definition).\n- Seam indexing: clarified that seams meet o1 on the left and o4 on the right under the (L1,L2,R2,R1) convention.\n- MIS/orientation: On globally oriented paths, no reversal and the standard O(log* n) MIS suffices for Stage-1\u2019s construction; Stage-2 uses a constant-radius partition specialized to oriented paths (orientation is already globally consistent).\n\nNext concrete steps\n- Integrate Lemmas P1, P2, C, A, M and the theorems S1, S2 into output.md with concise proofs (as above). Explicitly define \u2113_pump := |T| and note it is computable in 2^{poly(\u03b2)}.\n- Amend Stage-1/2 verifier specs in outputs to quantify over T_long for the left/right contexts and to use Ext_{\u03c4_S} for arbitrary \u03c4_S in Stage-2 bridging.\n- Provide a short appendix with the MIS-based O(log* n) separator placement and the constant-radius partition for oriented paths (parameters and radii explicitly spelled out).\n- Add a tiny regression suite (\u03b2\u2208{2,3}) to test: (i) pumping decomposition found via \u03b4; (ii) associativity of Ext-concatenation on random instances; (iii) Stage-1 acceptance on trivial/all-allowed LCL; (iv) Stage-2 rejection on proper 2-coloring.\n"
}