{
  "progress_md": "Round 0009 \u2014 Endpoint-correct Stage-1 for paths, audits, and verifiable fixes\n\nStatus and quick audit of output.md\n- What is solid: r=1 primitives (append DP with k-flag, corrected base cases k=1\u21922, 3\u21924; concatenation; associativity; congruence), type enumeration and |T| bound; pumping lemmas; Out-set version of feasible f over T_long; optimized append O(\u03b2^4); seam-feasibility matrices W; endpoint projections RightColors/LeftColors and endpoint seam matrices V_left,V_right with Lemma E1.\n- Main gap (explicitly acknowledged): Stage-1 equivalence on oriented paths is \u201cpending endpoint treatment.\u201d As written, there is no coupling between the endpoint-adjacent separator\u2019s open seam color and the Out-sets of the interior feasible function; this can admit false positives.\n- Minor editorial/numbering issues to flag: (i) There are two different \u201cProposition 6\u201d items (base k=1\u21922 and k_flag=1 update as 6A) and also \u201cProposition 6B\u201d (k=2\u21923), which is confusing; consider renumbering. (ii) Both Lemma 2 (k_flag\u22654) and Lemma 11 (all k_flag) state concatenation; Lemma 11 subsumes Lemma 2\u2014either keep both with a note or refer to Lemma 11 uniformly. (iii) Proposition 9 still quotes O(\u03b2^5) per append in the long regime; Proposition 19 improves this to O(\u03b2^4), so the preprocessing bound can be tightened accordingly.\n\nProblem and minimal counterexample (why the current endpoint certificate is insufficient)\n- Obstruction template: Fix a long type \u03c4_b and an input s such that OutR2(\u03c4_b,s) = {\u03b1}. Suppose W_{b\u2299c}[\u03b1][\u00b7] admits all right seams induced by f on the next separator. If an endpoint witness g_L(\u03c4_end,s) outputs (\u03b21,\u03b22) with \u03b22 \u2260 \u03b1 but V_left[\u03c4_end][\u03b21]=true, the current checks pass but the fill of the block between this separator and the next separator (colored by f) may fail, as there may be no (o1,o2,o3,o4) \u2208 Ext_{\u03c4_b \u2299 \u03c4_c} with E(\u03b22,o1). Hence the endpoint separator must be aligned with the interior Out-sets.\n\nClaim (corrected endpoint-aware Stage-1 certificate for oriented paths)\n- Augmented endpoint witnesses aligned to Out-sets:\n  \u2022 g_L: T \u00d7 {0,1}^2 \u00d7 T_long \u2192 \u03a3_out^2. For g_L(\u03c4_end,s,\u03c4_b)=(\u03b21,\u03b22) require: (i) \u03b2i\u2208A_{s[i]} and E(\u03b21,\u03b22); (ii) V_left[\u03c4_end][\u03b21]=true; (iii) \u03b22 \u2208 OutR2(\u03c4_b,s).\n  \u2022 g_R: T_long \u00d7 {0,1}^2 \u00d7 T \u2192 \u03a3_out^2. For g_R(\u03c4_c,s,\u03c4_end)=(\u03b21,\u03b22) require: (i) \u03b2i\u2208A_{s[i]} and E(\u03b21,\u03b22); (ii) V_right[\u03b22][\u03c4_end]=true; (iii) \u03b21 \u2208 OutL1(\u03c4_c,s).\n- Feasible mid-separator function f_mid: as in output.md (Out-set form over T_long), with universal extendibility checked via W_{b\u2299c}.\n- Theorem S1-path (equivalence; oriented paths). An r=1, \u03b2-normalized LCL on globally oriented paths has deterministic complexity o(n) iff there exist (f_mid,g_L,g_R) satisfying the above. Verification is in nondeterministic 2^{poly(\u03b2)} time.\n\nProof sketch (auditable pieces)\n- (\u21d2) Existence. Given an o(n)-round algorithm A:\n  \u2022 f_mid: As in output.md (cycle gadget + pumping). Well-definedness uses that we pump to length in [s,s+\u2113_pump] and choose IDs inside the <0.1s halos.\n  \u2022 g_L: For any (\u03c4_end,s,\u03c4_b), form a path consisting of a long pumped block of type \u03c4_b to the right, the 2-node separator S with input s, and a left endpoint block of type \u03c4_end; pad far outside S so A\u2019s runtime halo is contained. Set g_L(\u03c4_end,s,\u03c4_b) to A\u2019s 2-node output on S. Then: (i) node/window legality holds by correctness of A; (ii) V_left holds because the seam into \u03c4_end is satisfied in A\u2019s run; (iii) alignment \u03b22\u2208OutR2(\u03c4_b,s) holds by construction since S\u2019s right output was produced in a context of type \u03c4_b, i.e., it is one of the attained second outputs for \u03c4_b under f_mid with input s. Define g_R symmetrically.\n- (\u21d0) Construction of an O(log* n) algorithm.\n  \u2022 Place separators by an MIS on the K-th power of the directed path in O(log* n) rounds with K := \u2113_pump+4. Standard properties ensure that the distance between neighboring separators is in [K,2K], and that the long contexts abutting each interior side are T_long.\n  \u2022 Label interior separators by f_mid (using local s and adjacent long types \u03c4_b,\u03c4_c). Use the precomputed matrix W_{b\u2299c} to fill each interior middle block between two separators by choosing a witness in Ext_{\u03c4_b\u2299\u03c4_c} consistent with the seams.\n  \u2022 Endpoints: Let S_left be the unique separator adjacent to the left end. Compute \u03c4_end (type of the left end-block) and \u03c4_b (long type on S_left\u2019s right). Color S_left by g_L(\u03c4_end,s,\u03c4_b). By V_left there is (o1,o2,o3,o4)\u2208Ext_{\u03c4_end} with E(o4,\u03b21), so we fill the endpoint block. For the block between S_left and the nearest interior separator S2, by (iii) the outward seam color \u03b22 is in OutR2(\u03c4_b,s), while the left seam color from S2 lies in OutL1(\u03c4_c,s2). Hence W_{b\u2299c}[\u03b22][\u03b1_R] is true and the block is fillable via Ext_{\u03c4_b\u2299\u03c4_c}. Do the right end symmetrically with g_R. Runtime is O(log* n); all fillings are constant-radius lookups in precomputed tables.\n\nNEXPTIME verification details\n- Precompute deterministically in 2^{poly(\u03b2)} time:\n  \u2022 T, T_long via BFS (Prop. 9) and Ext_\u03c4 for \u03c4\u2208T; use Prop. 19 to implement k_flag\u22654 appends in O(\u03b2^4).\n  \u2022 Ext_{\u03c4_b\u2299\u03c4_c} for \u03c4_b,\u03c4_c\u2208T_long via Prop. 5, and W_{b\u2299c}.\n  \u2022 V_left, V_right from endpoint projections (as in output.md).\n  \u2022 OutR2(\u03c4_b,s), OutL1(\u03c4_c,s) sets from f_mid.\n- Guess f_mid, g_L, g_R. Verify:\n  \u2022 For all entries: node legality and E on the 2-node window.\n  \u2022 f_mid universal extendibility via W_{b\u2299c} (Out-set form; Lemma 20).\n  \u2022 g_L: V_left[\u03c4_end][\u03b21]=true and \u03b22 \u2208 OutR2(\u03c4_b,s). g_R: V_right[\u03b22][\u03c4_end]=true and \u03b21 \u2208 OutL1(\u03c4_c,s).\n- All checks are constant-time table lookups; total number of cases is |T_long|^2\u00b74 for f_mid and (|T|\u00b7|T_long|)\u00b74 for each endpoint map; overall time 2^{poly(\u03b2)}.\n\nSmall example illustrating necessity of alignment\n- Let \u03a3_out={a,b}, A_0=A_1=\u03a3_out, and E contains only edges a\u2192a and b\u2192b. Suppose a feasible f_mid exists that always outputs (a,a), hence OutR2(\u03c4_b,s)={a}. Choose \u03c4_end with RightColors(\u03c4_end)={a,b}. If g_L(\u03c4_end,s) outputs (b,a), V_left holds (since E(b,b) and b\u2208RightColors(\u03c4_end)) but \u03b22=a\u2026 OK here it matches. Now flip: define f_mid that always outputs (b,b), so OutR2={b}, but g_L outputs (a,a). V_left still holds if a\u2208RightColors(\u03c4_end), yet \u03b22=a\u2209OutR2. There is no guarantee that the endpoint\u2013interior block can be completed respecting the next separator colored according to f_mid. This shows (iii) is required.\n\nAdditional small lemmas/propositions to add (self-contained)\n- Endpoint\u2013interior bridging lemma. Given \u03c4_b,\u03c4_c\u2208T_long, inputs s1,s2, and endpoint-adjacent separator colors \u03b1_L,\u03b1_R with \u03b1_L\u2208OutR2(\u03c4_b,s1), \u03b1_R\u2208OutL1(\u03c4_c,s2), there exists a completion of the intervening block consistent with both seams iff W_{b\u2299c}[\u03b1_L][\u03b1_R]=true. Proof: by definition of W_{b\u2299c}; direction \u201conly if\u201d follows by restricting any legal completion; \u201cif\u201d follows by taking the witnessing (o1,o2,o3,o4)\u2208Ext_{\u03c4_b\u2299\u03c4_c}.\n- Preprocessing remark (tightening Prop. 9). Using Prop. 19, the k_flag\u22654 append step is O(\u03b2^4), so the BFS enumeration can cite O(\u03b2^4) per transition in the long regime; short base-case transitions remain O(\u03b2^4).\n\nImplementation notes and counts\n- OutR2/OutL1 sets have size \u2264\u03b2; precompute once per (\u03c4, s). For faster Stage-1 checks, one can precompute for each (\u03c4_b,\u03c4_c,s1,s2) the \u03b2\u00d7\u03b2 mask W_{b\u2299c} and then just iterate over \u03b1_L in OutR2(\u03c4_b,s1) and \u03b1_R in OutL1(\u03c4_c,s2).\n- Endpoints: the verification size of g_L is |T|\u00b7|T_long|\u00b74 entries; g_R symmetric. Sparse E can reduce preprocessing time for W and V matrices.\n\nExplicit gaps to address in output.md\n- Integrate the corrected Stage-1 path theorem (S1-path) with (f_mid,g_L,g_R) as above, and add the (\u21d2) and (\u21d0) proofs specialized to globally oriented paths.\n- Add the endpoint\u2013interior bridging lemma stated above; it is just an unpacking of W_{b\u2299c} and will clarify the fill of the first interior block.\n- Tighten Prop. 9\u2019s complexity to use Prop. 19 (O(\u03b2^4) per long append).\n- Note that Lemma 11 subsumes Lemma 2; consider merging references.\n- Clean up numbering: avoid multiple \u201cProposition 6/6A/6B\u201d.\n\nNext steps\n- Promote S1-path into output.md with full statement and auditable proofs, together with the augmented endpoint witnesses. Update the classification logic: if Stage-1 fails, classify \u03a9(n); if Stage-1 holds but Stage-2 certificate fails, classify \u0398(log* n); if Stage-2 holds, classify O(1).\n- Prepare unit tests: (i) synthetic instances where OutR2 is singleton and g_L is misaligned; the augmented certificate must reject; (ii) equality LCL (accept both stages); (iii) proper 2-coloring (accept Stage-1, reject Stage-2).\n- Return to Stage-2: port the (\u2113_width,\u2113_count,\u2113_pattern)-partition to oriented paths with explicit parameters and a short self-contained proof, then finalize the per-type boundary interface certificate Q_\u03c4.\n"
}