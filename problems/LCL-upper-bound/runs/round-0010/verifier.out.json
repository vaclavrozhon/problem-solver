{
  "feedback_md": "Overall status: Solid progress. The Stage\u20111 path theorem is essentially in place, but a few correctness and hygiene fixes are still needed in output.md. The proposed Stage\u20112 (O(1) vs \u0398(log* n)) plan via the path\u2011feasible f0 certificate looks promising, but it depends on a constant\u2011time partition lemma that we have not yet formalized in this write\u2011up; do not add S2 to output.md yet.\n\nKey audits and fixes:\n- Contradictory remark: output.md still contains \u201cRemark (Stage\u20111 equivalence pending endpoint treatment)\u201d even though Theorem S1\u2011path later resolves endpoints. This remark should be removed to avoid contradiction.\n- Prop. 9 complexity mismatch: the main statement still says O(\u03b2^5) per long append while a later correction sets O(\u03b2^4). The definitive statement of Prop. 9 should claim O(\u03b2^4) for k_flag \u2265 4, with a pointer to Prop. 19; remove the separate \u201cCorrection to Prop. 9.\u201d\n- S1 (\u21d2) endpoint extraction hygiene: The proof currently defines g_L using w_{\u03c4_end} and pads \u201con both sides.\u201d For short \u03c4_end, w_{\u03c4_end} was never defined, and for an endpoint there is no left padding. Replace with: pick any finite P_end of Type \u03c4_end; run A on P_end \u00b7 S(s) \u00b7 w_{\u03c4_b} with right\u2011side padding only; define g_L as the output on S(s). This fixes the uninstantiated symbol and the endpoint padding issue. Symmetric for g_R.\n- Minor but useful: add a one\u2011line Lemma E3 rephrasing the universal extendibility check as the inclusion OutR2(\u03c4_b,s1) \u00d7 OutL1(\u03c4_c,s2) \u2286 W_{b\u2299c}, which follows from Lemma E2. This both clarifies and simplifies verification.\n- MIS on K\u2011th power: we use this in the S1 (\u21d0) construction. It is standard that on paths one can compute an MIS on the K\u2011th power in O(log* n), and consecutive MIS nodes have distance in [K,2K]. For self\u2011containment, include a brief lemma (with a standard reference or a short proof via Cole\u2013Vishkin color reduction + greedy thinning).\n\nWhat not to add yet:\n- Stage\u20112 path theorem via f0 (S2\u2011path): conceptually sound and well\u2011aligned with the literature, but it depends on an oriented\u2011path version of the (\u2113_width, \u2113_count, \u2113_pattern) partition (constant\u2011round) that is not yet in output.md. Keep S2 in notes with clear definitions (Gw,z, Gw1,w2,S, F1\u2013F2) and an outline of the NEXPTIME verification; defer moving it to output.md until the partition lemma is proven and parameterized.\n\nTriage/value:\n- The endpoint\u2011coupled S1\u2011path framework and its proof are valuable and publication\u2011quality once the small textual fixes are applied.\n- The incremental lemmas proposed by Prover 02 (incremental endpoint projection updates, L_allow/R_allow identities, early feasibility filters) are correct and helpful for implementation/testing; keep them in notes unless needed for the main mathematical narrative.\n\nConcrete next steps for provers:\n1) Prove and record in output.md the short MIS\u2011on\u2011Kth\u2011power lemma (deterministic, O(log* n), spacing [K,2K]); provide either a short self\u2011contained proof or a precise citation.\n2) Formalize the oriented\u2011path partition lemma for Stage\u20112 with explicit constants (suggested \u2113_width = \u2113_pattern = \u2113_pump, \u2113_count = 2\u2113_pump + 2); once done, add S2\u2011path to output.md using the f0 certificate (definitions Gw,z and Gw1,w2,S, F1\u2013F2, and NEXPTIME check via Ext/W tables).\n3) Add a tiny\u2011path completion lemma (optional): handle the \u201c0 or 1 separator\u201d cases with constant\u2011radius table lookups; align with the K used in S1.\n4) Clean mild numbering friction (6/6A/6B/7) in a dedicated pass or group them under a \u201cBase\u2011cases\u201d header; add a note that Lemma 11 subsumes Lemma 2.\n\nTesting suggestions:\n- Verify E3 (set inclusion) against precomputed W_{b\u2299c} on random instances.\n- Regression for Prop. 19: check the O(\u03b2^4) optimized append against O(\u03b2^5) brute force for \u03b2 \u2208 {2,3}.\n- Endpoint misalignment tests: construct instances where condition (iii) in g_L/g_R fails and confirm the verifier rejects.\n- Incremental RightColors/LeftColors updates match direct recomputation from Ext after append.\n",
  "new_notes_md": "Addendum: Stage\u20112 on oriented paths via a path\u2011feasible function f0 (plan and checks)\n\nWe record here a path\u2011specialized Stage\u20112 certificate that matches the cycle proof technique in the literature and avoids embedding per\u2011type interior fillers.\n\nDefinitions (r=1; pumping length \u2113_pump = |T| from Prop. 9)\n- For a word w with 1 \u2264 |w| \u2264 \u2113_pump and integer z \u2265 0, define the path Gw,z := wr \u00b7 wz \u00b7 wr, where wr denotes a fixed context of length r = 1 on each side, and equip it with a complete output labeling f0(w)^{z+2r} (periodic by f0(w)). Mid(Gw,z) denotes the middle wz.\n- For w1, w2 with 1 \u2264 |wi| \u2264 \u2113_pump and any finite substring S (possibly empty), define Gw1,w2,S := w1^{\u2113_pump+2r} \u00b7 S \u00b7 w2^{\u2113_pump+2r} with a partial labeling that fixes the first 2r|w1| outputs to f0(w1)^{2r} and the last 2r|w2| outputs to f0(w2)^{2r}. Mid(Gw1,w2,S) := w1^{\u2113_pump+r} \u00b7 S \u00b7 w2^{\u2113_pump+r}.\n\nPath\u2011feasible function (F1)\u2013(F2)\n- f0: { w \u2208 \u03a3_in^k : 1 \u2264 k \u2264 \u2113_pump } \u2192 \u03a3_out^k is path\u2011feasible if:\n  (F1) For every w, the labeling f0(w) is locally legal; moreover, the labeling of Gw,1 is locally consistent on Mid(Gw,1). (Equivalently, for all z \u2265 1, Gw,z is locally consistent on its mid.)\n  (F2) For every Gw1,w2,S, there exists a completion that is locally consistent on Mid(Gw1,w2,S).\n\nIntuition and relation to Ext/W tables\n- (F1) ensures that when the short word w is periodically repeated with a unit of separation (z \u2265 1), the outputs at the mid block can be anchored by f0(w) without conflict.\n- (F2) ensures that any finite irregular gap S flanked by long pumped contexts with periodic mid\u2011anchors f0(w1), f0(w2) can be completed using constant\u2011radius rules, exactly mirroring how W_{b\u2299c} checks mediate between Out\u2011sets in Stage\u20111.\n\nVerification (NEXPTIME)\n- With T and Ext enumerated (Prop. 9) and the standard pumping lemmas (Lemmas 13\u201314), it suffices to check finitely many Gw,1 and a finite representative set of Gw1,w2,S where S ranges over types \u03c4_S with |S| \u2264 \u2113_pump (plus S = \u2205). Each check reduces to Ext\u2011table membership and adjacency constraints; total time 2^{poly(\u03b2)}.\n\nConstruction sketch (if f0 exists; to be moved to output.md once the partition lemma is proven)\n- Use an oriented\u2011path version of the (\u2113_width, \u2113_count, \u2113_pattern) partition (as in the cycle proof), with parameters \u2113_width = \u2113_pattern = \u2113_pump and \u2113_count = 2\u2113_pump + 2. On long periodic regions with primitive period w (|w| \u2264 \u2113_pattern and repeat count \u2265 \u2113_count), label the central 2r\u2011window of every period by f0(w), creating evenly spaced mid\u2011anchors. The remaining subpaths between anchors (and near endpoints) have O(\u2113_width + \u2113_pattern) length and are filled using (F2) by constant\u2011radius table lookups indexed by (w1, S, w2). Orientation is given, so no orientation step is required.\n\nSanity examples\n- Equality LCL (E = {(c,c)}, A_0 = A_1 = {c}): f0(w) \u2261 c^{|w|} satisfies (F1)\u2013(F2); classified O(1).\n- Proper 2\u2011coloring: no f0 exists (F1 fails on Gw,1 due to parity); Stage\u20111 with endpoints succeeds; classified \u0398(log* n).\n\nEndpoint incremental identities and filters (implementation notes)\n- Incremental projection under append (k_flag \u2265 4): RightColors(\u03c4\u00b7a) = { y \u2208 A_a : \u2203 x1,x2,x3 Left3_\u03c4[x1,x2,x3] \u2227 E(x3,y) }, LeftColors(\u03c4\u00b7a) = LeftColors(\u03c4). Direct from Lemma 1 via projections.\n- Allow sets: L_allow(\u03c4) = N_E(RightColors(\u03c4)), R_allow(\u03c4) = N_E^{-1}(LeftColors(\u03c4)). This restates V_left/V_right.\n- Early feasibility filters for Stage\u20111: If some OutR2(\u03c4_b,s) or OutL1(\u03c4_c,s) is empty, no feasible f_mid exists. If L_allow(\u03c4_end)=\u2205 or OutR2(\u03c4_b,s)=\u2205, then g_L(\u03c4_end,s,\u03c4_b) is impossible; similarly for g_R. These are constant\u2011time table emptiness checks.\n\nOpen items to promote S2 to output.md\n- Provide a self\u2011contained oriented\u2011path partition lemma (constant rounds) with the explicit \u2113 parameters above, or adapt an established reference to our notation.\n- Integrate the S2\u2011path theorem with full proofs and NEXPTIME verification, pointing to our Ext/W machinery for the finite checks.\n",
  "new_notes_append": "True",
  "new_outputs_md": "Setup and definitions (r=1, globally oriented paths)\n- Let \u03a3_out be a finite output alphabet of size \u03b2. Let A_0,A_1 \u2286 \u03a3_out be the allowed outputs at nodes with input bit 0 or 1, respectively. Let E \u2286 \u03a3_out \u00d7 \u03a3_out be the allowed directed edge relation (u\u2192v allowed iff (u,v)\u2208E). For an input word t \u2208 {0,1}^k with k\u22651, a labeling o \u2208 \u03a3_out^k is legal if o[i]\u2208A_{t[i]} for all i, and (o[i],o[i+1])\u2208E for all 1\u2264i<k.\n- For k\u22654, define Ext_t \u2286 \u03a3_out^4 as the set of boundary quadruples (L1,L2,R2,R1) that extend to a legal labeling o with L1=o[1], L2=o[2], R2=o[k\u22121], R1=o[k]. For k\u22643, Ext_t is defined with the same 4\u2011tuple container but with the obvious coordinate equalities imposed by overlaps (tracked by k_flag \u2208 {1,2,3,\u22654}). The Type of t is Type(t) := (Ext_t, k_flag(t)).\n- Indexing reminder: Throughout, boundary quadruples are ordered as (L1, L2, R2, R1).\n\nLemma 1 (Append\u2011one\u2011bit recurrence; k_flag \u2265 4).\nLet t be an input word with k_flag(t)\u22654, and let t\u2032 := t\u00b7a be t with one bit a \u2208 {0,1} appended on the right. Then for all (x1,x2,x3,x4)\u2208\u03a3_out^4,\n  (x1,x2,x3,x4) \u2208 Ext_{t\u2032} \u21d4 [ x4 \u2208 A_a and E(x3,x4) and \u2203z\u2208\u03a3_out: (x1,x2,z,x3) \u2208 Ext_t ].\nProof. Standard restriction/extension argument on legal labelings. \u25a1\n\nProposition 6 (Base\u2011case update; k=1\u21922).\nLet t=(b) be a length\u20111 input and t\u2032:=t\u00b7a the length\u20112 input obtained by appending a\u2208{0,1}. For all (x1,x2,x3,x4)\u2208\u03a3_out^4,\n  (x1,x2,x3,x4) \u2208 Ext_{t\u2032} \u21d4 [ x1 = x3, x2 = x4, x1 \u2208 A_b, x2 \u2208 A_a, and E(x1,x2) ].\nProof. Immediate from the definition. \u25a1\n\nProposition 6B (Base\u2011case update; k=2\u21923).\nLet t=(b1,b2) be a length\u20112 input and t\u2032:=t\u00b7a the length\u20113 input obtained by appending a\u2208{0,1}. For all (x1,x2,x3,x4) \u2208 \u03a3_out^4,\n  (x1,x2,x3,x4) \u2208 Ext_{t\u2032} \u21d4 [ x3 = x2, x1 \u2208 A_{b1}, x2 \u2208 A_{b2}, x4 \u2208 A_a, E(x1,x2), and E(x2,x4) ].\nProof. Any legal labeling on three nodes has boundary (o1,o2,o2,o3), with o1\u2208A_{b1}, o2\u2208A_{b2}, o3\u2208A_a and E(o1,o2), E(o2,o3). Conversely, any tuple satisfying these constraints is realized by such a labeling. \u25a1\n\nProposition 7 (Base\u2011case update; k=3\u21924).\nLet t=(b1,b2,b3) be a length\u20113 input and t\u2032:=t\u00b7a the length\u20114 input obtained by appending a\u2208{0,1}. For all (x1,x2,x3,x4)\u2208\u03a3_out^4,\n  (x1,x2,x3,x4) \u2208 Ext_{t\u2032} \u21d4 [ x1\u2208A_{b1}, x2\u2208A_{b2}, x3\u2208A_{b3}, x4\u2208A_a, and E(x1,x2), E(x2,x3), E(x3,x4) ].\nProof. Unfold the definition on the 4\u2011node path. \u25a1\n\nLemma 2 (Ext\u2011level concatenation; k_flag \u2265 4).\nLet P and Q be input words with k_flag(P), k_flag(Q) \u22654, and let B := P\u00b7Q. Then for all (o1,o2,o3\u2032,o4\u2032)\u2208\u03a3_out^4,\n  (o1,o2,o3\u2032,o4\u2032) \u2208 Ext_B \u21d4 \u2203 x3,x4,x1\u2032,x2\u2032 \u2208 \u03a3_out such that\n    (o1,o2,x3,x4) \u2208 Ext_P, (x1\u2032,x2\u2032,o3\u2032,o4\u2032) \u2208 Ext_Q, and E(x4,x1\u2032).\nProof. Combine witnesses across the seam, or restrict a legal labeling of B. \u25a1\n\nProposition 3 (Type congruence under appending one bit).\nIf Type(P)=Type(Q), then for all a\u2208{0,1}, Type(P\u00b7a)=Type(Q\u00b7a). In particular, Ext_{P\u00b7a}=Ext_{Q\u00b7a} and k_flag updates identically.\nProof. For k_flag\u22654, Lemma 1 shows Ext_{(\u00b7)\u00b7a} depends only on Ext_{(\u00b7)} and a. Short cases follow by the explicit base\u2011case rules. \u25a1\n\nProposition 4 (Unsoundness of existential R\u2011composition).\nThere exists an instance (\u03a3_out,A_0,A_1,E) and types t_b,t_c such that there is m\u2208\u03a3_out with (x,m) \u2208 R_{t_b} and (m,y) \u2208 R_{t_c} for some x,y, yet (x,y) \u2209 R_{t_b\u00b7t_c}. Hence the rule \u201c(\u2203m) R_{P\u00b7Q}(x,y) \u21d0 R_P(x,m) \u2227 R_Q(m,y)\u201d is not valid in general.\nProof. Use \u03a3_out={a,b,c}, A_0=A_1=\u03a3_out, E={(a,b),(b,c)}; choose t_b with rightmost a and t_c with leftmost c; pick m=b. The seam would require E(a,c), which fails. \u25a1\n\nProposition 5 (Optimized computation of Ext for concatenation in O(\u03b2^6)).\nFor any types \u03c4,\u03c3 with k_flag(\u03c4),k_flag(\u03c3)\u22654, define the 3D slices\n  Left_\u03c4[o1,o2,x4] := \u2203x3 (o1,o2,x3,x4)\u2208Ext_\u03c4, and\n  Right_\u03c3[x1\u2032,o3\u2032,o4\u2032] := \u2203x2\u2032 (x1\u2032,x2\u2032,o3\u2032,o4\u2032)\u2208Ext_\u03c3.\nThen for all (o1,o2,o3\u2032,o4\u2032),\n  (o1,o2,o3\u2032,o4\u2032) \u2208 Ext_{\u03c4\u2299\u03c3} \u21d4 \u2203x4,x1\u2032: Left_\u03c4[o1,o2,x4] \u2227 E(x4,x1\u2032) \u2227 Right_\u03c3[x1\u2032,o3\u2032,o4\u2032].\nMoreover, after precomputing Left_\u03c4 and Right_\u03c3 for all \u03c4,\u03c3 in O(\u03b2^4) time per type, Ext_{\u03c4\u2299\u03c3} can be computed in O(\u03b2^6) time.\nProof. Eliminate x3,x2\u2032 by definitions; count entries. \u25a1\n\nProposition 6A (k_flag=1 append update without recovering the bit).\nLet \u03c4 be a type with k_flag(\u03c4)=1 and define S_\u03c4 := { x \u2208 \u03a3_out : (x,x,x,x) \u2208 Ext_\u03c4 }. For a\u2208{0,1}, let \u03c4\u2032 := \u03b4(\u03c4,a). Then for all (x1,x2,x3,x4)\u2208\u03a3_out^4,\n  (x1,x2,x3,x4) \u2208 Ext_{\u03c4\u2032} \u21d4 [ x1=x3, x2=x4, x1\u2208S_\u03c4, x2\u2208A_a, and E(x1,x2) ].\nProof. Any legal 2\u2011node labeling has boundary (o1,o2,o1,o2) with o1\u2208S_\u03c4, o2\u2208A_a and E(o1,o2). Conversely, any tuple satisfying the listed constraints is realized by a legal labeling on the 2\u2011node input. \u25a1\n\nLemma 8 (Type\u2011count bound).\nWith Type(t):=(Ext_t, k_flag(t)) and Ext_t\u2286\u03a3_out^4, the number of distinct types obeys |T| \u2264 4 \u00b7 2^{\u03b2^4}.\nProof. For each k_flag value, Ext can be any subset of \u03a3_out^4; sum over k_flag. \u25a1\n\nProposition 9 (\u03b4 well\u2011defined; deterministic BFS enumeration in 2^{poly(\u03b2)} time/space).\nLet \u03b4 map a type \u03c4 and an appended bit a\u2208{0,1} to the type of the one\u2011bit extension. Define \u03b4 by:\n- If k_flag(\u03c4)=1, compute Ext of the 2\u2011node type by Proposition 6A using S_\u03c4.\n- If k_flag(\u03c4)=2, use the explicit k=2\u21923 update (Proposition 6B).\n- If k_flag(\u03c4)=3, use Proposition 7.\n- If k_flag(\u03c4)\u22654, use Lemma 1 (implementable in O(\u03b2^4) time via Proposition 19).\nThen \u03b4(\u03c4,a) depends only on \u03c4 and a (by Proposition 3). A deterministic BFS that starts from the length\u20111 seeds (t=(0) and t=(1)), repeatedly applies \u03b4(\u00b7,0) and \u03b4(\u00b7,1), and interns types by equality of (Ext, k_flag), halts after at most |T| insertions and enumerates all reachable types. Each transition costs O(\u03b2^4) in the k_flag\u22654 regime (base\u2011cases are \u2264O(\u03b2^4)). Since |T| \u2264 4\u00b72^{\u03b2^4}, the total time and space are 2^{poly(\u03b2)}. \u25a1\n\nLemma 10 (Reversal operator; basic properties).\nDefine, for any type \u03c4=(Ext_\u03c4,k_flag(\u03c4)), the reversed type Rev(\u03c4):=(Ext_\u03c4^R, k_flag(\u03c4)), where Ext_\u03c4^R := { (y1,y2,y3,y4) : (y4,y3,y2,y1) \u2208 Ext_\u03c4 }. Then Rev(Rev(\u03c4))=\u03c4 and, for k_flag\u22654, Ext_{Rev(\u03c4) \u2299 Rev(\u03c3)} = (Ext_{\u03c3 \u2299 \u03c4})^R.\nProof. Direct from definitions and Lemma 2. \u25a1\n\nDefinition (Long types and pumping bound).\n- T_long := { \u03c4 \u2208 T : k_flag(\u03c4) \u2265 4 }.\n- Define \u2113_pump := |T|, where T is the set of reachable Types enumerated by Proposition 9.\n\nLemma 11 (Ext\u2011level concatenation; all k_flag).\nFor any input words P,Q (no restriction on length) and B := P\u00b7Q, for all (o1,o2,o3\u2032,o4\u2032) \u2208 \u03a3_out^4,\n  (o1,o2,o3\u2032,o4\u2032) \u2208 Ext_B \u21d4 \u2203 x3,x4,x1\u2032,x2\u2032 \u2208 \u03a3_out:\n    (o1,o2,x3,x4) \u2208 Ext_P, (x1\u2032,x2\u2032,o3\u2032,o4\u2032) \u2208 Ext_Q, and E(x4,x1\u2032).\nProof. As in Lemma 2; k_flag imposes only coordinate equalities. \u25a1\n\nProposition 12 (Associativity of Ext\u2011concatenation).\nFor any input words P,Q,R, Ext_{(P\u00b7Q)\u00b7R} = Ext_{P\u00b7(Q\u00b7R)} as subsets of \u03a3_out^4.\nProof. Either semantically (concatenation of words) or by rebracketing witnesses from Lemma 11. \u25a1\n\nLemma 13 (Prefix pumping).\nLet \u2113_pump := |T|. For any input string w with |w| \u2265 \u2113_pump there exist a decomposition w = x y z with 1 \u2264 |y| \u2264 \u2113_pump and |x y| \u2264 \u2113_pump such that Type(x y^i z) is independent of i \u2265 0.\nProof. Pigeonhole on the first \u2113_pump+1 states of the \u03b4\u2011run. \u25a1\n\nLemma 14 (Periodic pumping).\nFor any nonempty string u there exist integers a,b with a+b \u2264 \u2113_pump such that Type(u^{a+bi}) is invariant for all i \u2265 0.\nProof. Pigeonhole on the sequence Type(u^j), j\u22650, and determinism of \u03b4. \u25a1\n\nDefinition (Feasible function; Out\u2011set form).\nA function f: T_long \u00d7 {0,1}^2 \u00d7 T_long \u2192 \u03a3_out^2 is feasible if for every (\u03c4_L, s, \u03c4_R) it outputs (\u03b11,\u03b12) with \u03b1i \u2208 A_{s[i]} and E(\u03b11,\u03b12), and moreover the following universal extendibility holds: for all \u03c4_b,\u03c4_c\u2208T_long and s1,s2 \u2208 {0,1}^2, and for all \u03b1_L \u2208 OutR2(\u03c4_b,s1), \u03b1_R \u2208 OutL1(\u03c4_c,s2), there exists (o1,o2,o3,o4) \u2208 Ext_{\u03c4_b \u2299 \u03c4_c} with E(\u03b1_L,o1) and E(o4,\u03b1_R), where\n  OutR2(\u03c4_b,s) := { second(f(\u03c4_a,s,\u03c4_b)) : \u03c4_a \u2208 T_long },\n  OutL1(\u03c4_c,s) := { first(f(\u03c4_c,s,\u03c4_d)) : \u03c4_d \u2208 T_long }.\n\nLemma 20 (Quantifier minimization equivalence).\nLet f be any function T_long\u00d7{0,1}^2\u00d7T_long\u2192\u03a3_out^2 obeying node/window constraints. The universal extendibility clause stated here is equivalent to the clause \u201cfor all \u03c4_a,\u03c4_b,\u03c4_c,\u03c4_d and s1,s2, letting \u03b1_L := second(f(\u03c4_a,s1,\u03c4_b)) and \u03b1_R := first(f(\u03c4_c,s2,\u03c4_d)), there exists (o1,o2,o3,o4)\u2208Ext_{\u03c4_b\u2299\u03c4_c} with E(\u03b1_L,o1), E(o4,\u03b1_R)).\u201d\nProof. \u201cOnly if\u201d: the \u03b1_L,\u03b1_R in the original clause range over OutR2,OutL1. \u201cIf\u201d: for given \u03c4_b,\u03c4_c,s1,s2 and \u03b1_L\u2208OutR2, \u03b1_R\u2208OutL1, pick \u03c4_a,\u03c4_d witnessing membership and apply the original clause. \u25a1\n\nProposition 19 (Optimized append in O(\u03b2^4) time for k_flag \u2265 4).\nFor t with k_flag\u22654 and a\u2208{0,1}, define Left3_t[x1,x2,x3] := \u2203z (x1,x2,z,x3)\u2208Ext_t. One can compute Left3_t in O(\u03b2^4) time. Then fill Ext_{t\u00b7a} by scanning all (x1,x2,x3) with Left3_t[x1,x2,x3]=true and, for each, iterating over x4 with E(x3,x4) and x4\u2208A_a, setting Ext_{t\u00b7a}[x1,x2,x3,x4]\u2190true. The total time is O(\u03b2^4) in the dense worst\u2011case.\nProof. Correctness follows from Lemma 1. Complexity: Left3_t has \u03b2^3 entries, each tested in O(\u03b2); the fill step is O(\u03b2^3\u0394) with \u0394\u2264\u03b2. \u25a1\n\nProposition 21 (Seam\u2011feasibility matrices for \u03c4_b \u2299 \u03c4_c).\nFor \u03c4_b,\u03c4_c, define W_{b\u2299c}[\u03b1_L][\u03b1_R] (a \u03b2\u00d7\u03b2 boolean matrix) to be true iff \u2203(o1,o2,o3,o4)\u2208Ext_{\u03c4_b\u2299\u03c4_c} with E(\u03b1_L,o1) and E(o4,\u03b1_R). Using precomputed 3D slices or Ext_{\u03c4_b\u2299\u03c4_c}, W_{b\u2299c} can be computed in O(\u03b2^4\u0394^2) time (or better with sparse E), and then universal extendibility checks reduce to testing W_{b\u2299c}[\u03b1_L][\u03b1_R].\nProof. Expand the definition via Lemma 11, eliminate internal witnesses by slices, and count operations. \u25a1\n\nProposition 17 (Nonemptiness monotonicity under concatenation).\nIf Ext_P \u2260 \u2205 and Ext_Q \u2260 \u2205 and there exist x4,x1\u2032 with E(x4,x1\u2032), then Ext_{P\u00b7Q} \u2260 \u2205.\nProof. Choose any (o1,o2,x3,x4) \u2208 Ext_P and (x1\u2032,x2\u2032,o3\u2032,o4\u2032) \u2208 Ext_Q; Lemma 11 and E(x4,x1\u2032) imply (o1,o2,o3\u2032,o4\u2032) \u2208 Ext_{P\u00b7Q}. \u25a1\n\nDefinitions (endpoint projections and seam matrices).\nFor any type \u03c4, define the projections of Ext_\u03c4 to the endpoint coordinates:\n- RightColors(\u03c4) := { y \u2208 \u03a3_out : \u2203 x1,x2,x3 with (x1,x2,x3,y) \u2208 Ext_\u03c4 }.\n- LeftColors(\u03c4)  := { x \u2208 \u03a3_out : \u2203 x2,x3,y with (x,x2,x3,y) \u2208 Ext_\u03c4 }.\nDefine the endpoint seam\u2011compatibility matrices by\n- V_left[\u03c4][\u03b1]  := true \u21d4 \u2203 y \u2208 RightColors(\u03c4) with E(y, \u03b1), and\n- V_right[\u03b1][\u03c4] := true \u21d4 \u2203 x \u2208 LeftColors(\u03c4) with E(\u03b1, x).\n\nLemma E1 (Endpoint feasibility via Ext).\nLet \u03c4 be any type and \u03b1 \u2208 \u03a3_out.\n(i) There exists a legal labeling of a left end\u2011block of type \u03c4 together with an adjacent separator whose first output is \u03b1 if and only if V_left[\u03c4][\u03b1] is true.\n(ii) There exists a legal labeling of a right end\u2011block of type \u03c4 together with an adjacent separator whose second output is \u03b1 if and only if V_right[\u03b1][\u03c4] is true.\nProof. (i) If V_left[\u03c4][\u03b1] holds, pick y \u2208 RightColors(\u03c4) with E(y,\u03b1) and any (x1,x2,x3,y)\u2208Ext_\u03c4; Ext\u2011membership provides the interior, and E(y,\u03b1) the seam. Conversely, any legal instance gives y as the last output on the end block, whence (x1,x2,x3,y)\u2208Ext_\u03c4 and E(y,\u03b1). (ii) is symmetric. \u25a1\n\nLemma E2 (Endpoint\u2013interior bridging via W_{b\u2299c}).\nFix \u03c4_b, \u03c4_c \u2208 T_long, inputs s1,s2 \u2208 {0,1}^2, and seam colors \u03b1_L, \u03b1_R \u2208 \u03a3_out. There exists a legal completion of the intervening block of type \u03c4_b \u2299 \u03c4_c consistent with the left seam color \u03b1_L (toward \u03c4_b) and the right seam color \u03b1_R (toward \u03c4_c) if and only if W_{b\u2299c}[\u03b1_L][\u03b1_R] is true.\nProof. Directly by definition of W_{b\u2299c}: \u201cif\u201d is witnessed by (o1,o2,o3,o4); \u201conly if\u201d follows by restricting any legal completion of the intervening block to its boundary and the seam edges. \u25a1\n\nLemma E3 (Feasible\u2011f condition as set inclusion).\nLet f be as in Definition \u201cFeasible function; Out\u2011set form.\u201d For all \u03c4_b,\u03c4_c\u2208T_long and s1,s2,\n  OutR2(\u03c4_b,s1) \u00d7 OutL1(\u03c4_c,s2) \u2286 { (\u03b1_L,\u03b1_R) : W_{b\u2299c}[\u03b1_L][\u03b1_R] = true }.\nConversely, if these inclusions hold for all \u03c4_b,\u03c4_c,s1,s2, then f satisfies the universal extendibility clause.\nProof. Immediate from Lemma E2 and the definition of W_{b\u2299c}. \u25a1\n\nDefinition (Endpoint maps with Out\u2011set alignment).\n- g_L: T \u00d7 {0,1}^2 \u00d7 T_long \u2192 \u03a3_out^2. For g_L(\u03c4_end, s, \u03c4_b) = (\u03b21,\u03b22) require:\n  (i) \u03b2i \u2208 A_{s[i]} (i = 1,2) and E(\u03b21,\u03b22);\n  (ii) V_left[\u03c4_end][\u03b21] = true;\n  (iii) \u03b22 \u2208 OutR2(\u03c4_b, s).\n- g_R: T_long \u00d7 {0,1}^2 \u00d7 T \u2192 \u03a3_out^2. For g_R(\u03c4_c, s, \u03c4_end) = (\u03b21,\u03b22) require:\n  (i) \u03b2i \u2208 A_{s[i]} and E(\u03b21,\u03b22);\n  (ii) V_right[\u03b22][\u03c4_end] = true;\n  (iii) \u03b21 \u2208 OutL1(\u03c4_c, s).\n\nLemma M1 (MIS on the K\u2011th power of a path in O(log* n); spacing [K,2K]).\nFor every constant K \u2265 1, there is a deterministic LOCAL algorithm that in O(log* n) rounds computes a maximal independent set on the K\u2011th power of the underlying undirected path. In the resulting set, consecutive selected positions are at distances in [K, 2K].\nProof sketch. First compute a proper O(1)\u2011coloring of the path in O(log* n) rounds (e.g., Cole\u2013Vishkin color reduction). Then greedily construct an MIS on the K\u2011th power in O(1) rounds by iterating over color classes and adding a node if none of its K\u2011neighbors is already selected. Maximality and the spacing bounds follow from construction. \u25a1\n\nTheorem S1\u2011path (Endpoint\u2011coupled equivalence on oriented paths).\nLet an r=1 LCL be given on globally oriented paths with output alphabet \u03a3_out of size \u03b2. Then the following are equivalent:\n(A) There exists a deterministic LOCAL algorithm with runtime o(n).\n(B) There exist witnesses (f_mid, g_L, g_R) where f_mid: T_long\u00d7{0,1}^2\u00d7T_long\u2192\u03a3_out^2 is feasible in the Out\u2011set sense (Definition \u201cFeasible function; Out\u2011set form\u201d), and g_L, g_R satisfy the endpoint map constraints above.\nMoreover, existence of such witnesses is verifiable in nondeterministic time 2^{poly(\u03b2)}.\n\nProof.\n(\u21d2) Assume a deterministic o(n)\u2011round algorithm A. Fix a large n and let R := R(n) be its runtime on paths of length n. By Lemmas 13\u201314 (pumping), for each \u03c4 \u2208 T_long choose a canonical input string w_\u03c4 of type \u03c4 with |w_\u03c4| \u226b R and with a short prefix y_\u03c4 of length \u2264 \u2113_pump such that w_\u03c4 = x_\u03c4 y_\u03c4^M z_\u03c4 for some M, and the \u03b4\u2011state is stable across repetitions.\n\nDefine f_mid(\u03c4_L, s, \u03c4_R) as follows: consider W := w_{\u03c4_L} \u00b7 S(s) \u00b7 w_{\u03c4_R}, where S(s) is the 2\u2011node separator with input s. Assign unique identifiers so that the ID pattern is periodic and identical within the R\u2011neighborhoods around S(s), and pad beyond distance R into w_{\u03c4_L}, w_{\u03c4_R}. Run A on W and record the 2\u2011node output on S(s) as f_mid(\u03c4_L, s, \u03c4_R). Because the neighborhoods of S(s) are isomorphic across all such choices (by periodic pumping and our canonical construction), f_mid is well defined and satisfies node/window constraints. The Out\u2011set feasibility of f_mid holds: for any \u03c4_b, \u03c4_c and \u03b1_L \u2208 OutR2(\u03c4_b, s1), \u03b1_R \u2208 OutL1(\u03c4_c, s2), choose \u03c4_a, \u03c4_d witnessing \u03b1_L, \u03b1_R via f_mid and form the path w_{\u03c4_b} \u00b7 S(s1) \u00b7 middle \u00b7 S(s2) \u00b7 w_{\u03c4_c}, where \u201cmiddle\u201d is any long block of type \u03c4_b \u2299 \u03c4_c built from our canonical pieces and padded so that the R\u2011neighborhoods of the two separators are disjoint. By locality, A\u2019s outputs on the two separators are \u03b1_L and \u03b1_R, and since A is correct, a legal completion of the middle block exists. Projecting to Ext gives W_{b\u2299c}[\u03b1_L][\u03b1_R] = true, as required by the Out\u2011set feasibility clause.\n\nDefine g_L(\u03c4_end, s, \u03c4_b) as follows: pick any finite path P_end with Type(P_end)=\u03c4_end; pick w_{\u03c4_b} (as above) long enough so that the radius\u2011R neighborhood of S(s) lies entirely inside w_{\u03c4_b} on the right. Run A on the finite path P := P_end \u00b7 S(s) \u00b7 w_{\u03c4_b} (with padding only on the right beyond distance R if needed). Let g_L(\u03c4_end,s,\u03c4_b) be the output on S(s). Local correctness of A implies (i); the existence of a legal seam into the endpoint block yields V_left[\u03c4_end][\u03b21] = true (ii); and since the right context is w_{\u03c4_b}, the second output \u03b22 lies in OutR2(\u03c4_b, s), giving (iii). Define g_R symmetrically by choosing any P_end of type \u03c4_end on the right and padding on the left within w_{\u03c4_c}.\n\n(\u21d0) Assume witnesses (f_mid, g_L, g_R) as above. Let K := \u2113_pump + 4. By Lemma M1, compute in O(log* n) rounds a maximal independent set on the K\u2011th power of the path; consecutive MIS nodes (separators) are at distances in [K, 2K].\n- Interior separators: For each separator between long blocks of types \u03c4_b and \u03c4_c with local inputs s1 and s2 on its two adjacent 2\u2011node windows, set its 2\u2011node output to f_mid(\u00b7). By Out\u2011set feasibility and Lemma E2, the block between any two consecutive interior separators is fillable via Ext_{\u03c4_b \u2299 \u03c4_c} using table W_{b\u2299c}.\n- Endpoint\u2011adjacent separators: Let S_L be the unique separator adjacent to the left end; compute \u03c4_end (the type of the end block to its left) and \u03c4_b (the long type on its right). Set S_L\u2019s output to g_L(\u03c4_end, s, \u03c4_b). By Lemma E1 and condition (ii), the endpoint block can be filled. For the block between S_L and the nearest interior separator S_2 (with right\u2011side long type \u03c4_c), condition (iii) gives \u03b1_L := second(g_L) \u2208 OutR2(\u03c4_b, s), while the left seam color \u03b1_R at S_2 is in OutL1(\u03c4_c, s2) by construction. Hence W_{b\u2299c}[\u03b1_L][\u03b1_R] = true, and Lemma E2 fills the intervening block. Do the right endpoint symmetrically with g_R.\n- Small\u2011n edge cases (0 or 1 separator) are handled by brute\u2011force completion using Ext tables in constant radius; this does not affect asymptotic runtime.\nAll fillings are computed from constant\u2011size tables; the MIS step dominates with O(log* n) rounds. Thus we obtain an O(log* n) algorithm.\n\nVerification complexity. Deterministically enumerate T and T_long via Proposition 9 with O(\u03b2^4) per long append (Prop. 19), precompute Ext_\u03c4 and Ext_{\u03c4_b \u2299 \u03c4_c}, W_{b\u2299c}, V_left, V_right. For a guessed f_mid, compute OutR2 and OutL1 sets. Then check the constraints entrywise; the total time is 2^{poly(\u03b2)}.\n\nRemark. Lemma 11 strictly subsumes Lemma 2; we retain Lemma 2 for emphasis in the k_flag \u2265 4 regime.\n",
  "new_outputs_append": "False",
  "verdict": "partial success"
}