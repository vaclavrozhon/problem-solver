# New results this round: a tight O(log n) two-sided comparison

We record three rigorously provable statements that together nearly settle the asymptotic relationship.

- One-sided domination (recall; L∞ exact, any norm up to a constant): MST_log ≤ C_N·Reg_log.
- No reverse constant domination: there exist permutations with Reg_log/MST_log = Θ(log n).
- Universal upper bound with tight factor: for every norm N, Reg_log ≤ K_N·log(1+n)·MST_log with an explicit K_N depending only on N. Consequently Reg_log ≤ Θ(log n)·MST_log for all π, and the Θ(log n) factor is optimal.

Below are precise statements and proofs (concise) and a clean separation family.


## Preliminaries and notation

- Δ_i := |π(i) − π(i−1)| for i≥2.
- s_v := |π^{-1}(v+1) − π^{-1}(v)| for v=1,…,n−1.
- For a norm N, denote MST_log^N(π). We often use L∞ because of its product-structure; constants transfer to any fixed norm by equivalence.
- We write logs in an arbitrary fixed base; constants adjust accordingly.


## Lemma A (per-edge lower bound, any norm)

Let N be any norm on R^2. There exists α_N>0 such that ||z||_N ≥ α_N||z||_∞ for all z. Hence for any distinct p_i≠p_j, ||p_i−p_j||_∞ ≥ 1 and so
w_N(p_i,p_j)=log(1+||p_i−p_j||_N) ≥ log(1+α_N)=: c_N.
Therefore MST_log^N(π) ≥ (n−1) c_N.

- In particular: for L∞, c_∞=log 2; for L2, using that both coordinates differ, ||p_i−p_j||_2 ≥ √2, so c_2=log(1+√2); for L1, ||p_i−p_j||_1 ≥ 2, so c_1=log 3.


## Theorem 1 (MST ≤ Reg; exact for L∞, constant-factor for any norm)

- For L∞: Using Kruskal’s integral identity and the sparse threshold subgraph H(t) containing (i−1,i) whenever Δ_i≤t and the “most recent value-neighbor” edge for i whenever t_i≤t, we have κ_{G∞}(t) ≤ 1 + |{i≥2: Δ_i>t and t_i>t}|. Integrating d log(1+t) yields
MST_log^∞(π) ≤ ∑_{i=2}^n log(1+min{Δ_i,t_i}) ≤ ∑_{i=2}^n log(1+t_i) ≤ Reg_log(π),
using r_i ≥ t_i+1.
- For any norm N: pick b_N with ||z||_N ≤ b_N||z||_∞; then for any L∞-MST T,
MST_log^N(π) ≤ ∑_{e∈T} log(1+b_N||e||_∞) ≤ (n−1)log(1+b_N) + MST_log^∞(π).
Since Reg_log(π) ≥ (n−1)log 3, we get
MST_log^N(π) ≤ (1 + log(1+b_N)/log 3) · Reg_log(π).

Explicit constants: for L1, b_1=2 gives factor 2; for L2, b_2=√2 gives factor 1 + log(1+√2)/log 3 ≈ 1.803.


## Theorem 2 (Universal O(log n) upper bound: Reg ≤ O(log n)·MST)

For any norm N and any π ∈ S_n,
Reg_log(π) ≤ (log(1+n)/c_N) · MST_log^N(π),
with c_N from Lemma A. In particular,
- L∞: Reg_log(π) ≤ (log(1+n)/log 2) · MST_log^∞(π),
- L2: Reg_log(π) ≤ (log(1+n)/log(1+√2)) · MST_log^2(π),
- L1: Reg_log(π) ≤ (log(1+n)/log 3) · MST_log^1(π).

Proof. Since r_i ≤ i, we have Reg_log(π) = ∑_{i=2}^n log(1+r_i) ≤ ∑_{i=2}^n log(1+i) ≤ (n−1)·log(1+n). By Lemma A, MST_log^N(π) ≥ (n−1) c_N. Combine to obtain the claim. ∎

Consequently, for every fixed norm N,
MST_log^N(π) ≤ C_N · Reg_log(π) and Reg_log(π) ≤ C'_N · log n · MST_log^N(π),
with explicit C_N, C'_N. The Θ(log n) factor is the best possible (see Theorem 3).


## Theorem 3 (Separation; tightness of the Θ(log n) factor)

There exists a family {π_n} (parity blocks) such that Reg_log(π_n)/MST_log(π_n) = Θ(log n).

Construction (even n): list all even values in increasing order, then all odd values in increasing order. Formally, for i=1,…,n/2 set π(i)=2i and for i=n/2+1,…,n set π(i)=2(i−n/2)−1.

- MST_log = Θ(n) (any fixed norm). Proof: Inside each half, index-adjacent edges have constant weight (Δ value = 2). These n−2 edges contribute Θ(n). One bridge connects the halves, costing O(log n). Lower bound Ω(n) follows from Lemma A.
- Reg_log = Θ(n log n). Proof: For i=2,…,n/2, no odd has appeared, so t_i=i−1 and d_i=1; hence r_i=i and contribution ∑_{i=2}^{n/2} log(1+i) = Θ((n/2) log n). At i=n/2+1 (first odd), d_{i} = n/2 and t_{i} = n/2, so r_{i}=Θ(n) contributing Θ(log n). For the remaining odds, t_i = n/2 (nearest even is in the first half), and d_i=2, hence r_i = Θ(n), each contributing Θ(log n). Summing yields Θ(n log n).

Therefore Reg_log/MST_log = Θ(log n), so no constant C satisfies Reg_log ≤ C·MST_log for all π.

Remark (mod-m generalization). Listing values by residue classes mod m (each class in increasing order) yields MST_log = O(n) for fixed m and Reg_log = Θ(n log(n/m)), giving the same Θ(log n) separation when m is constant.


## Small auxiliary facts used implicitly

- For all i, r_i ≥ t_i + 1 (since r_i = min(d_i + t_i, i), with d_i ≥ 1 and t_i ≤ i−1).
- For all i, d_i ≤ Δ_i (only values strictly between π(i−1) and π(i) can be counted in d_i).


## Examples and checks

- Monotone π: MST_log = Θ(n), Reg_log = Θ(n) (tight at both ends).
- Random π: Both MST_log and Reg_log are Θ(n log n) in expectation; the upper and lower inequalities above are consistent.


## Obstacles and open directions

- Tightening Reg ≤ O(log n)·MST to Reg ≤ c·MST is impossible (Theorem 3). The best universal asymptotics are now understood: MST ≤ Θ(1)·Reg and Reg ≤ Θ(log n)·MST, with Θ(log n) tight.
- Refinements: Determine the best constants C_N in MST ≤ C_N·Reg for common norms (we provided explicit L1, L2, L∞) and optimize K_N in Reg ≤ K_N·log n·MST.
- Structural bound per scale: A promising route to sharpen constants is a dyadic decomposition. Let I_k = {i: r_i ≥ 2^k}, A_k = {i: Δ_i ≥ 2^k}, B_k = {v: s_v ≥ 2^k}. Prove per-scale inequalities of the form |I_k| ≲ (κ(2^{k−O(1)})−1) or |I_k| ≲ |A_{k−O(1)}| + |B_{k−O(1)}|, then sum over k to get alternative proofs of Theorem 2 (and possibly better constants). We leave this as future work.


## Summary

- Proven: MST_log(π) ≤ Reg_log(π) for L∞ (and ≤ C_N·Reg_log(π) for any fixed norm). This is rigorous via Kruskal’s integral and a sparse threshold subgraph.
- Proven: Universal bound Reg_log(π) ≤ (log(1+n)/c_N)·MST_log^N(π) (new this round), yielding Reg_log ≤ Θ(log n)·MST_log for all π, with explicit constants depending on the norm. This factor is tight by the parity-block family.
- Thus, the asymptotic relationship is now characterized up to constants: MST_log and Reg_log are equivalent up to a Θ(log n) factor in the worst case, and often match within constants for structured or random permutations.