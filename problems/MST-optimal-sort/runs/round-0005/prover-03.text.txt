Main theorems and proofs

Setup and basic facts
- Input: a permutation π∈S_n represented by points P_π={p_i=(i,π(i)) : i=1,…,n}⊂{1,…,n}^2.
- Fix a norm ||·|| on R^2. Define w(u,v)=log(1+||u−v||). Let MST_log^{||·||}(π) be the sum of w(e) over the edges of a minimum spanning tree of the complete graph on P_π with weights w. We write MST_log(π) when ||·||=||·||_∞ (L∞).
- For i≥2, define Δ_i=|π(i)−π(i−1)|, the L∞-distance between consecutive time indices; define t_i = min{i−j : 1≤j<i, |π(i)−π(j)|=1}, with t_i:=i−1 if no such j exists; define d_i = 1 + #{k<i : min(π(i−1),π(i)) < π(k) < max(π(i−1),π(i))}. Set r_i = min{d_i + t_i, i}. Finally, Reg_log(π) = ∑_{i=2}^n log(1+r_i).
- Trivial bounds used below: for all i≥2 we have t_i≥1, d_i≥1, hence r_i≥2 and log(1+r_i)≥log 3.

Theorem A (One-sided domination in L∞).
For every π and n, MST_log(π) ≤ Reg_log(π).

Proof.
For t≥0, let G(t) be the threshold graph on P_π with an edge between p_i and p_j iff ||p_i−p_j||_∞ ≤ t. Let κ(t) be the number of connected components of G(t). A standard Kruskal integral identity gives
MST_log(π) = ∫_0^∞ (κ(t)−1) dt/(1+t).
Indeed, if the L∞-lengths of the MST edges are {ℓ_e}, then log(1+ℓ_e)=∫_0^{ℓ_e} dt/(1+t), and summing over e yields ∫_0^∞ #(e:ℓ_e>t) dt/(1+t). In Kruskal’s process at threshold t, exactly κ(t)−1 edges of the MST have length > t (they are the ones that will connect the κ(t) components), up to changes on a measure-zero set of t (ties), which does not affect the integral.
For each t, construct a directed forest F(t) on {1,…,n} by assigning at most one parent par_t(i) to each i≥2 as follows:
- If Δ_i≤t, set par_t(i)=i−1.
- Else, if there exists j<i with |π(i)−π(j)|=1 and i−j≤t (i.e., t_i≤t), set par_t(i)=j (choose the largest such j).
- Else, i has no parent.
Whenever a parent is assigned, the L∞-distance between i and par_t(i) is at most t, so F(t) is a subgraph of G(t). Because every parent index is < i, F(t) is acyclic. The number of components of F(t) is 1 + |{i≥2 : Δ_i>t and t_i>t}| (vertex 1 is a root; every i≥2 with no parent contributes one root). Hence κ(t) ≤ 1 + |{i≥2 : Δ_i>t and t_i>t}|. Integrating,
MST_log(π) ≤ ∫_0^∞ ∑_{i=2}^n 1[Δ_i>t and t_i>t] dt/(1+t) = ∑_{i=2}^n log(1+min{Δ_i,t_i}).
Finally, since r_i ≥ t_i, we have log(1+min{Δ_i,t_i}) ≤ log(1+t_i) ≤ log(1+r_i). Summing over i gives MST_log(π) ≤ Reg_log(π).
∎

Theorem B (Extension to any fixed norm).
Let ||·|| be any norm on R^2, and let b:=sup_{z≠0} ||z||/||z||_∞ ∈ [1,∞). Then for all π,
MST_log^{||·||}(π) ≤ [1 + (log b)/log 3] · Reg_log(π).

Proof.
Let T_∞ be an L∞-MST. For any edge e, 1+||e|| ≤ b(1+||e||_∞), so log(1+||e||) ≤ log b + log(1+||e||_∞). Summing over e∈T_∞,
MST_log^{||·||}(π) ≤ (n−1)·log b + ∑_{e∈T_∞} log(1+||e||_∞) = (n−1)·log b + MST_log(π).
By Theorem A, MST_log(π) ≤ Reg_log(π), and since r_i≥2 for i≥2, Reg_log(π) ≥ (n−1)·log 3. Therefore
MST_log^{||·||}(π) ≤ Reg_log(π) + (n−1)·log b ≤ [1 + (log b)/log 3]·Reg_log(π).
∎

Theorem C (Universal logarithmic upper bound for Reg).
Fix a norm ||·||. There exists c(||·||)>0 such that for all π and n,
Reg_log(π) ≤ [log(1+n)/c(||·||)] · MST_log^{||·||}(π).
In particular, one can take c(L∞)=log 2, c(L2)=log(1+√2), c(L1)=log 3.

Proof.
In a permutation grid, for any distinct p_i≠p_j, both coordinates differ by at least 1, hence: ||p_i−p_j||_∞≥1; ||p_i−p_j||_2≥√2; ||p_i−p_j||_1≥2. Consequently every MST edge has weight at least c(||·||):=log(1+α), with α=1,√2,2 for L∞,L2,L1 respectively. Therefore MST_log^{||·||}(π) ≥ (n−1)·c(||·||). On the other hand r_i≤i gives Reg_log(π) ≤ ∑_{i=2}^n log(1+i) ≤ (n−1)·log(1+n). Combining,
Reg_log(π) ≤ [(n−1)·log(1+n)] / [(n−1)·c(||·||)] · MST_log^{||·||}(π) = [log(1+n)/c(||·||)] · MST_log^{||·||}(π).
∎

Theorem D (Separation; sharpness of the Θ(log n) gap).
There exists a family of permutations {π_n} for which Reg_log(π_n)/MST_log^{||·||}(π_n) = Θ(log n) for any fixed norm ||·||. In particular, there is no universal constant C with Reg_log(π) ≤ C·MST_log^{||·||}(π) for all π.

Proof.
Consider n=2m and the permutation π that lists all odds then all evens:
π(i)=2i−1 for 1≤i≤m, and π(m+j)=2j for 1≤j≤m.
1) MST_log under L∞. Construct a spanning tree T with edges: (i,i+1) for i=1,…,m−1 and (i,i+1) for i=m+1,…,2m−1, plus a single bridge (m,m+1).
- For 1≤i≤m−1 (odd block), ||p_{i+1}−p_i||_∞ = max{|(i+1)−i|, |(2(i+1)−1)−(2i−1)|} = max{1,2} = 2, so w=log 3.
- For m+1≤i≤2m−1 (even block), similarly w=log 3.
- The bridge has ||p_{m+1}−p_m||_∞ = max{1, |2−(2m−1)|} = 2m−3, so w=log(2m−2) ≤ log n.
Therefore MST_log(π) ≤ (2m−2)·log 3 + log n = Θ(n). Since every MST has n−1 edges and each has weight at least log 2, MST_log(π) ≥ (n−1)·log 2 = Ω(n). Hence MST_log(π)=Θ(n).
2) Reg_log. For 2≤i≤m (odd block), there is no earlier value-neighbor; thus t_i=i−1, and the interval between π(i−1)=2i−3 and π(i)=2i−1 contains no earlier value, so d_i=1. Hence r_i=min{1+(i−1), i}=i and ∑_{i=2}^m log(1+r_i)=∑_{i=2}^m log(1+i)=Θ(m log m).
For the even block, write i=m+j with 1≤j≤m. Then π(i)=2j.
- For j=1, the nearest earlier value-neighbor is value 3 at index 2, so t_i=m−1; as noted, a direct count gives d_i=m−1. Thus r_i=min{2m−2, m+1}=m+1, contributing Θ(log m).
- For 2≤j≤m, the unique earlier neighbor 2j−1 occurs at index j, so t_i=(m+j)−j=m; the interval between π(i−1)=2j−2 and π(i)=2j contains the single earlier value 2j−1, hence d_i=2. Consequently r_i=min{m+2, m+j}=m+2, and each contributes log(1+m+2)=Θ(log m).
Summing over the even block yields Θ(m log m). Therefore Reg_log(π)=Θ(m log m + m log m)=Θ(n log n).
3) Other norms. For L2 and L1 the same tree T has constant-cost intra-block edges (length √5 for L2, length 3 for L1) and a single bridge of length Θ(n), so MST_log^{||·||}(π)=Θ(n). Thus for any fixed norm, Reg_log(π)/MST_log^{||·||}(π)=Θ(log n), and no universal constant C can satisfy Reg_log ≤ C·MST_log^{||·||} for all π.
∎

Corollary (Two-sided comparison up to a Θ(log n) factor).
Fix any norm ||·|| on R^2. There exist positive constants A(||·||), B(||·||) such that for all n and all π,
A(||·||)·MST_log^{||·||}(π) ≤ Reg_log(π) ≤ B(||·||)·log(1+n)·MST_log^{||·||}(π),
with A(L∞)=1 and, for example, B(L∞)=1/log 2. Moreover, the multiplicative Θ(log n) dependence in the upper bound is tight in general by Theorem D.

Remarks on constants and norms
- In Theorem B, for L_p norms in R^2 one can take b=2^{1/p}, giving MST_log^{(p)}(π) ≤ [1 + (log 2)/(p·log 3)]·Reg_log(π).
- In Theorem C, the explicit constants are c(L∞)=log 2, c(L2)=log(1+√2), c(L1)=log 3.
- The logarithm base is arbitrary but fixed; changing the base rescales all three quantities by the same positive constant, preserving all asymptotic inequalities.

This completes the comparison of MST_log and Reg_log up to universal constant factors: Reg_log always dominates MST_log (exactly in L∞ and up to a fixed constant in any norm), while the reverse domination fails by a tight Θ(log n) factor in the worst case, though a universal Reg_log ≤ O(log n)·MST_log bound always holds.