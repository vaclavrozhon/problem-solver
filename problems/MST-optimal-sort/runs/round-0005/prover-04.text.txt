# Main results (self-contained)

Throughout, n≥2 is an integer and π∈S_n. Set P_π={p_i=(i,π(i)) : i=1,…,n}⊂R^2. Fix a norm ||·|| on R^2 and a logarithm base; changing either only affects constants.

Define edge weights w(u,v)=log(1+||u−v||). Let MST_log^||·||(π) be the total weight of a minimum spanning tree (MST) of the complete graph on P_π with these weights. Define for i≥2
- Δ_i := |π(i)−π(i−1)|,
- t_i := min{i−j : 1≤j<i and |π(i)−π(j)|=1}, with t_i:=i−1 if no such j exists,
- d_i := 1 + #{ k<i : min(π(i−1),π(i)) < π(k) < max(π(i−1),π(i)) },
- r_i := min{ d_i + t_i, i }.
Set Reg_log(π) := ∑_{i=2}^n log(1+r_i).

We prove three theorems giving the exact L∞ domination, norm-lifted domination, a universal O(log n) reverse bound, and a tight separation.


Theorem 1 (Exact domination in L∞). For the L∞ norm,
  MST_log^∞(π) ≤ Reg_log(π) for all π.

Proof. For t≥0, let G(t) be the threshold graph on P_π joining u,v iff ||u−v||_∞ ≤ t, and let κ(t) be its number of connected components. Kruskal’s identity (layer-cake) for φ(x)=log(1+x) with φ′(t)=1/(1+t) gives
  MST_log^∞(π) = ∫_0^∞ (κ(t)−1) d log(1+t) = ∫_0^∞ (κ(t)−1) φ′(t) dt.
We upper bound κ(t) via a sparse subgraph H(t): process i=2,…,n in order and add to H(t)
- the time edge (i−1,i) if Δ_i ≤ t;
- the value-neighbor edge (i,j) where j<i is the largest index with |π(i)−π(j)|=1, if t_i ≤ t.
Each added edge has L∞-length ≤ t: for a time edge, ||p_i−p_{i−1}||_∞=max{1,Δ_i}≤t; for a value edge, ||p_i−p_j||_∞=max{t_i,1}≤t. Hence H(t)⊆G(t), so κ(t)≤κ_H(t).
Expose vertices in increasing i and write κ_H,i(t) for the component count of the subgraph on {1,…,i}. When vertex i arrives, the component count increases by 1, but if Δ_i≤t we add (i−1,i) which merges the new vertex into the component of i−1, reducing the count by 1; if instead Δ_i>t but t_i≤t we add (i,j) with j<i which merges the new vertex into an existing component, again reducing the count by 1. Therefore the count fails to drop back by 1 only when both Δ_i>t and t_i>t. Starting from κ_H,1(t)=1, we get
  κ_H(t) ≤ 1 + |{ i∈{2,…,n} : Δ_i>t and t_i>t }|.
Integrating,
  MST_log^∞(π) ≤ ∫_0^∞ |{i : Δ_i>t, t_i>t}| φ′(t) dt
                 = ∑_{i=2}^n ∫_0^{min{Δ_i,t_i}} φ′(t) dt
                 = ∑_{i=2}^n log(1 + min{Δ_i,t_i})
                 ≤ ∑_{i=2}^n log(1 + r_i) = Reg_log(π),
using r_i ≥ t_i. ∎

Corollary 2 (Domination for any norm). Let b:=sup_{||z||_∞=1} ||z|| (finite). Then for all π,
  MST_log^||·||(π) ≤ ((log b)/log 3 + 1) · Reg_log(π).

Proof. Let T∞ be an L∞-MST. For any edge e, 1+||e|| ≤ b(1+||e||_∞), so log(1+||e||) ≤ log b + log(1+||e||_∞). Summing over the n−1 edges of T∞,
  MST_log^||·||(π) ≤ (n−1) log b + MST_log^∞(π) ≤ (n−1) log b + Reg_log(π).
Since r_i ≥ 2 for all i (d_i≥1 and t_i≥1 or =i−1), Reg_log(π) ≥ (n−1) log 3. Rearranging yields the stated bound. For L_p, b=2^{1/p}, giving MST_log^{(p)}(π) ≤ (1 + (log 2)/(p·log 3)) Reg_log(π). ∎


Theorem 3 (Universal logarithmic reverse bound). For any fixed norm ||·|| there exists c>0 such that for all π and all n,
  Reg_log(π) ≤ (log(1+n)/c) · MST_log^||·||(π).

Proof. In the permutation grid, any two distinct points differ by at least 1 in each coordinate. Hence for L∞, every edge has length ≥1 and weight ≥ log 2; for L2, length ≥√2 and weight ≥ log(1+√2); for L1, length ≥2 and weight ≥ log 3. More generally, by norm equivalence there exists α>0 such that ||z|| ≥ α||z||_∞ for all z, hence every edge has weight ≥ c:=log(1+α). Therefore MST_log^||·||(π) ≥ (n−1) c. Also r_i ≤ i gives Reg_log(π) ≤ ∑_{i=2}^n log(1+i) ≤ (n−1) log(1+n). Combining yields Reg_log(π) ≤ (log(1+n)/c)·MST_log^||·||(π). ∎


Theorem 4 (Tight separation). There is no universal constant C with Reg_log(π) ≤ C·MST_log^||·||(π) for all π. In fact there exists a family {π_n} such that Reg_log(π_n)/MST_log^||·||(π_n) = Θ(log n) for any fixed norm.

Proof. For even n, define the parity-block permutation by listing even values in increasing order followed by odd values in increasing order: π(i)=2i for i≤n/2 and π(i)=2(i−n/2)−1 for i>n/2.
- MST_log^||·||(π)=Θ(n). Upper bound: Within each half, the time edges (i−1,i) have Δ_i=2, hence constant weight; these n−2 edges contribute Θ(n). One bridge connects the halves, costing O(log n). Lower bound: by the previous proof, every MST has total weight ≥ (n−1)c for a norm-dependent c>0. Thus MST_log=Θ(n).
- Reg_log(π)=Θ(n log n). In the first half (i=2,…,n/2), no odd value has appeared, so t_i=i−1 and d_i=1; hence r_i=i and the contribution is ∑_{i=2}^{n/2} log(1+i)=Θ((n/2) log n). At i=n/2+1 we have a jump from n to 1, giving r_{n/2+1}=Θ(n). For the remaining odds, the nearest value-neighbor (the preceding even) lies in the first half at temporal distance t_i=n/2, and d_i=2, so r_i=Θ(n) and each contributes Θ(log n). Summing yields Reg_log=Θ(n log n).
Therefore Reg_log/MST_log=Θ(log n), proving that no universal constant C suffices in the reverse direction. ∎


Consequences.
- Combining Theorems 1–3, the two measures are equivalent up to a Θ(log n) factor in the worst case: for every fixed norm ||·|| and every π,
    MST_log^||·||(π) ≤ K_1 · Reg_log(π) and Reg_log(π) ≤ K_2 log(1+n) · MST_log^||·||(π),
  with explicit K_1,K_2 depending only on the norm and logarithm base. The Θ(log n) factor is optimal by Theorem 4.
- For random π, both measures have expectation Θ(n log n) (the upper/lower bounds above are consistent), and the L∞ inequality MST_log ≤ Reg_log holds pointwise.

Remarks on constants. In Corollary 2, for L∞ one has b=1 and MST_log^∞ ≤ Reg_log exactly. In Theorem 3, c=log 2 for L∞, c=log(1+√2) for L2, c=log 3 for L1. All constants depend only on the norm and the logarithm base.
