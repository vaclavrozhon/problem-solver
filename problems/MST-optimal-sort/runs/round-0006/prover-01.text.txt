# Asymptotic comparison between MST_log and Reg_log

We work on the point set P_π = {(i, π(i)) : i = 1,…,n} ⊂ R^2. Fix a norm ||·|| on R^2 and a logarithm base (changing either only rescales constants). For u,v∈P_π define the edge weight w(u,v)=log(1+||u−v||). Let MST_log^{||·||}(π) be the total w-weight of a minimum spanning tree on P_π.

For i≥2 define
- Δ_i := |π(i) − π(i−1)|,
- t_i := min{i−j : 1 ≤ j < i and |π(i) − π(j)| = 1}, with t_i := i−1 if no such j exists,
- d_i := 1 + #{ k<i : min(π(i−1),π(i)) < π(k) < max(π(i−1),π(i)) },
- r_i := min{ d_i + t_i, i }.
Set Reg_log(π) := ∑_{i=2}^n log(1+r_i). Note r_i ≥ 2 for all i≥2, so Reg_log(π) ≥ (n−1)·log 3.

We write MST_log(π) for the L∞ case (||·||=||·||_∞). All constants below depend only on the chosen norm and log base.


Theorem 1 (One-sided domination in L∞, with an additive O(n) term). For all permutations π,

MST_log(π) ≤ ∑_{i=2}^n log(1+min{Δ_i,t_i}) + O(n) ≤ Reg_log(π) + O(n).

In particular, there is a universal constant C_∞ such that MST_log(π) ≤ C_∞·Reg_log(π) for all π.

Proof.
Let G(t) be the threshold graph on P_π joining pairs at L∞-distance ≤ t, and let κ(t) be its number of connected components. For an MST whose L∞-edge lengths are {ℓ_e}, the layer-cake identity gives

MST_log(π) = ∑_e log(1+ℓ_e) = ∫_0^∞ (# {e : ℓ_e > t}) dt/(1+t) = ∫_0^∞ (κ(t) − 1) dt/(1+t),

where the last equality is standard: # {e : ℓ_e > t} = κ(t) − 1, because among edges of length ≤ t the MST contains exactly n − κ(t) edges (one less than the size of each component of G(t)).

Discretize at dyadic thresholds t_k := 2^k (k=0,1,…,K), where 2^K ≥ max_e ℓ_e. Since κ is nonincreasing in t,

MST_log(π) ≤ ∑_{k=0}^{K−1} (κ(t_k) − 1)·[log(1+t_{k+1}) − log(1+t_k)] ≤ (log 2) ∑_{k=0}^{K−1} (κ(t_k) − 1).

Fix k and consider building a sparse subgraph H(t_k) with the following edges: for each i≥2, add the time edge (i−1,i) if Δ_i ≤ t_k; if there exists j<i with |π(i)−π(j)|=1 and t_i≤t_k, add the value-neighbor edge (j,i). These edges have L∞-length ≤ t_k when present, hence H(t_k)⊆G(t_k), so κ(t_k) ≤ κ_H(t_k).

Expose vertices in order 1,2,…,n. For i ≥ t_k+2, if Δ_i ≤ t_k then the time edge connects i to the previous component; if t_i ≤ t_k then the value-neighbor edge connects i to the previous component; thus for i ≥ t_k+2 a new component can be created at i only if both Δ_i>t_k and t_i>t_k. For the initial prefix i ≤ t_k+1, trivially κ_H(t_k) ≤ t_k+1 after processing those vertices. Therefore

κ(t_k) − 1 ≤ κ_H(t_k) − 1 ≤ (t_k+1) + |{ i ∈ {t_k+2,…,n} : Δ_i>t_k and t_i>t_k }| 
≤ (t_k+1) + |{ i∈{2,…,n} : Δ_i>t_k and t_i>t_k }|.

Summing over k and multiplying by log 2,

MST_log(π) ≤ (log 2) ∑_{k≥0} |{ i : Δ_i>2^k and t_i>2^k }| + (log 2) ∑_{k≥0} (2^k+1).

For any x≥0, ∑_{k≥0} 1{2^k < x}·log 2 ≤ log(1+x). Hence

(log 2) ∑_{k≥0} |{ i : Δ_i>2^k and t_i>2^k }| = ∑_{i=2}^n (log 2) ∑_{k≥0} 1{2^k < min(Δ_i,t_i)}
≤ ∑_{i=2}^n log(1+min{Δ_i,t_i}).

Moreover, ∑_{k≥0} (2^k+1) over k with 2^k ≤ max_e ℓ_e ≤ n−1 is O(n) (indeed ≤ 2n + O(log n)). This proves the first inequality. The second follows from min{Δ_i,t_i} ≤ r_i. Finally, since Reg_log(π) ≥ (n−1)·log 3, the additive O(n) term is absorbed into a universal multiplicative constant C_∞. ∎


Corollary 2 (Domination for any norm; explicit constant). Let ||·|| be any norm on R^2 and set b := sup_{||z||_∞=1} ||z|| ∈ [1,∞). Then for all π,

MST_log^{||·||}(π) ≤ MST_log(π) + (n−1)·log b ≤ C · Reg_log(π),

with C = C_∞ + (log b)/(log 3).

Proof.
For any edge e, 1+||e|| ≤ b(1+||e||_∞), hence log(1+||e||) ≤ log b + log(1+||e||_∞). Summing along an L∞-MST gives MST_log^{||·||}(π) ≤ (n−1)·log b + MST_log(π). Apply Theorem 1 and Reg_log(π) ≥ (n−1)·log 3. ∎


Theorem 3 (Universal logarithmic reverse bound). For any fixed norm ||·|| on R^2 there exists c>0 such that for all π and n,

Reg_log(π) ≤ (log(1+n)/c) · MST_log^{||·||}(π).

Proof.
Any two distinct permutation points have both coordinate gaps ≥1, hence any spanning-tree edge has norm at least α>0 (e.g., α=1 for L∞, α=√2 for L2, α=2 for L1). Thus each MST edge has weight ≥ c:=log(1+α), so MST_log^{||·||}(π) ≥ (n−1)·c. On the other hand r_i ≤ i yields Reg_log(π) ≤ ∑_{i=2}^n log(1+i) ≤ (n−1)·log(1+n). Divide. ∎


Theorem 4 (Separation; no constant-factor reverse domination). There is no universal C with Reg_log(π) ≤ C·MST_log^{||·||}(π) for all π. In fact, for any fixed norm, there exist permutations with Reg_log/MST_log = Θ(log n).

Proof.
Take the parity-interleaving permutation for even n: π(2m−1)=m and π(2m)=n/2+m (m=1,…,n/2).

- MST_log^{||·||}(π)=Θ(n): Consider the spanning tree connecting odd indices by edges (2-step in time, ±1 in value) and even indices similarly, plus one bridge between the two chains. Each intra-chain edge has constant length in any fixed norm (||·||((2,±1)) is constant), hence constant weight; the single bridge contributes O(log n). A matching Ω(n) lower bound holds since every MST has n−1 edges of weight ≥ c>0 (from Theorem 3). Thus MST_log^{||·||}(π)=Θ(n).

- Reg_log(π)=Θ(n log n): For odd i=2m−1 with m≥2, the most recent value neighbor of value m is m−1 at index 2m−3, so t_{2m−1}=2. Among earlier indices, exactly the even values n/2+1,…,n/2+(m−2) lie strictly between π(i−1)=n/2+(m−1) and π(i)=m, so d_{2m−1}=m−1. Hence r_{2m−1}=min(m+1,2m−1)=m+1. For even i=2m with m≥2, t_{2m}=2 (neighbor n/2+m−1 at index 2m−2), and d_{2m}=m. Hence r_{2m}=min(m+2,2m)=m+2. The finitely many boundary cases (m=1) only affect O(1) terms. Therefore

Reg_log(π) = ∑_{m=1}^{n/2} [log(1+r_{2m−1}) + log(1+r_{2m})] = ∑_{m=1}^{n/2} [log(2+m)+log(3+m)] = Θ(n log n).

Thus Reg_log/MST_log = Θ(log n). ∎


Conclusions. Theorems 1–4 resolve the dominance questions up to optimal factors:
- Reg dominates MST: for L∞, MST_log(π) ≤ Reg_log(π) + O(n), hence MST_log(π) ≤ C_∞·Reg_log(π); for any fixed norm, MST_log^{||·||}(π) ≤ C·Reg_log(π) with explicit C.
- MST does not dominate Reg by a constant: there are permutations with Reg_log/MST_log = Θ(log n).
- Universal upper bound: for all π, Reg_log(π) ≤ (log(1+n)/c)·MST_log^{||·||}(π).
Hence the worst-case multiplicative gap is Θ(log n), and this is optimal.

Explicit constants for common norms. In Corollary 2, for L_p in R^2, b = sup ||z||_p/||z||_∞ = 2^{1/p}. In Theorem 3, one may take α=1 (L∞), α=√2 (L2), α=2 (L1). The additive O(n) in Theorem 1 can be taken as ≤ 3·(log 2)·n for natural logarithms (or the analogous constant for any fixed base), which is absorbed into the stated multiplicative factors using Reg_log ≥ (n−1)·log 3.