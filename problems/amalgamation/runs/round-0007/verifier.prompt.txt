--- SYSTEM ---
You are a strict mathematical verifier & research manager.

You are being run in a loop with provers. Your tasks:
- Audit their ideas for correctness and rigor.
- Curate files (notes.md and output.md).
- Suggest the next steps.

Inputs: 
- task statement
- outputs of provers
- notes.md (summary so far)
- output.md (rigorously proven results so far)

Guidelines:
- notes.md: should be a readable running log of interesting work. Prefer appending. Replace only if old notes are clearly misleading. Remember -- notes should be self-contained and should make sense even without seeing outputs of past provers. 
- output.md:  Think twice before you add something to this file. Everything here should be rigorous, almost publication-ready. It should contain only fully proven theorems that are clearly an interesting step towards the solution (or the solution itself). The beginning of the file is a clear list of interesting theorems you can prove, together with a discussion about why it is relevant. From the statement of the theorem it has to be clear that this constitutes nontrivial progress towards solution. The rest of the file contains a fully rigorous list of the proofs of the theorems. Keep only proven theorems with clear proofs. If a statement in that file is flawed / unprecise and you cannot fix it on the spot, remove it from output.md and instead add it to notes.md with explanation.
- Be careful with the booleans `new_notes_append` and `new_outputs_append`: default is True (append). Use False only when deliberately rewriting everything.

Tasks:
1) Audit rigor: identify unjustified steps, false statements, missing lemmas; produce minimal counterexamples.
2) Triage value: separate genuine progress from noise.
3) Guide next steps: propose what provers should try next.

**Return strictly JSON**:
{
  "feedback_md": "Detailed critique of prover outputs (≥200 words). Include concrete next-step suggestions. The next round of provers may not see last round outputs; ensure all valuable info is stored in notes.",
  "new_notes_md": "Markdown (KaTeX allowed). Usually appended to notes.",
  "new_notes_append": "True|False",
  "new_outputs_md": "Markdown (KaTeX allowed). Usually appended to output.md.",
  "new_outputs_append": "True|False",
  "verdict": "success|partial success|nothing so far"
}

**Verdict definitions**:
- **success**: Something that one could publish, even if it is not the full solution (e.g., significant theorem, key lemma, novel technique, partial solution with clear path forward)
- **partial success**: Something worthy enough to write into output.md (e.g., correct but preliminary results, useful technical lemmas, validated approaches that advance understanding)
- **nothing so far**: No meaningful mathematical progress or only exploratory work


--- USER ---
You receive multiple prover reports. Evaluate correctness, value, and pick promising directions. Update notes.md (append/replace) with useful ideas and update output.md (append/replace) ONLY with rigorously verified results.

Prover reports (JSON):
[{"prover_id": "01", "progress_md": "Round 0007 \u2014 Focus: sharpen O5-membership testing and prune local tables with rigorous tools; refine the |A|=4 search\n\nSummary of what is rigorous in output.md and remaining gaps\n- Proposition 1, Lemma 2, Proposition 3, Corollary 4, Fact 5, Lemma 6, Corollary 7, Lemma 8, Corollary 9, Lemma 10, Proposition 11 (conditional), Proposition 12, Lemma 13, Proposition 14, Proposition 15, Lemma 16, Corollary 16.1, Lemma 17 are internally consistent and correctly stated.\n- Remaining gap to settle AP: We still need the two base local tables F(+,+), F(+,-) and, consequently, a resolution of the |A|=4 one\u2011point CSP across the realized profiles. Proposition 11 remains conditional; Corollary 16.1 offers an unconditional route if both complements are \u22641, but this awaits the tiny computation.\n- A useful characterization of O5 membership (the \u201cHamming\u20111\u201d criterion; see Lemma H1 below) is not yet recorded in output.md. It reduces orbit membership to a radius\u20111 Hamming neighborhood test around the set E={\u03b5(\u03c4):\u03c4\u2208S5}. This should be added later for transparency (do not edit output.md now).\n\nNew micro\u2011lemma (rigorous) \u2014 Hamming\u20111 characterization of the O5 orbit (implementation aid)\nLemma H1 (O5 as Hamming distance 1 from E).\n- Let e_O=(+,-,-,-,-) and E:={\u03b5(\u03c4):\u03c4\u2208S_5} with \u03b5(\u03c4) as in Lemma 6. Then for p\u2208{\u00b11}^5,\n  p\u2208O5 if and only if there exist \u03b5\u2208E and i0\u2208{1,\u2026,5} such that, writing q:=-p, one has Hamming(q,\u03b5)=1 with the unique discrepancy at i0.\n- Equivalently, O5 = { flip_all_but_one(\u03b5,i0) : \u03b5\u2208E, i0\u2208[5] }, where flip_all_but_one(\u03b5,i0) is the 5\u2011vector v with v_{i0}=\u03b5_{i0} and v_i=\u2212\u03b5_i for i\u2260i0.\nProof. By the specialization of the action to e_O: R_\u03c4(e_O) has coordinates p\u2032_i = \u03b5_i(\u03c4)\u00b7(e_O)_{\u03c4^{-1}(i)}; if j=\u03c4^{-1}(i) equals the unique + position of e_O, then p\u2032_i=\u03b5_i(\u03c4), and otherwise p\u2032_i=\u2212\u03b5_i(\u03c4). Writing i0:=\u03c4(1), we obtain exactly p\u2032=flip_all_but_one(\u03b5(\u03c4),i0). Conversely, any vector of this form is R_\u03c4(e_O) for the corresponding \u03c4. Rewriting as q:=-p yields the Hamming\u20111 characterization. \u220e\nWhy useful. For an IsO5 oracle, it suffices to precompute E (120 evaluations via Lemma 6) and then test membership of \u2212p in the radius\u20111 Hamming neighborhood of E. This is faster and more robust than building the full O5 orbit, and supports hand checks.\n\nConcrete consequences and hand checks (auditable)\n- Sanity: For p=(+,-,+,+,+), q=(\u2212,+,\u2212,\u2212,\u2212). If \u03b5=all \u2212 were known to occur with i0=2, then Hamming(q,\u03b5)=1 at 2 and p\u2208O5. We cannot assert \u201c\u03b5=all \u2212 with \u03c4(1)=2\u201d without computation (see Obstacles), so we keep this as a tiny check for the IsO5 implementation, not as a claim.\n- Verified exclusions retained: (x,y,z)=(\u2212,\u2212,\u2212) is forbidden for (\u03b1,\u03b2)=(+,-) (Lemma 13). By sign symmetry (Cor. 9), (+++) is forbidden for (\u03b1,\u03b2)=(\u2212,+).\n- Verified inclusions (from |A|=3 constructive witnesses, Proposition 14): (+++)\u2208F(+,+); (\u2212\u2212\u2212)\u2208F(\u2212,\u2212); (+,\u2212,+)\u2208F(+,-); (\u2212,+,\u2212)\u2208F(\u2212,+). These serve as base unit tests for the F\u2011table computation.\n\nRefined computational blueprint (minimal, decisive)\nA) Precompute E and implement IsO5 via Lemma H1.\n- Enumerate all \u03c4\u2208S5; compute \u03b5(\u03c4) via Lemma 6; store E as a set of 5\u2011vectors.\n- IsO5(p): compute q=\u2212p; return true iff \u2203\u03b5\u2208E with Hamming(q,\u03b5)=1. Archive |E| and, optionally, the multiset of sums \u03a3\u03b5_i (useful for diagnostics).\n- Unit checks: classify (+,+,+,+,+) as non\u2011O5; (+,\u2212,\u2212,\u2212,\u2212) as O5; (+,\u2212,+,\u2212,+) as non\u2011O5. Also verify sample \u03b5(\u03c4) vectors from notes (id, (12), (123), (12)(34), (13)).\n\nB) Populate the base local tables under the fixed coordinate order.\n- Compute F(+,+) and F(+,-) completely by evaluating the 8 triples each against IsO5 on p=(\u03b1,\u03b2,x,y,z). Derive F(\u2212,\u2212) and F(\u2212,+) by triplewise negation (Cor. 9). Archive explicit lists and complements; report sizes.\n- Immediate validations: (+++)\u2208F(+,+), (\u2212\u2212\u2212)\u2209F(+,-) as above. Keep an eye on the number of forbidden triples per table (Cor. 16.1 route).\n\nC) Decide |A|=4 one\u2011point amalgamation via two small routes.\n- If |{\u00b11}^3\\F(+,+)| \u2264 1 and |{\u00b11}^3\\F(+,-)| \u2264 1, invoke Lemma 16 + Cor. 16.1 to conclude the |A|=4 step and hence AP (Lemma 2).\n- Otherwise, run the 6\u2011variable CSP per realized profile (brute force over x_{ij}\u2208{\u00b11}): for each assignment, build the four p(Y_k) and test IsO5; archive a SAT witness or an UNSAT certificate if found. Use Lemma 17 (parity) to prune: an odd number of triangles demanding triple product \u22121 is impossible.\n\nD) Optional but efficient: a backtracking solver with small branching.\n- Choose a triangle (say Y_4) and fix its triple (x_{12},x_{13},x_{23}) to one of the |F(p^B_4,p^C_4)| allowed patterns (at most 8 choices). Propagate to constraints on Y_1,Y_2,Y_3 via shared edges; backtrack when hitting an O5. With at most 8 initial branches and shallow propagation, this is typically faster than the naive 2^6 loop.\n\nImplications for the 2+2 vertex\u2011sign ansatz\n- The conditional Proposition 11 cannot be used until we certify memberships of all three permutations of (+,\u2212,\u2212) in each F(\u03b1,\u03b2). The Hamming\u20111 criterion (Lemma H1) provides a crisp way to test the key instances; in particular, the four 5\u2011vectors listed in notes for P1\u2013P3 should be tested immediately (they are built from permutations of (+,\u2212,\u2212) on the last three coordinates with (\u03b1,\u03b2)=(+,+) and (+,\u2212)).\n- If any of those four classifies as O5, the uniform 2+2 ansatz fails for that profile (which is fine; Proposition 12 already solves the fully aligned (++++) case by a constant assignment). We then proceed with the general CSP or the backtracking solver.\n\nExamples to feed IsO5 (relisted for convenience; same coordinate order as output.md)\n- P1 (C vs C, aligned): check (+,+,\u2212,\u2212,+) and (+,+,+,\u2212,\u2212).\n- P2 (C vs C, opposed): check (+,\u2212,\u2212,\u2212,+) and (+,\u2212,+,\u2212,\u2212).\n- P3 (C vs H, mixed): check (+,\u2212,\u2212,\u2212,+) and (+,\u2212,+,\u2212,\u2212) (same as P2).\nOutcome of these four evaluations will immediately confirm or refute the 2+2 ansatz on these central profiles and guide the subsequent global search.\n\nWhy these steps are concrete, incremental progress\n- Lemma H1 gives a simple, exact O5\u2011membership test in terms of a precomputed set E and Hamming distance. It streamlines the IsO5 routine and enables hand checks in small instances.\n- The plan B/C/D consolidates earlier ideas into a minimal, decisive pipeline that either resolves |A|=4 via the small\u2011table criterion (Cor. 16.1) or via a tiny brute force/backtracking with parity pruning. This is auditable and easily implementable.\n- The explicit test vectors from P1\u2013P3 remain the quickest sanity checks; their classification directly informs whether the 2+2 ansatz is viable anywhere beyond the equal\u2011constant subcase.\n\nObstacles and open items\n- We still lack an analytic description of E and, as a result, of the O5 orbit; computing E (120 entries) is the appropriate step.\n- Without the F\u2011tables, we cannot confirm or deny the \u201cproduct +1\u201d conjecture (Conjecture P+) or the stronger condition in Proposition 11.\n- Attempts to hand\u2011prove (+++)\u2209F(+,-) or to classify (+,\u2212,\u2212) in F(+,+) stumbled on the constraint i0=\u03c4(1) in the O5\u2011image formula; these are best left to the IsO5 oracle.\n\nNotes on output.md (gaps/clarifications; do not edit now)\n- It would be helpful to add, after Lemma 6 or near the definition of O5, the Hamming\u20111 characterization (Lemma H1) as a corollary specialized to the O5 seed e_O. This is already established in notes and will aid future readers.\n- The coordinate convention for p(Y_k) is clearly stated near Proposition 15; when the F\u2011tables are finalized, repeating that convention next to their definition will avoid confusion in reproducing the data.\n\nNext steps for the verifier (minimal, checkable)\n1) Build E via Lemma 6 and implement IsO5 using Lemma H1; run the unit tests and report |E|.\n2) Evaluate the four P1\u2013P3 vectors; report their O5 status.\n3) Populate F(+,+) and F(+,-); derive the others via Cor. 9; report complements and confirm Proposition 14\u2019s witness triples.\n4) If both complements are \u22641, conclude |A|=4 via Lemma 16 and AP via Lemma 2. Else, run the 6\u2011variable CSP (or the backtracking variant) on realized profiles; archive SAT witnesses or an UNSAT certificate if found.\n\nThis round\u2019s deliverables\n- New Lemma H1 (O5=Hamming\u20111 from E), with proof and implementation guidance.\n- A clarified, minimal computational plan prioritizing E and the two base F\u2011tables, and a compact backtracking alternative to the 2^6 brute force.\n- Retained and emphasized concrete test vectors (P1\u2013P3) and parity\u2011based pruning for the |A|=4 search."}, {"prover_id": "02", "progress_md": "# Round 0007 \u2014 Inner\u2011product characterization of O5 and immediate consequences for local F\u2011tables\n\n## Quick recap and current bottleneck\n- Goal: Decide AP for H (finite 4\u2011hypertournaments omitting O5) via the one\u2011point step. The hard minimal base is |A|=4, a 6\u2011variable CSP with four local 5\u2011set constraints Y_k (output.md Prop. 3).\n- Missing data: The local tables F(\u03b1,\u03b2)\u2286{\u00b11}^3 (especially for (\u03b1,\u03b2)\u2208{(+,+),(+,-)}), which determine whether the 2+2 vertex\u2011sign ansatz or a small brute\u2011force search suffices. We previously left open whether (+++)\u2208F(+,-).\n\n## New lemma (rigorous, implementation\u2011ready)\nLemma 18 (Inner\u2011product characterization of O5).\n- Statement. Let E={\u03b5(\u03c4):\u03c4\u2208S5} be the \u03b5\u2011set from Lemma 6. For p\u2208{\u00b11}^5, one has p\u2208O5 if and only if there exists \u03b5\u2208E with \u03a3_{i=1}^5 p_i \u03b5_i = \u22123.\n- Proof. O5 is the orbit of e_O=(+,-,-,-,-). For \u03c4\u2208S5, the image has the form p=\u03c6(\u03b5,i0) where \u03b5=\u03b5(\u03c4), i0=\u03c4(1), and p_i=\u03b5_i if i=i0 and p_i=\u2212\u03b5_i otherwise (notes: \u201cO5\u2011image formula\u201d). Hence \u03a3 p_i \u03b5_i = \u03b5_{i0}^2 + \u03a3_{i\u2260i0}(\u2212\u03b5_i^2)=1\u22124=\u22123. Conversely, if \u03a3 p_i \u03b5_i = \u22123 with \u03b5\u2208E, then exactly one coordinate satisfies p_i \u03b5_i=+1 (the others are \u22121). Let i0 be this index. Then p=\u03c6(\u03b5,i0), hence p\u2208O5. \u220e\n- Why useful: Reduces IsO5 to a 120\u2011element check over E with a single scalar test; in particular, special \u03b5\u2208E yield immediate hand\u2011classifications for families of 5\u2011vectors p.\n\n## Immediate corollaries for F(\u03b1,\u03b2) (hard exclusions now settled)\nUsing Lemma 8 (\u03b5\u2261\u22121\u2208E) and that \u03b5\u2261(+1)\u2208E (\u03c4=id), Lemma 18 yields:\n- C1. F(+,-): (+++) is forbidden. Indeed, p=(+,-,+,+,+) has \u03a3 p_i=+3, and with \u03b5\u2261\u22121 we get \u03a3 p_i \u03b5_i=\u22123 \u21d2 O5. Together with output.md Lemma 13 ((---) forbidden), we now fully classify the all\u2011equal triples in the opposite\u2011fixed case: both (+++) and (---) are O5 (forbidden).\n- C2. F(+,+): Every triple with exactly two \u201c+\u201d and one \u201c\u2212\u201d is forbidden. For p=(+,+,x,y,z), \u03a3 p_i = 2 + (x+y+z). When the triple has two + and one \u2212, x+y+z=+1 \u21d2 \u03a3 p_i=+3, hence O5 by \u03b5\u2261\u22121. Thus all three permutations of (++\u2212) are excluded in F(+,+).\n- C3. F(\u2212,\u2212): Every triple with exactly one \u201c+\u201d and two \u201c\u2212\u201d is forbidden. Symmetric to C2 via flipping all signs (Cor. 9).\nThese are strict consequences; there may be further forbidden triples (we do not claim exclusivity without enumerating E).\n\nWhy this matters now:\n- The long\u2011standing ambiguity \u201c(+++)\u2208F(+,-)?\u201d is resolved (it is forbidden). This tightens the local tables and provides immediate unit tests for IsO5 and F\u2011table population.\n- C2 implies the union\u2011bound route (Lemma 16) cannot settle the |A|=4 step: for (\u03b1,\u03b2)=(+,+), at least three triples are forbidden, so |{\u00b11}^3\\F(+,+)| \u2265 3 (>1). The union\u2011bound lemma remains valid but is not applicable here.\n\n## Compatibility with the 2+2 vertex\u2011sign ansatz (sanity checks)\n- The 2+2 ansatz only produces triangle\u2011triples of product +1, namely the three permutations of (+,\u2212,\u2212) and (+++). Lemma 10 (and its refinement in notes) shows that with 2+2, exactly the two ordered shapes (+,\u2212,\u2212) and (\u2212,\u2212,+) occur across k (under our fixed coordinate convention), never (\u2212,+,\u2212) and never (+++).\n- The new exclusions C1\u2013C3 do not rule out (+,\u2212,\u2212) or (\u2212,\u2212,+) for either (\u03b1,\u03b2)=(+,+) or (+,\u2212). Thus the central feasibility question for the 2+2 method remains: do these two ordered shapes lie in F(+,+) and F(+,-)? If yes, Proposition 11 applies and the |A|=4 step follows uniformly.\n\n## Examples and unit tests (for the verifier)\n- All\u2011equal in the opposite\u2011fixed case:\n  \u2022 (\u03b1,\u03b2)=(+,-), (x,y,z)=(+,+,+) \u21d2 p=(+,-,+,+,+) \u21d2 \u03a3 p=+3 \u21d2 O5 by \u03b5\u2261\u22121.\n  \u2022 (\u03b1,\u03b2)=(+,-), (x,y,z)=(\u2212,\u2212,\u2212) \u21d2 canonical O5 representative.\n  These should both fail IsO5 (i.e., classify as O5) and be excluded from F(+,-).\n- Mixed in the equal\u2011fixed case:\n  \u2022 (\u03b1,\u03b2)=(+,+), (x,y,z) a permutation of (++\u2212) \u21d2 \u03a3 p=+3 \u21d2 O5 by \u03b5\u2261\u22121. All three such ordered triples must be excluded from F(+,+).\n- Sanity checks for the 2+2 test vectors (from notes P1\u2013P3):\n  \u2022 (+,+,\u2212,\u2212,+), (+,+,+,\u2212,\u2212), (+,\u2212,\u2212,\u2212,+), (+,\u2212,+,\u2212,\u2212) all have \u03a3 p\u2208{+1,\u22121}. Lemma 18 gives no automatic O5 verdict with \u03b5\u2261\u00b11, which is consistent with the expectation that these might be non\u2011O5 (to be confirmed by IsO5).\n\n## Implementation aids (to speed E and IsO5)\n- Cocycle identity. For \u03c3,\u03c4\u2208S5 and i\u2208[5]: \u03b5_i(\u03c3 \u03c4) = \u03b5_i(\u03c3)\u00b7\u03b5_{\u03c3^{-1}(i)}(\u03c4). Proof: Compose the two signed actions (output.md Lemma 6) and compare with the one\u2011step action of \u03c3 \u03c4; coordinate\u2011wise equality follows from the definition of the induced signs on 4\u2011element complements. This identity enables generating E from the \u03b5 of adjacent transpositions.\n- Minimal generator data. Compute \u03b5 for the four adjacent transpositions s_k=(k,k+1) (k=1,\u2026,4) once (via Lemma 6), and generate E by the cocycle identity using any standard S5 word. Archive |E| and its list; then:\n  \u2022 p\u2208O5 iff min_{\u03b5\u2208E} \u03a3 p_i \u03b5_i = \u22123 (Lemma 18).\n  \u2022 F(\u03b1,\u03b2) is the complement in {\u00b11}^3 of those triples whose 5\u2011vector hits \u22123 against some \u03b5.\n\n## Obstacles and limits of the new facts\n- C1\u2013C3 are only necessary exclusions. Without a full enumeration of E (or equivalently, the O5 orbit), we cannot decide the status of the key ordered shapes (+,\u2212,\u2212) and (\u2212,\u2212,+) in F(+,+) and F(+,-), which control the 2+2 method.\n- The union\u2011bound feasibility (Lemma 16) is now known inapplicable due to C2. We keep it as a general tool, but it will not conclude the |A|=4 step here.\n\n## Next steps (minimal, decisive)\n1) Compute E via the cocycle identity (or directly via Lemma 6) and report |E|.\n2) Implement IsO5 using Lemma 18 (inner product \u22123 against E). Run unit tests including: C1/C2/C3 exclusions, and the four P1\u2013P3 vectors from notes.\n3) Populate F(+,+) and F(+,-) fully; derive the other two via Cor. 9. Explicitly confirm (or refute) that (+,\u2212,\u2212) and (\u2212,\u2212,+) are allowed in both tables.\n4) If both shapes are allowed in both tables, apply Proposition 11 (uniform 2+2) to conclude the |A|=4 step and AP (via Lemma 2). Otherwise, run the 2^6 CSP per realized macro\u2011profile, using the parity invariant (Lemma 17) for pruning, and archive SAT/UNSAT witnesses.\n\n## Notes on output.md (gaps/corrections to add later)\n- Suggest adding Lemma 18 (inner\u2011product characterization of O5) to output.md; it streamlines IsO5 and underpins the new corollaries.\n- With Lemma 18 in place, the status of (+++) in F(+,-) is settled (forbidden), refining the earlier caution in notes. Output.md currently proves only the (---) half (Lemma 13).\n- Record in output.md the strict necessary exclusions C2 and C3 for F(+,+) and F(\u2212,\u2212) respectively. These clarify why the union\u2011bound lemma (Lemma 16) cannot close the |A|=4 case here.\n\n## Summary of this round\u2019s progress\n- Established a sharp, general IsO5 criterion (Lemma 18): p\u2208O5 iff \u03a3 p_i \u03b5_i = \u22123 for some \u03b5\u2208E. This yields immediate, rigorous exclusions in the local F\u2011tables.\n- Resolved the open question (+++)\u2208F(+,-) (it is forbidden) and derived further necessary exclusions for F(+,+) and F(\u2212,\u2212), strengthening the local picture.\n- Refined the computational plan: generate E via a cocycle identity and complete F(+,+),F(+,-); then either certify the 2+2 method or finish with a tiny 2^6 CSP per profile.\n- Provided concrete unit tests and clarified why the union\u2011bound tool does not apply in this setting.\n"}, {"prover_id": "03", "progress_md": "Round 0007 \u2014 Focus: tightening IsO5 and the local F-tables; cocycle and generator analysis; implementable criteria\n\nStatus recap\n- The reduction to one-point amalgamation and the |A|=4 CSP is sound (output.md Props. 1\u20133). The small cases |A|\u22642 and |A|=3 are closed (Cor. 4, Prop. 14). We have two key tools now recorded: central symmetry (Lemma 8) and the global parity invariant across the four triangles (Lemma 17). The union-bound feasibility criterion (Lemma 16) gives a decisive small-table condition.\n- The remaining bottleneck is to populate F(+,+) and F(+,-) (and derive the other two by Cor. 9), and then either apply Lemma 16 or the 2+2 construction (Prop. 11) to finish |A|=4.\n\nNew micro-lemmas (auditable) \u2014 structure of \u03b5(\u03c4) and a cocycle\n1) Lemma 18 (\u03b5-cocycle for composition).\n- Statement: For \u03c4,\u03c3\u2208S5 and i\u2208{1,\u2026,5}, one has \u03b5_i(\u03c4\u03c3) = \u03b5_i(\u03c4)\u00b7\u03b5_{\u03c4^{-1}(i)}(\u03c3).\n- Proof: For p\u2032 = A_\u03c4(p) with (A_\u03c4p)_i = \u03b5_i(\u03c4)\u00b7p_{\u03c4^{-1}(i)}, we have (A_\u03c4A_\u03c3 p)_i = \u03b5_i(\u03c4)\u00b7(A_\u03c3 p)_{\u03c4^{-1}(i)} = \u03b5_i(\u03c4)\u00b7\u03b5_{\u03c4^{-1}(i)}(\u03c3)\u00b7p_{\u03c3^{-1}(\u03c4^{-1}(i))}. Since A_{\u03c4\u03c3}p has i-th coordinate \u03b5_i(\u03c4\u03c3)\u00b7p_{(\u03c4\u03c3)^{-1}(i)}, uniqueness of the action implies \u03b5_i(\u03c4\u03c3) = \u03b5_i(\u03c4)\u00b7\u03b5_{\u03c4^{-1}(i)}(\u03c3). \u220e\n- Why useful: Enables computation of all \u03b5(\u03c4) from the generators without recomputing c-counts; critical for a robust, fast IsO5 oracle.\n\n2) Lemma 19 (\u03b5 for adjacent transpositions).\n- Statement: For s_k=(k k+1) (k=1,2,3,4), \u03b5(s_k) has + at positions k,k+1 and \u2212 elsewhere, i.e., \u03b5(s_k)=(\u2212,\u2026,\u2212, + at k, + at k+1, \u2212,\u2026,\u2212).\n- Proof: s_k has exactly one inversion (between k and k+1). Its restriction to [5]\\{j} has odd sign iff j\u2208{k,k+1}, hence \u03b5_i(s_k)=sgn(s_k)\u00b7(\u22121)^{c_j} equals + at i=k,k+1 and \u2212 otherwise. This matches direct c_j counts (as checked in notes earlier). \u220e\n- Why useful: Supplies base \u03b5-vectors on generators; combined with Lemma 18 yields all \u03b5(\u03c4) by multiplying generators.\n\n3) Corollary (parity of the number of + in \u03b5(\u03c4)).\n- By Corollary 7, \u220f_i \u03b5_i(\u03c4)=sgn(\u03c4). Let m(\u03b5) be the number of + entries. Then (\u22121)^{5\u2212m(\u03b5)}=sgn(\u03c4), so m(\u03b5) is odd if \u03c4 is even and even if \u03c4 is odd. Useful as a sanity check for \u03b5 enumeration.\n\nCorrected and implementable IsO5 criterion (pair-set S)\n- O5-image formula (from notes) says: for e_O=(+,-,-,-,-), the image under \u03c4 is p with p_i = \u2212\u03b5_i(\u03c4) for i\u2260i0 and p_{i0} = \u03b5_{i0}(\u03c4) where i0:=\u03c4(1). Equivalently, for a given p, there exists \u03c4 with (\u03b5,i0)=(\u03b5(\u03c4),\u03c4(1)) such that p\u2299\u03b5 equals h(i0), the vector with exactly one + at i0 and \u2212 elsewhere.\n- Crucial correction: It is not enough to find i0 with p\u2299h(i0) \u2208 E={\u03b5(\u03c4)}; the pair (\u03b5,i0) must be realized by the same \u03c4 (i.e., i0=\u03c4(1) for \u03b5=\u03b5(\u03c4)). This invalidates the naive \u201c\u03b5-only\u201d test and explains the earlier false positive for p=(+,+,+,+,+) with \u03b5=h(5).\n- Implementation blueprint: Precompute the pair-set S = { (\u03b5(\u03c4), i0=\u03c4(1)) : \u03c4\u2208S5 } using Lemma 18 and generators s_k (Lemma 19), tracking i0 under right-multiplication: if \u03c4\u2032=\u03c4 s_k then \u03b5(\u03c4\u2032)_i = \u03b5_i(\u03c4)\u00b7\u03b5_{\u03c4^{-1}(i)}(s_k) and i0\u2032=\u03c4(s_k(1)). Then IsO5(p) is true iff \u2203(\u03b5,i0)\u2208S with p_i=\u2212\u03b5_i for i\u2260i0 and p_{i0}=\u03b5_{i0}. This avoids orbit-building and uses only a 120-pair membership test per query.\n\nHand checks and unit data (partial, to aid verification)\n- \u03b5 on generators (confirmed):\n  \u2022 \u03b5((12))=(+,+,\u2212,\u2212,\u2212),\n  \u2022 \u03b5((23))=(\u2212,+,+,\u2212,\u2212),\n  \u2022 \u03b5((34))=(\u2212,\u2212,+,+,\u2212),\n  \u2022 \u03b5((45))=(\u2212,\u2212,\u2212,+,+).\n- Quick \u201cnon-O5 by partial exclusion\u201d for two of the profile vectors using these \u03b5-samples:\n  \u2022 p1=(+,+,\u2212,\u2212,+): For the above \u03b5 and also \u03b5(id) and \u03b5((13))=(\u2212,\u2212,\u2212,\u2212,\u2212), the match count |{i: p1_i=\u03b5_i}| is 4,2,0,2,3 respectively (never 1). This is not a proof of non-O5 (other \u03c4 could still work), but serves as a debugging checklist for IsO5. Please use the S-based oracle to decide decisively.\n  \u2022 p2=(+,+,+,\u2212,\u2212) similarly has match-counts 3,2,2,0,1 under the above \u03b5; again ambiguous and needs a full S-check.\n\nConsequences for F(\u03b1,\u03b2) computation\n- With the S-oracle in place, F(+,+) and F(+,-) are obtained by the 8 tests on p=(\u03b1,\u03b2,x,y,z). By Cor. 9, F(\u2212,\u2212) and F(\u2212,+) follow by triplewise negation. Unit constraints to verify:\n  \u2022 (+++)\u2208F(+,+) and (\u2212,\u2212,\u2212)\u2208F(\u2212,\u2212) (constant 5-vectors are \u00b1C5, non-O5).\n  \u2022 (\u2212,\u2212,\u2212)\u2209F(+,-) (output.md Lemma 13); by symmetry (+++)\u2209F(\u2212,+).\n- Two decisive targets (carry-over from last round): check whether (+\u2212\u2212)\u2208F(+,+) and (+\u2212\u2212)\u2208F(+,-). If both hold (for all three permutations under our fixed coordinate order), Prop. 11 resolves |A|=4 uniformly via the 2+2 ansatz.\n\nImplementation blueprint (refined, minimal)\n1) Build S via the cocycle:\n  - Start with \u03c4=id: \u03b5=+++++, i0=1.\n  - BFS over right-multiplication by s_k (k=1..4) using Lemma 18 to update \u03b5 and i0.\n  - Store S as a set of 120 pairs (\u03b5,i0). Sanity checks: parity of plus-count in \u03b5 matches sgn(\u03c4); S has size 120; sample \u03b5 above are present with their correct i0.\n2) Implement IsO5(p): return true iff \u2203(\u03b5,i0)\u2208S with p_i=\u2212\u03b5_i for i\u2260i0 and p_{i0}=\u03b5_{i0}. Unit tests: (+,\u2212,\u2212,\u2212,\u2212) true; (+,+,+,+,+) false; (+,\u2212,+,\u2212,+) false.\n3) Compute F(+,+) and F(+,-) (8 entries each) under the fixed coordinate convention (notes/output). Derive the other two via Cor. 9. Report complements and sizes. If both complements have size \u22641, conclude |A|=4 by Lemma 16.\n4) If, stronger, all three permutations of (+,\u2212,\u2212) lie in both F(+,+) and F(+,-), apply Prop. 11 to conclude |A|=4 by the 2+2 ansatz x_{ij}=w_i w_j.\n5) If either condition fails, brute-force the 2^6 CSP on the realized (B,C) profiles; use Lemma 17 to prune.\n\nGaps and clarifications in output.md (to address later; do not modify now)\n- It would be helpful to add Lemma 18 (\u03b5-cocycle) in output.md as an implementation lemma; currently Lemma 6 suffices but the cocycle substantially simplifies and stabilizes code.\n- The O5-image formula specialized to e_O and the necessity to track the pair (\u03b5(\u03c4), i0=\u03c4(1)) is only in notes; incorporating it in output.md would prevent misuse of \u201c\u03b5-only\u201d tests. We flagged the earlier incorrect simplification explicitly here.\n- Coordinate ordering for the last three entries of p(Y_k) is correctly fixed near Prop. 15; when F-tables appear, restating that ordering there will improve reproducibility.\n\nObstacles\n- A purely analytic classification of E={\u03b5(\u03c4)} (or of the O5 orbit) appears cumbersome; the cocycle+generator method is the right small computation.\n- Without the F-tables, we cannot certify the 2+2 ansatz or the union-bound criterion. These remain the decisive next computations.\n\nNext steps (concrete, minimal)\n- Verifier: Implement S via Lemma 18 and \u03b5(s_k) from Lemma 19; build IsO5 as above and run the standard unit tests.\n- Populate F(+,+), F(+,-); confirm the already-proved exclusions and record sizes of complements. If both complements \u22641, invoke Lemma 16 to conclude |A|=4 and AP. If, stronger, (+\u2212\u2212)-permutations are allowed in both, apply Prop. 11 to conclude AP via the 2+2 construction.\n- Independently, evaluate IsO5 on the four concrete 5-vectors from profiles P1\u2013P3 listed in notes/output; archive their classifications and, if non-O5, keep these as explicit witnesses for representative one-point instances.\n\nWhy this is incremental, auditable progress\n- We introduced two precise, easy-to-check lemmas (\u03b5-cocycle and \u03b5 on generators) that drastically simplify the O5 oracle and remove ambiguity in the \u03b5-factors.\n- We corrected a subtle but important pitfall (the necessity of tracking i0 alongside \u03b5 in O5 membership), providing a rigorous criterion based on the pair-set S.\n- We supplied partial hand checks and a concrete, minimal computation plan that will decisively settle the small F-tables and hence the |A|=4 step via Lemma 16 or Prop. 11.\n"}]

Current notes.md:
Set‑up and notations (agreed baseline)
- 4‑hypertournament on finite V: equivalent to a function f:[V]^4→{±1}. For an ordered 4‑tuple (x1,x2,x3,x4) with underlying set S, we declare (x1,x2,x3,x4)∈R iff the permutation from the increasing ordering of S to (x1,…,x4) has sign equal to f(S). This satisfies (i) tuples have distinct entries, (ii) closure under even permutations, (iii) exactly one of (x1,x2,x3,x4) and (x2,x1,x3,x4) lies in R.
- For a 5‑set X, define its 5‑vector p(X)∈{±1}^X by p_x:=f(X\{x}). Isomorphisms act by p↦(ε_i(τ)·p_{τ^{-1}(i)}) with ε_i(τ)=sign of τ restricted to X\{τ^{-1}(i)}. The three isomorphism types on 5 points are denoted C5, H5, O5. For computation we may use representatives C5=(+,+,+,+,+), O5=(+,-,-,-,-), H5=(+,-,+,-,+); the orbit relation is determined by the above action (not by raw counts of pluses).

One‑point amalgamation reduction
- AP for H (class of finite 4‑hypertournaments with no induced O5) reduces to the one‑point case: Given A∈H, B=A∪{b}∈H, C=A∪{c}∈H with B∩C=A, existence of D on A∪{b,c} in H extending B and C implies full AP by iteratively adding the vertices of C\A to B.

CSP for the minimal nontrivial one‑point case |A|=4
- Fix A={1,2,3,4}, b=5, c=6. The only undetermined f‑values are the six cross 4‑sets X_{ij}={i,j,5,6} (1≤i<j≤4). Let variables x_{ij}:=f(X_{ij})∈{±1}.
- The only potentially new 5‑sets are Y_k:={5,6}∪(A\{k}) for k∈{1,2,3,4}. For each k, p(Y_k) has two fixed coordinates: p missing 6 equals p^B_k:=f_B({5}∪(A\{k})), and p missing 5 equals p^C_k:=f_C({6}∪(A\{k})); and three variable coordinates drawn from {x_{ij}} on the three pairs inside A\{k}:
  • Y_1 depends on {x_{23},x_{24},x_{34}}
  • Y_2 depends on {x_{13},x_{14},x_{34}}
  • Y_3 depends on {x_{12},x_{14},x_{24}}
  • Y_4 depends on {x_{12},x_{13},x_{23}}.
- Constraint: For each k, p(Y_k) must not lie in the O5‑orbit. This is the complete constraint system for the one‑point amalgam over A of size 4.

Base sizes |A|≤2 and |A|=3
- |A|≤2: There are no 5‑sets Y; any assignment to cross 4‑sets works, so one‑point amalgamation always succeeds.
- |A|=3: There is exactly one 5‑set Y=A∪{b,c}, with two fixed coordinates (those missing b and c) and three unknowns (those missing each a∈A). We expect (and plan to verify computationally) that for every (α,β)∈{±1}^2 at least one of the 8 assignments to the three unknowns avoids the O5 orbit. This settles one‑point amalgamation at size 3 once verified.

Switching: what it does and what it does not
- For ε:V→{±1}, define f^ε(S):=(∏_{v∈S}ε(v))·f(S). Then f^ε encodes another 4‑hypertournament.
- Caution: For a fixed 5‑set X, switching at a vertex v∈X flips the four coordinates of p(X) corresponding to the 4‑sets that contain v and leaves the coordinate “missing v” unchanged. This can change the 5‑type: e.g., (+,-,-,-,-) (an O5 representative) switches at the ‘+’ vertex to (+,+,+,+,+) (a C5 representative). Thus switching is not a valid normalization trick for fixed one‑point data (B,C) in H.

Computational plan (to settle |A|=3 and |A|=4)
- Step A: Compute the O5 orbit via the S5 action above; implement IsO5(p).
- Step B (|A|=3): For each (α,β), enumerate the 8 triples, test IsO5, and record that at least one choice avoids O5.
- Step C (|A|=4): Enumerate compatible (B,C) (both of type C5 or H5, agreeing on f(A)), form p^B_k,p^C_k (k=1..4), and brute‑force the 2^6 choices of x_{ij}, rejecting any assignment for which some Y_k is O5. Record either a counterexample or certify all cases pass.
- Precompute F(α,β)⊆{±1}^3: the allowed triples for a 5‑set with given two fixed coordinates. Then the |A|=4 CSP checks membership of the four triangle‑triples in F(p^B_k,p^C_k).

Constructive ansatz to test
- Try x_{ij}=w_iw_j with w_i:=p^B_i·p^C_i for i∈A. For T={i,j,k} this gives a triple (w_iw_j,w_iw_k,w_jw_k) of product +1. If this never yields O5 for any (p^B_k,p^C_k), it provides a uniform construction for all |A| (worth testing; not proved).
Addendum: explicit S5 action, corrections, and computation plan

1) Explicit ε-formula for the S5 action (implementation aid)
For τ ∈ S5 and i ∈ {1,…,5}, write j := τ^{-1}(i) and define
c_j(τ) := |{k<j : τ(k) > τ(j)}| + |{k>j : τ(k) < τ(j)}|.
Then the sign multiplier in the action p′_i = ε_i(τ)·p_{τ^{-1}(i)} equals
ε_i(τ) = sgn(τ)·(−1)^{c_j(τ)}.
Sketch of justification: Let τ′ be the induced bijection from [5]\{j} to [5]\{i}. Its inversion count is inv(τ′) = inv(τ) − c_j(τ) because the inversions of τ decompose into those not involving j (which biject with the inversions of τ′) and those involving j (counted by c_j). Hence sgn(τ′) = (−1)^{inv(τ′)} = (−1)^{inv(τ)−c_j} = sgn(τ)·(−1)^{c_j}. By definition ε_i(τ) = sgn(τ′). A immediate corollary is the product identity ∏_{i=1}^5 ε_i(τ) = sgn(τ), since Σ_j c_j(τ) = 2·inv(τ).

Practical note: This eliminates ambiguity about ε and supports a robust IsO5 enumerator.

2) Correction to the “fully aligned” claim
The statement “If p^B_k = p^C_k for all k then setting all x_{ij}=δ makes p(Y_k) constant δ for all k” is false unless the common pattern (p^B_k)_{k∈A} is itself constant with value δ. Counterexample: take p^B=p^C=(+,+,−,+) and δ=+. Then for k=3 the fixed coordinates are (−,−) while the three variables are +, so p(Y_3) is not constant. A correct (weaker) statement is: if p^B_k = p^C_k = δ for all k, then x_{ij}≡δ makes every p(Y_k) constant δ, hence non-O5.

3) F(α,β) tables: compute all four cases
Define F(α,β) ⊆ {±1}^3 as the set of triples (x,y,z) for which p=(α,β,x,y,z) is non-O5. Do not assume F(+,+)=F(−,−) or F(+,-)=F(−,+) a priori; compute all four cases. This is an 8×4=32-evaluation task. Record each F(α,β) explicitly along with any observed symmetries (e.g., invariance under permuting x,y,z).

Consequence: |A|=3 reduces to checking that for each (α,β) there exists at least one triple in F(α,β). Archive one such triple per case.

4) |A|=4 CSP protocol (profiles and ansatz)
- Use the already-recorded CSP with variables x_{ij} on the six edges of K4 and four constraints Y_k. For any concrete pair (B,C) over A with B∩C=A and both omitting O5, determine the four pairs (p^B_k,p^C_k) and require the corresponding triangle-triple to lie in F(p^B_k,p^C_k).
- Profiles to test early:
  • P1: p^B≡+, p^C≡+. The corrected alignment lemma (constant case) gives the assignment x_{ij}≡+.
  • P2: p^B≡+, p^C≡−. Try the perfect-matching assignment x_{12}=x_{34}=+, others −; check all four Y_k via IsO5.
  • P3: p^B≡+, p^C drawn from an H5 labeling consistent on A; try ansatz x_{ij}=w_i w_j with w_i=p^B_i p^C_i.
  • P4: both sides H5 aligned on A; by the corrected alignment lemma with δ=+, x_{ij}≡+ works if the common 4-bit pattern on A is constant +.
- Constructive ansatz: x_{ij}:=w_i w_j where w_i:=p^B_i p^C_i. For T={i,j,k}, the triple is (w_i w_j, w_i w_k, w_j w_k) with product +1. Test this uniformly across enumerated cases; if it always avoids O5, it suggests a uniform construction for general |A|.

5) Unit tests for IsO5
- p=(+,+,+,+,+) should classify non-O5; p=(+,−,−,−,−) should classify O5; p=(+,−,+,−,+) should classify non-O5 (H5). Also verify that for a transposition τ, ∏_i p′_i flips sign (product identity) and that orbit membership is invariant under the action.

6) Checklist for the next round
- Implement IsO5 with the ε-formula; report the size of the O5 orbit found by enumeration.
- Compute and list F(α,β) for all four cases; confirm |A|=3.
- Run the |A|=4 CSP on P1–P4 first, then extend to representatives modulo S4 on A; archive satisfying/unsatisfying assignments.
- Report whether the ansatz x_{ij}=w_i w_j succeeds in all tested instances.
Additional clarifications, small lemmas, and symmetry for the 5-vector orbit

1) Semantics of the fixed bits p^B_k and p^C_k (|A|=4)
For B on A∪{b} and k∈A, define p^B_k:=f_B({b}∪(A\{k})). On the 5-set A∪{b}, the 5-vector p has entries p_x=f((A∪{b})\{x}). Thus for k∈A, p^B_k coincides with the coordinate “missing k” of p on A∪{b}: it records whether the increasing 4-tuple on {b}∪(A\{k}) is in R_B. Analogously p^C_k is the coordinate “missing k” of the 5-vector on A∪{c}.

2) Necessary local exclusions in the opposite-fixed case (rigorous justification)
- With (α,β,x,y,z)=(+;−;−,−,−) we obtain the canonical O5 representative; hence this triple is forbidden for (α,β)=(+,-).
- By central symmetry of the O5 orbit (see 4) below), (−;+;+,+,+) is also O5; hence forbidden for (α,β)=(−,+).
These give immediate unit tests for any IsO5 implementation and constraints for F(+,-) and F(−,+).

3) Edge/triangle viewpoint and the structured ansatz
- Place the six variables x_{ij} on the edges of K4 on A. The constraint Y_k uses the triangle on T=A\{k}.
- Structured ansatz: pick w_i∈{±1} on the vertices and set x_{ij}:=w_i w_j. For any triangle {i,j,k}, the triple (w_iw_j,w_iw_k,w_jw_k) has product +1, realizing exactly (+++),(+−−),(−+−),(−−+).

4) Central symmetry of the O5 orbit and a consequence for F(α,β)
There exists τ∈S5, e.g. τ=(13), with ε_i(τ)=−1 for all i (check via Lemma 6: c_j(τ) is even for every j and sgn(τ)=−1). Hence for any 5-vector p, p∈O5 iff −p∈O5. As a consequence, for the local tables F(α,β)⊆{±1}^3 (defined by p=(α,β,x,y,z) non-O5), one has
F(−α,−β) = { (−x,−y,−z) : (x,y,z)∈F(α,β) }.
Therefore it suffices to compute F(+,+) and F(+,-); the other two cases follow by triplewise negation. Do not assume any further symmetries (e.g., permutations of x,y,z or F(+,-)=F(−,+)) without verification.

5) On classifying |A|=4 instances
The constraint at each k depends on the ordered pair (p^B_k,p^C_k)∈{++,−−,+−,−+}. Reduction to the pure eq/opp pattern E={k: p^B_k=p^C_k} is insufficient unless one proves F(+,+)=F(−,−) and F(+,-)=F(−,+). Use the full type-vector in {++,−−,+−,−+}^A. By 4), it is enough to compute and store F(+,+), F(+,-), and infer the other two by negation.

6) Implementation checklist (precise conventions)
- Fix, once and for all, an ordering of the five vertices of each Y_k with the first two positions corresponding to the coordinates “missing c” and “missing b”, respectively, and the last three to the vertices of A\{k} in increasing order. Use the same convention for constructing p=(α,β,x,y,z) when populating F(α,β).
- Implement IsO5 via Lemma 6. Unit tests: (+,+,+,+,+) is non-O5; (+,−,−,−,−) is O5; (+,−,+,−,+) is non-O5. Report the orbit size and verify closure under the action.
- Compute F(+,+), F(+,-); obtain F(−,−), F(−,+) by triplewise negation. Conclude |A|=3 by listing one admissible triple for each (α,β).
- For |A|=4, enumerate realizable type-vectors from actual pairs (B,C) (both C5/H5, agreeing on A), and brute-force 2^6 assignments to x_{ij}. Archive SAT witnesses or UNSAT certificates. Test the ansatz x_{ij}=w_i w_j with w_i=p^B_i p^C_i across the same cases.

These additions lock down the symmetry that underlies Claim N1, correct the eq/opp reduction, and make the forthcoming computations unambiguous and reusable.
Uniform 2+2− assignment and a corrected conditional reduction for |A|=4

Ordering convention for local F-tables
- For any 5-set Y_k={b,c}∪(A\{k}) with A={1,2,3,4} and i<j<ℓ the increasing order on A\{k}, we use the coordinate order
  p(Y_k) = (p_{\text{missing }c}, p_{\text{missing }b}, p_{\text{missing }i}, p_{\text{missing }j}, p_{\text{missing }\ell}).
- With this convention, F(α,β)⊆{±1}^3 is the set of ordered triples (x,y,z) such that (α,β,x,y,z) is non-O5.

Lemma A (2+2 vertex-sign ansatz yields (+−−)-type on every triangle).
- Let w_i∈{±1} (i∈A) have exactly two + and two −, and set x_{ij}:=w_i w_j. For each k, the triple (x,y,z) contributed by the three edges inside A\{k} is, up to permutation of its three coordinates, of the form (+,−,−).
- Proof. If k is from the + vertices, then A\{k} contains {+,−,−}; the pairwise products are (−,−,+). If k is from the − vertices, then A\{k} contains {+, +, −}; the pairwise products are (+,−,−). In either case the unordered triple has one + and two −. The order within (x,y,z) depends on the fixed coordinate convention but is a permutation of (+,−,−). ∎

Corrected conditional reduction for |A|=4
- Conditional Proposition (uniform 2+2 ansatz). Fix the above ordering convention. Suppose that for each (α,β)∈{++, +−, −+, −−}, all three permutations of (+,−,−) lie in F(α,β). Then for every one-point instance over |A|=4 there exists an amalgam D in H obtained by the uniform assignment x_{ij}=w_i w_j with some w having exactly two + and two − on A.
  • Proof. By Lemma A, for every k the ordered triple on Y_k is a permutation of (+,−,−). By hypothesis, this ordered triple is in F(p^B_k,p^C_k) for each k, hence none of the four Y_k is O5, and D∈H. ∎
- Unconditional subcase (equal-constant fixed pairs). If (p^B_k,p^C_k)=(δ,δ) for all k (with δ∈{±1}), then the constant assignment x_{ij}≡δ makes every p(Y_k) equal to (δ,δ,δ,δ,δ), which is ±C5 and therefore non-O5. Hence an amalgam exists in this subcase.

Hard local exclusion in the opposite-fixed case
- For (α,β)=(+,-), the triple (−,−,−) is forbidden: p=(+,-,−,−,−) is the canonical O5 representative. By central symmetry of the S5 action, (+++) is forbidden for (α,β)=(−,+) as well. These serve as unit checks for IsO5 and constraints in populating F.

Notes on earlier claims
- The claim “(+++) is forbidden in F(+,-)” has not been proved. The argument via “flipping one coordinate” is not valid under the S5 signed action. Treat this as a computational check when populating F.

Computational checklist (precise and minimal)
1) Implement IsO5 via Lemma 6; unit tests: (+,+,+,+,+) non-O5; (+,−,−,−,−) O5; (+,−,+,−,+) non-O5. Report the size of the O5 orbit and closure under the action.
2) Compute F(+,+) and F(+,-) completely (8 triples each) under the above ordering; use Corollary 9 to derive F(−,−) and F(−,+) by triplewise negation. Do not assume S3-invariance.
3) Test the 12 memberships: for each (α,β)∈{++, +−, −+, −−}, verify that all three permutations of (+,−,−) lie in F(α,β).
4) If step 3 passes, conclude by the conditional proposition that the |A|=4 one-point step is uniformly solvable by a 2+2 ansatz; with Lemma 2 this yields AP.
5) If step 3 fails, run the 2^6 CSP for the offending type-profile to search for a different satisfying assignment or produce an UNSAT certificate (listing, for each assignment, a Y_k showing O5).

Implementation detail retained: the structured ansatz yields triangle triples of product +1, hence it can never realize (−,+,+) or (−,−,−). Keep this in mind when interpreting F-tables and debugging assignments.
Updates: explicit |A|=3 solution, concrete |A|=4 tests, and a solvable subclass

Coordinate convention reminder (used below)
- For Y_k={b,c}∪(A\{k}) with A={1,2,3,4} and i<j<ℓ the increasing order on A\{k}, we encode
  p(Y_k) = (p_{missing c}, p_{missing b}, p_{missing i}, p_{missing j}, p_{missing ℓ}).
- Mapping of the last three coordinates to edge variables on K4[A]:
  • p_{missing i} = x_{jℓ},  p_{missing j} = x_{iℓ},  p_{missing ℓ} = x_{ij}.

|A|=3 one‑point amalgamation solved (constructive)
- Let A have size 3. For Y=A∪{b,c} write p(Y)=(α,β,x,y,z) in the above order, where α is fixed by B (missing c), β by C (missing b), and x,y,z are the cross 4‑sets. The following choices always avoid O5:
  • (α,β)=(+,+): take (x,y,z)=(+,+,+) → p(Y)=(+,+,+,+,+)=C5.
  • (α,β)=(−,−): take (x,y,z)=(−,−,−) → p(Y)=(−,−,−,−,−)=−C5.
  • (α,β)=(+,-): take (x,y,z)=(+,-,+) → p(Y)=(+,-,+,-,+)=H5.
  • (α,β)=(−,+): take (x,y,z)=(−,+,−) → p(Y)=(−,+,−,+,−)=−H5.
  Hence the one‑point extension over |A|=3 always exists in H.

Concrete |A|=4 test profiles for the 2+2 ansatz (w=(+,+,−,−), x_{ij}=w_i w_j)
- Triangles (Y_k):
  • k=1: (x_{23},x_{24},x_{34})=(−,−,+) → p(Y_1)=(p^B_1,p^C_1,−,−,+).
  • k=2: (x_{13},x_{14},x_{34})=(−,−,+) → p(Y_2)=(p^B_2,p^C_2,−,−,+).
  • k=3: (x_{12},x_{14},x_{24})=(+,-,−) → p(Y_3)=(p^B_3,p^C_3,+,−,−).
  • k=4: (x_{12},x_{13},x_{23})=(+,-,−) → p(Y_4)=(p^B_4,p^C_4,+,−,−).
- Profiles to check via IsO5 (the first two coordinates are specialized as follows):
  • P1: p^B≡+, p^C≡+ → test (+,+,−,−,+) and (+,+,+,−,−).
  • P2: p^B≡+, p^C≡− → test (+,−,−,−,+) and (+,−,+,−,−).
  • P3: p^B≡+, p^C=(+,-,+,-) (aligned H5 on A∪{c}) → same two vectors as P2.
A single IsO5 pass on these four vectors settles P1–P3 for the 2+2 ansatz.

A solvable subclass for |A|=4 via a “local H5 witness” pattern
- Prescribe for each k a local triple (x_{jℓ}, x_{iℓ}, x_{ij}) = (α_k, β_k, α_k), where (α_k,β_k)=(p^B_k,p^C_k) and i<j<ℓ enumerate A\{k}.
- Shared‑edge consistency forces:
  • α_1=α_2=α_3=α_4;  β_1=α_3;  β_4=α_2;  β_2=β_3.
- If the given one‑point data (B,C) satisfy these equalities, then for each k we get p(Y_k)=(α_k,β_k,α_k,β_k,α_k), which is ±C5 if α_k=β_k, else ±H5. Hence an amalgam exists for this subclass.

Caveat on the LLL heuristic
- The symmetric LLL condition e·p·(d+1)≤1 with d=3 would require p≤1/(4e)≈0.091. If |{±1}^3\F(α,β)|≤1 then p=1/8≈0.125, which does not meet the symmetric bound. Treat any LLL‑based argument as heuristic unless we deploy a sharper criterion tailored to our dependency graph.

Actionable checklist (minimal computation to unblock |A|=4)
1) Implement IsO5 (Lemma 6), run unit tests, and report the O5 orbit size.
2) Test the four 5‑vectors from P1–P3 above.
3) Compute F(+,+) and F(+,-) fully (8 triples each) under the fixed ordering; obtain the other two by triplewise negation. Archive the tables.
4) If all permutations of (+,−,−) lie in each F(α,β), invoke Proposition 11 (uniform 2+2). Otherwise, brute‑force the 2^6 CSP per realized 4‑type profile and record SAT witnesses or an UNSAT certificate.
New rigorous tools and corrections (to be used going forward)

1) Union‑bound feasibility for the |A|=4 CSP
- Statement. In the |A|=4 CSP with six edge variables x_{ij} and four triangle constraints Y_k, if for each k the local table F(p^B_k,p^C_k) forbids at most one ordered triple (i.e., |{±1}^3\F(p^B_k,p^C_k)| ≤ 1), then there exists a satisfying global assignment.
- Reason. Each forbidden triple for a fixed triangle rules out exactly 2^3 global assignments (the other 3 edges are free). With at most one forbidden triple per triangle, at most 4·2^3=32 of the 64 assignments are excluded. Hence at least 32 assignments remain.
- Consequence. If a small computation confirms |{±1}^3\F(+,+)| ≤ 1 and |{±1}^3\F(+,-)| ≤ 1 (the other two cases follow by triplewise negation; Cor. 9), the |A|=4 step follows immediately without any 6‑variable search.

2) Specialization of the S5 action to the O5 representative (implementation aid)
- For e_O=(+,-,-,-,-) and τ∈S5 with ε(τ)=(ε_1,…,ε_5), let i0:=τ(1). Then the image p′ under the signed action satisfies p′_i = ε_i if i=i0 and p′_i = −ε_i otherwise. Equivalently, p′ is obtained from ε by flipping all coordinates except i0. Thus p∈O5 iff ∃ε∈E:={ε(τ):τ∈S5} and i0 with p_i=−ε_i for i≠i0 and p_{i0}=ε_{i0}.
- Note. This enables a very compact IsO5: precompute E (120 evaluations) and check the 5·|E| candidates.

3) Parity invariant across the four triangles
- For any assignment x_{ij}∈{±1}, the product of the triangle‑products over the four Y_k equals +1. Equivalently, an odd number of triangles cannot have triple product −1. Reason: each x_{ij} appears in exactly two triangle‑products.

4) Distribution of triangle triples under vertex‑sign assignments
- If x_{ij}=w_i w_j with w∈{±1}^A, then on any triangle the triple is either (+++) (when the three w are equal) or a permutation of (+,−,−) (otherwise). In particular: 4+/0− (or 0+/4−) yields four (+++); 3+/1− (or 1+/3−) yields exactly one (+++); 2+/2− yields no (+++) and all four triangles are permutations of (+,−,−).

Corrections to prior claims
- False: “If T_B=C5 then (p^B_k)_{k∈A} is constant; if T_B=H5 then it is 2+2.” Counterexample: for a C5 5‑set, the 5‑vector equals ε(τ) for some τ; e.g., τ=(12) gives ε=(+,+,−,−,−), which is not constant on A. Do not use this classification to prune cases.
- Unproved (and currently unknown): (+++)∉F(+,-). The argument that tried to force this from Lemma 8 incorrectly treats the free index i0. We keep only the rigorously proved exclusion (---)∉F(+,-) (output.md Lemma 13). The status of (+++) in F(+,-) must be decided computationally.

Coordinate convention (reminder)
- For Y_k={b,c}∪(A\{k}) with A={1,2,3,4} and i<j<ℓ the increasing order on A\{k}, we encode p(Y_k)=(p_{missing c}, p_{missing b}, p_{missing i}, p_{missing j}, p_{missing ℓ}), with p_{missing i}=x_{jℓ}, p_{missing j}=x_{iℓ}, p_{missing ℓ}=x_{ij}.

Actionable checklist (minimal computation to unblock |A|=4)
- Implement IsO5 using Lemma 6; validate unit tests: (+,+,+,+,+) ∉O5; (+,−,−,−,−) ∈O5; (+,−,+,−,+) ∉O5. Also verify the sample ε(τ) values listed in prior notes.
- Compute F(+,+) and F(+,-) completely (8 triples each) under the fixed coordinate order; derive F(−,−), F(−,+) by triplewise negation. Report sizes and explicit complements.
- If both complements have size ≤1, conclude |A|=4 by the union‑bound lemma and hence AP via Lemma 2. If, stronger, both F tables are exactly “triple product +1,” record the uniform construction x_{ij}=w_i w_j and close.
- If not, test whether all permutations of (+,−,−) lie in F(+,+) and F(+,-); if yes, apply Proposition 11 (uniform 2+2). Otherwise brute‑force the 2^6 CSP on the realized profiles, using the parity invariant to prune, and archive SAT/UNSAT witnesses.


Current output.md (if any):
Proposition 1 (Orientation function model).
For a finite set V, giving a 4‑hypertournament structure (V,R) satisfying: (i) all tuples in R have distinct entries; (ii) R is closed under even permutations of coordinates; (iii) for every 4‑tuple of distinct vertices (x1,x2,x3,x4), exactly one of (x1,x2,x3,x4) and (x2,x1,x3,x4) lies in R; is equivalent to giving an arbitrary function f:[V]^4→{±1}.
Proof. Given f, declare (x1,x2,x3,x4)∈R iff the permutation from the increasing ordering of S={x1,x2,x3,x4} to (x1,…,x4) has sign equal to f(S). This satisfies (i)–(iii) by construction. Conversely, given R with (i)–(iii), fix any 4‑set S and any increasing ordering s of S. By (iii), exactly one of s and its swap lies in R; define f(S)=+1 if s∈R and f(S)=−1 otherwise. By (ii) and (iii), membership of any ordered tuple from S depends only on the parity relative to s, so f is well defined and recovers R. ∎

Lemma 2 (One‑point amalgamation suffices for AP in H).
Let H be the class of finite 4‑hypertournaments omitting O5. Suppose that whenever A∈H and B=A∪{b}∈H and C=A∪{c}∈H with B∩C=A, there exists D∈H on A∪{b,c} extending both B and C. Then H has the amalgamation property.
Proof. Given B0,B1∈H over A, enumerate C\A as c1,…,ck and set A0:=A. Inductively, amalgamate Bi with Ai∪{ci} over Ai to obtain Bi+1 on Ai+1:=Ai∪{ci}. At each step, by hypothesis, all 5‑sets involving the new vertex ci avoid O5, and previously constructed parts are unchanged. After k steps we obtain an amalgam D∈H of B0 and C over A. ∎

Proposition 3 (CSP formulation of the |A|=4 one‑point step).
Let A={1,2,3,4}, b, c new. Given B on A∪{b} and C on A∪{c} in H that agree on A, any amalgam D on A∪{b,c} is determined on new 4‑sets by the six values x_{ij}:=f({i,j,b,c}) (1≤i<j≤4). The only new 5‑sets are Y_k:={b,c}∪(A\{k}) for k=1,2,3,4. Writing p^B_k:=f_B({b}∪(A\{k})) and p^C_k:=f_C({c}∪(A\{k})), the 5‑vector p(Y_k) has two fixed coordinates (missing c gives p^B_k; missing b gives p^C_k) and three coordinates equal to the x_{ij} for {i,j}⊂A\{k}. D∈H iff for each k, p(Y_k) is not in the O5 orbit.
Proof. All 4‑sets contained in B or C are already fixed. The only 4‑sets not contained in B or C are precisely the six X_{ij}={i,j,b,c}. The only new 5‑subsets of A∪{b,c} (relative to B and C) are those that contain both b and c; there are exactly four, the Y_k. Their p‑vectors depend on the listed values. Avoidance of O5 on all 5‑sets is thus equivalent to the stated four constraints. ∎

Corollary 4 (Trivial one‑point cases |A|≤2).
If |A|≤2, then one‑point amalgamation always succeeds in H.
Proof. When |A|≤2 there are no 3‑subsets of A, hence no 5‑sets of the form {b,c}∪T with T⊂A of size 3. Thus there are no new 5‑set constraints; any assignment to cross 4‑sets yields an amalgam in H. ∎

Fact 5 (Switching yields a 4‑hypertournament but may change 5‑types).
For ε:V→{±1}, define f^ε(S):=(∏_{v∈S}ε(v))·f(S). Then f^ε encodes a 4‑hypertournament. However, for a fixed 5‑set X, switching at v∈X flips the four coordinates of p(X) corresponding to 4‑sets containing v and leaves the coordinate “missing v” unchanged; this can change the isomorphism type on X (e.g., an O5 representative (+,-,-,-,-) switches at its ‘+’ vertex to (+,+,+,+,+), a C5 representative). ∎
Lemma 6 (Explicit formula for the S5 action on 5-vectors).
Let X be a 5-set equipped with an increasing labeling {1,2,3,4,5}. For τ∈S5 and i∈{1,…,5}, write j:=τ^{-1}(i) and define
c_j(τ) := |{k<j : τ(k) > τ(j)}| + |{k>j : τ(k) < τ(j)}|.
In the isomorphism action on p∈{±1}^X given by p′_i = ε_i(τ)·p_{τ^{-1}(i)}, the sign factor is
ε_i(τ) = sgn(τ)·(−1)^{c_j(τ)}.

Proof. Let τ′ be the induced bijection from [5]\{j} to [5]\{i}, obtained by deleting position j in the domain and value i in the codomain. By definition, ε_i(τ)=sgn(τ′). The inversions of τ split into two disjoint families: those not involving j (which correspond bijectively to inversions of τ′) and those involving j, whose number is c_j(τ) by definition. Hence inv(τ)=inv(τ′)+c_j(τ), so sgn(τ)= (−1)^{inv(τ)} = (−1)^{inv(τ′)+c_j(τ)} = sgn(τ′)·(−1)^{c_j(τ)} = ε_i(τ)·(−1)^{c_j(τ)}. Rearranging gives the claimed formula. ∎

Corollary 7 (Product identity for ε-factors).
For τ∈S5, one has ∏_{i=1}^5 ε_i(τ) = sgn(τ).

Proof. Using ε_i(τ) = sgn(τ)·(−1)^{c_{τ^{-1}(i)}(τ)} and the fact that each inversion contributes 1 to c_a and 1 to c_b, we have Σ_{j=1}^5 c_j(τ) = 2·inv(τ). Therefore ∏_{i=1}^5 ε_i(τ) = sgn(τ)^5 · (−1)^{Σ_j c_j(τ)} = sgn(τ)·(−1)^{2·inv(τ)} = sgn(τ). ∎
Lemma 8 (Central symmetry of the O5 orbit).
There exists τ∈S5 with ε_i(τ)=−1 for all i. In particular, for any 5-vector p one has p∈O5 if and only if −p∈O5. Thus the O5 orbit is closed under global sign reversal.

Proof. Take τ=(13) in one-line notation [3,2,1,4,5]. By Lemma 6, for j:=τ^{-1}(i), ε_i(τ)=sgn(τ)·(−1)^{c_j(τ)}. A direct count gives c_1(τ)=c_2(τ)=c_3(τ)=2 and c_4(τ)=c_5(τ)=0, so c_j(τ) is even for all j. Since sgn(τ)=−1, we get ε_i(τ)=−1 for every i. If q is in the O5 orbit, then so is R_τ(q)=−q∘τ^{−1}. As σ ranges over S5, the set {−R_σ(e1)} equals {R_{τσ}(e1):σ∈S5}, hence −O5=O5. ∎

Corollary 9 (Sign-flip symmetry for local tables F).
For F(α,β)⊆{±1}^3 defined by: (x,y,z)∈F(α,β) iff (α,β,x,y,z) is non-O5, one has
F(−α,−β) = { (−x,−y,−z) : (x,y,z)∈F(α,β) }.

Proof. (α,β,x,y,z) is non-O5 iff its global negation (−α,−β,−x,−y,−z) is non-O5 by Lemma 8. This is exactly the stated correspondence. ∎
Lemma 10 (2+2 vertex signs induce (+−−)-type on every triangle).
Let A={1,2,3,4} and choose w_i∈{±1} with exactly two plus and two minus. Define x_{ij}:=w_i w_j for 1≤i<j≤4. For each k∈A, on the triangle induced by A\{k} the ordered triple of edge-variables (x,y,z) (in any fixed coordinate convention) is a permutation of (+,−,−).

Proof. If k is one of the + vertices, then A\{k} contains one + and two −; the three pairwise products are (−,−,+). If k is one of the − vertices, then A\{k} contains two + and one −; the three pairwise products are (+,−,−). Thus in either case the unordered triple has signs {+ , − , −}. The ordering of (x,y,z) depends on the fixed convention but is a permutation of (+,−,−). ∎

Proposition 11 (Conditional |A|=4 amalgamation via a uniform 2+2 ansatz).
Fix a consistent ordering convention for the last three coordinates in the definition of F(α,β) (e.g., by increasing order of the three vertices in A\{k}). Suppose that for each (α,β)∈{++, +−, −+, −−}, all three permutations of (+,−,−) belong to F(α,β). Then for every one-point diagram over |A|=4 there exists an amalgam D∈H obtained by setting x_{ij}=w_i w_j for some choice of w with exactly two + and two − on A.

Proof. Choose any w with exactly two + and two − on A and set x_{ij}=w_i w_j. By Lemma 10, for each k the ordered triple contributed by the three edges in A\{k} is a permutation of (+,−,−). By hypothesis, this ordered triple lies in F(p^B_k,p^C_k) for every k, so no Y_k is of type O5. Therefore the resulting structure on A∪{b,c} is in H and extends both B and C. ∎

Proposition 12 (Equal-constant fixed pairs are solvable by a constant assignment).
In the |A|=4 one-point amalgamation problem, if (p^B_k,p^C_k)=(δ,δ) for all k∈A with a fixed δ∈{±1}, then there exists an amalgam D∈H obtained by setting x_{ij}≡δ.

Proof. With this assignment, for each k the 5-vector p(Y_k) equals (δ,δ,δ,δ,δ), which is ±C5. Since ±C5 is not in the O5 orbit, each Y_k is non-O5 and the amalgam lies in H. ∎

Lemma 13 (A hard local exclusion in the opposite-fixed case).
For (α,β)=(+,-), the triple (−,−,−) is forbidden: (x,y,z)=(−,−,−)∉F(+,-). Symmetrically, for (α,β)=(−,+), (+++)∉F(−,+).

Proof. For (α,β)=(+,-) and (x,y,z)=(−,−,−) one has p=(+,-,−,−,−), which is the canonical O5 representative; hence it is in the O5 orbit. By Lemma 8 (global sign-reversal is in the orbit), (−,+,+,+,+) is also in O5, yielding the symmetric statement. ∎
Proposition 14 (The one-point amalgamation over |A|=3 always succeeds, constructively).
Let A have size 3 and let B=A∪{b} and C=A∪{c} lie in H and agree on A. On Y:=A∪{b,c}, write p(Y)=(α,β,x,y,z) in the coordinate order (missing c, missing b, then missing the elements of A in increasing order). Then for each (α,β)∈{±1}^2 there is a choice of (x,y,z)∈{±1}^3 such that p(Y) is not in the O5 orbit, namely:
- If (α,β)=(+,+), take (x,y,z)=(+,+,+), so p(Y)=(+,+,+,+,+)=C5.
- If (α,β)=(−,−), take (x,y,z)=(−,−,−), so p(Y)=(−,−,−,−,−)=−C5.
- If (α,β)=(+,-), take (x,y,z)=(+,-,+), so p(Y)=(+,-,+,-,+)=H5.
- If (α,β)=(−,+), take (x,y,z)=(−,+,−), so p(Y)=(−,+,−,+,−)=−H5.
In all cases Y is non‑O5, hence there exists an amalgam D∈H on A∪{b,c} extending B and C.

Proof. The only new 5‑set is Y=A∪{b,c}. The displayed assignments set its 5‑vector equal to one of ±C5 or ±H5 in the fixed coordinate order, and these are not in the O5 orbit. There are no other new 5‑sets to check. Hence the extension lies in H. ∎

Proposition 15 (A solvable subclass for |A|=4 via a local H5 pattern with consistency).
Let A={1,2,3,4}, and let B=A∪{b} and C=A∪{c} lie in H and agree on A. For k∈A, write (α_k,β_k):=(p^B_k,p^C_k). Adopt the coordinate order
p(Y_k)=(p_{missing c},p_{missing b},p_{missing i},p_{missing j},p_{missing ℓ}) for Y_k={b,c}∪(A\{k}) with i<j<ℓ the increasing order on A\{k}. Suppose the type‑data satisfy the equalities
α_1=α_2=α_3=α_4,
β_1=α_3,
β_4=α_2,
β_2=β_3.
Then there exists an assignment to the six cross 4‑sets x_{ij}=f({i,j,b,c}) such that, for each k, p(Y_k) is ±C5 if α_k=β_k and ±H5 otherwise. In particular, an amalgam D∈H exists.

Proof. Define the triple of edge variables on Y_k by (x_{jℓ},x_{iℓ},x_{ij})=(α_k,β_k,α_k), where {i,j,ℓ}=A\{k} with i<j<ℓ. Each edge variable x_{ij} appears in exactly two such triples, corresponding to the two values of k∈A\{i,j}. The displayed equalities on the α_k and β_k are exactly those required to make these two prescriptions agree for every edge (a direct check using the mapping p_{missing i}=x_{jℓ}, p_{missing j}=x_{iℓ}, p_{missing ℓ}=x_{ij}). With this consistent assignment, p(Y_k)=(α_k,β_k,α_k,β_k,α_k), which is ±C5 if α_k=β_k and ±H5 otherwise. None of these are in the O5 orbit, so all four Y_k are non‑O5 and the resulting structure is an amalgam in H. ∎
Lemma 16 (Union‑bound feasibility for the |A|=4 CSP).
In the |A|=4 one‑point CSP (Proposition 3), suppose that for each k∈{1,2,3,4} the local table forbids at most one ordered triple, i.e., |{±1}^3\F(p^B_k,p^C_k)| ≤ 1. Then there exists an assignment to the six variables x_{ij} that satisfies all four constraints (so an amalgam in H exists).

Proof. There are 2^6=64 global assignments to the six variables. Fix k and a forbidden ordered triple t on its three local variables; the set of global assignments inducing t on that triangle has size 2^3 (the other three edge‑variables are free). Thus forbidding at most one triple per triangle eliminates at most 4·2^3=32 global assignments in total. Therefore at least 64−32=32 assignments remain that satisfy all four local constraints. ∎

Corollary 16.1 (A small‑table criterion for the |A|=4 step).
If the two base tables satisfy |{±1}^3\F(+,+)| ≤ 1 and |{±1}^3\F(+,-)| ≤ 1 (so, by Corollary 9, the same holds for F(−,−) and F(−,+) by triplewise negation), then for every one‑point diagram over |A|=4 there exists an amalgam D∈H.

Proof. For any instance, each Y_k uses one of the four pairs (p^B_k,p^C_k)∈{++,−−,+−,−+}; by the stated hypothesis and Corollary 9, each corresponding table forbids at most one triple. Apply Lemma 16. ∎

Lemma 17 (Global parity constraint across the four triangles).
In the |A|=4 CSP, for any assignment x_{ij}∈{±1}, the product of the triangle‑products over the four Y_k equals +1. Equivalently, an odd number of triangles cannot have triple‑product −1.

Proof. Each triangle‑product equals the product of its three edge‑variables. Multiplying the four triangle‑products together, each edge‑variable x_{ij} appears exactly twice (in the two triangles omitting i and j), hence contributes x_{ij}^2=1 to the total product. Therefore the total product is +1. ∎
