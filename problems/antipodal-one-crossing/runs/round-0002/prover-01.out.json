{
  "progress_md": "## Audit of output.md and context\n- Theorem A (KG(n,3) spectral bound) is correct and useful to certify that vertex-wise constraints alone cannot push b below 1/2: for n\u22656, b \u2264 1/2 + 3/(2(n\u22123)). A small bookkeeping remark: the identity \u201cglobal b is the average of b_v over v\u201d uses that the number of v-neighbor pairs is \u00bd\u00b7C(n,3)\u00b7C(n\u22123,3), independent of v.\n- Note that substituting this bound into Dvo\u0159\u00e1k\u2019s formula yields E[switches] \u2264 (3/8 + 1/(8(n\u22123)) + o(1))\u00b7n, which is a slightly weaker upper bound than 3/8 + o(1) (the +1/(8(n\u22123)) is positive). This is not an improvement, but it cleanly quantifies the o(1) term achievable from per-vertex information alone.\n- Lemma B (monochromatic-star count) is correct. It will be a useful input to quantify biases at vertices.\n\n## New idea: quantify both-good boundary savings via a per-vertex bias parameter\nWe isolate the exact contribution of \u201cboth-good\u201d v-neighbor pairs, improving Dvo\u0159\u00e1k\u2019s generic 1/2 bound by a vertex-level bias term that can later be lower-bounded in structural cases.\n\nDefinition (preferred color distribution at v among good Q3). For a vertex v, for each good Q3(v,K) and the map f1 used inside that Q3, define c_v(K) \u2208 {R,B} as the color of the first edge at v along (v, f1(v,w)). Let t_v be the number of good Q3 containing v and let\n\\[ p_v := \\mathbb{P}_{K\\mid v,\\,\\text{good}}\\big[c_v(K)=\\R\\big] = r_v^{(g)}/t_v,\\quad u_v := |2p_v\u22121|. \\]\nHere r_v^{(g)} counts K with c_v(K)=R. By Lemma 8 and the definition of f1, c_v(K) is well defined (ties are broken deterministically within f1).\n\nLemma (both-good boundary disagreement at v). Among pairs of good v-neighbor Q3\u2019s (disjoint triples) chosen uniformly, the probability that their f1-preferred colors at v differ is\n\\[ \\le \\frac{1}{2} - \\frac{u_v^2}{2} + O\\!\\left(\\frac{1}{n}\\right). \\]\nSketch. If we sampled two good triples uniformly without replacement from the t_v good triples, the exact fraction of disagreeing unordered pairs would be r_v^{(g)}(t_v\u2212r_v^{(g)})/\\binom{t_v}{2} = \\frac{t_v}{t_v\u22121}\\cdot 2p_v(1\u2212p_v) = \\frac{t_v}{t_v\u22121}\\cdot\\left(\\frac{1}{2} \u2212 \\frac{u_v^2}{2}\\right). Restricting to v-neighbors excludes pairs that share a direction; for each fixed good Q3 there are at most O(n^2) \u201cforbidden\u201d partners (share \u22651 extra direction), so among \\Theta(n^3) good triples this exclusion perturbs the pair distribution by O(1/n). Hence the bound follows.\n\nCorollary (refined a-term). Writing a for the probability that two random neighboring Q3\u2019s (sharing one vertex) are both good, the boundary-change probability in the both-good case satisfies\n\\[ \\mathbb{P}[\\text{boundary switch}\\mid \\text{both good}] \\le \\frac{1}{2} - \\frac{1}{2}\\,\\mathbb{E}_v[u_v^2] + O\\!\\left(\\frac{1}{n}\\right). \\]\nConsequently, Dvo\u0159\u00e1k\u2019s expected-switch bound improves to\n\\[ \\mathbb{E}[\\text{switches}] \\le \\Big( \\tfrac{1}{3} + \\tfrac{b}{12} + \\tfrac{a}{3}\\big( \\tfrac{1}{2} - \\tfrac{1}{2}\\,\\mathbb{E}_v[u_v^2] + O(\\tfrac{1}{n})\\big) + o(1) \\Big) n \n= \\Big( \\tfrac{1}{3} + \\tfrac{b}{12} + \\tfrac{a}{6} - \\tfrac{a}{6}\\,\\mathbb{E}_v[u_v^2] + o(1) \\Big) n. \\]\nThis cleanly isolates a quantitative source of savings: any universal lower bound on \\(\\mathbb{E}_v[u_v^2]\\) yields a constant improvement over 3/8.\n\nWhy useful here. This replaces the crude 1/2 in the a-term by 1/2 \u2212 (1/2)\u00b7E_v[u_v^2] + o(1). It is fully compatible with Dvo\u0159\u00e1k\u2019s framework and reduces the problem to exhibiting a nontrivial global bias among preferred colors at vertices, or to a dichotomy: either E_v[u_v^2] is bounded away from zero (immediate gain) or a \u201cnear-balanced\u201d structure holds that we can try to exploit to force b \u2264 1/2 \u2212 \u03b3.\n\n## A conditional special case: degree-biased colorings force savings\nLink u_v to the edge-color degree imbalance at v using star-good triples.\n- Let x_v := r_v/n be the red-degree fraction at v. Among good triples, at least the monochromatic-star triples contribute, and for those c_v(K) equals the star color at v. Thus\n  \\[ p_v \\ge \\frac{\\binom{r_v}{3}}{t_v},\\quad 1-p_v \\ge \\frac{\\binom{n-r_v}{3}}{t_v},\\quad t_v \\ge \\binom{r_v}{3}+\\binom{n-r_v}{3}. \\]\n- Hence \\(u_v \\ge \\dfrac{\\big|\\binom{r_v}{3} - \\binom{n-r_v}{3}\\big|}{\\binom{r_v}{3}+\\binom{n-r_v}{3}}\\). For x_v = 1/2 + \\eta with |\\eta| \u226a 1, a Taylor expansion gives \\(u_v \\gtrsim 6|\\eta| + O(\\eta^3)\\).\n- Therefore, if a positive fraction \\(\\rho\\) of vertices satisfy |x_v \u2212 1/2| \u2265 \\eta\u2080, then \\(\\mathbb{E}_v[u_v^2] \\ge c\\,\\rho\\,\\eta_0^2\\) for some absolute c > 0. Plugging into the corollary gives a concrete improvement \\(\\delta \\ge c'\\,a\\,\\rho\\,\\eta_0^2\\).\nThis yields an auditable gain in the \u201cdegree-biased\u201d regime. The hard case is the \u201cglobally balanced\u201d regime where x_v \u2248 1/2 for most v.\n\n## Obstacles and where the improvement must come from in the balanced regime\n- There may exist colorings with x_v \u2248 1/2 for all (or almost all) vertices, killing the above degree-based bias. In this regime, any gain must come from structural constraints coupling the c_v(K) labels across different K (4-cycle/face consistency) and from the interaction between good and bad Q3\u2019s (parameter b).\n- The spectral KG(n,3) bound shows that cuts G_v\u2282C([n],3) alone do not force b < 1/2. We must exploit cross-vertex and cross-triple constraints inherently present in the cube that the Kneser abstraction discards.\n\n## Concrete, checkable next steps\n1) Formalize and add the \u201cboth-good refinement\u201d lemma to output.md. It is self-contained and only uses counting over t_v and the O(n^2)-exclusion argument already present implicitly in Dvo\u0159\u00e1k\u2019s proof. This yields a parameterized improvement term \u2212(a/6)\u00b7E_v[u_v^2]\u00b7n.\n2) Quantify the degree-bias case: write a short lemma proving u_v \u2265 c\u00b7|2x_v\u22121| for star-driven minima (as above), with explicit c from exact binomial ratios, and derive the resulting \u03b4 in terms of the density of vertices with |2x_v\u22121| \u2265 \u03b7.\n3) Begin the LP relaxation in the balanced case (x_v \u2248 1/2):\n   - Variables: for a fixed v, frequencies over Q3 isomorphism classes with a marked vertex and their c_v labels; frequencies over pairs of disjoint triples at v and their joint c_v labels; optionally include a minimal set of Q6-face constraints encoding compatibility between the two Q3\u2019s via shared 4-cycles not passing through v.\n   - Constraints: (i) normalization and marginalization; (ii) the fraction of good Q3 at v is \u2265 \u03c4_v \u2265 1/4 \u2212 3/(4n); (iii) Dvo\u0159\u00e1k\u2019s Lemma 9 filters for bad Q3; (iv) symmetry under color swap and coordinate permutations.\n   - Objective: maximize b subject to these constraints and u_v \u2264 \u03b5 for all v (the \u201cbalanced\u201d regime). If the optimum yields b \u2264 1/2 \u2212 \u03b3 for some absolute \u03b3, we obtain the desired dichotomy.\n4) Enumeration task for Q3 classes: catalog all 2-colorings of Q3 up to automorphism; for each class and marked vertex, determine \u201cgood/bad\u201d and, for good, list all minimal-change geodesics\u2019 starting colors at the marked vertex. This table will supply exact constraints for (3).\n\n## Sanity checks and small examples\n- For any v, if all good Q3\u2019s containing v are anchored at v (monochromatic star), then u_v = |2x_v\u22121| and the both-good disagreement probability at v equals 1/2 \u2212 (2x_v\u22121)^2/2 + O(1/n), giving a clear deviation from 1/2 when x_v\u22601/2.\n- In a random coloring (each edge red/blue with prob 1/2 independently), heuristic suggests u_v concentrates near 0 and b\u22481/2, matching the expectation that our improvement must come from worst-case structural constraints rather than average-case randomness. The LP aims exactly at the worst-case.\n\n## Why this is incremental, auditable progress\n- The both-good refinement is a precise, verifiable tightening of a step in Dvo\u0159\u00e1k\u2019s estimate; it cleanly introduces a measurable parameter u_v that future steps can bound from below.\n- The conditional degree-bias improvement gives a family of explicit special cases yielding an immediate \u03b4.\n- The LP setup is concrete: it targets the balanced regime where the degree-based route fails, and it encodes local consistency that the Kneser graph abstraction ignores. Numerical experimentation on this relaxation can expose a positive margin \u03b3 and guide a combinatorial proof.\n\n## Open gaps to flag explicitly\n- output.md currently does not include the both-good refinement; adding it will make transparent how vertex-level biases translate to reduced switches.\n- We do not yet have a universal lower bound on E_v[u_v^2]. Establishing a dichotomy (either E_v[u_v^2] \u2265 \u03b40 or b \u2264 1/2 \u2212 \u03b30) via the LP is the key next milestone.\n"
}