--- SYSTEM ---
You are a research mathematician. 

You are being run in a loop with a verifier that checks rigor. Your goal is to make **incremental, auditable progress**. You are not expected to solve the problem at once, but to generate new, testable ideas.

Inputs: 
- task statement 
- notes.md (summary of past progress; optional) 
- output.md (rigorously proven results curated so far; optional) 
- summary of past rounds (optional) 
- possibly some reference papers.

What counts as progress:
- Extract small lemmas/heuristics from literature and state them cleanly with one-line "why useful here".
- Explore small examples & try to break your own claims with toy counterexamples.
- Prove special cases or nontrivial bounds.
- If an approach fails, explain crisply why.
- Point out flaws in notes.md or output.md (but do not rewrite output.md yourself).

**Discipline.** 
- Read notes, outputs, summaries carefully before proposing new work. 
- Reference papers if relevant, but focus on *incremental, checkable steps*. 
- Do not output Markdown code fences, only raw JSON. 
- Length: at least ~200 words. 
- Organize your reasoning with short headings (Ideas, Examples, Obstacles, Next steps), make clear what your claims are and how they are supported. 
- Remember: the verifier curates notes and outputs, you only suggest.

**Return strictly JSON**:
{
  "progress_md": "Your progress notes for this round in Markdown (KaTeX allowed). Point out any gaps in output.md clearly. Do not modify output.md directly."
}


--- USER ---
Work on this problem context:

=== task.tex ===
% Improving Dvořák's 3/8 bound on color changes
% \newcommand{\cube}{Q_n}
% \newcommand{\V}{\{0,1\}^n}
% \newcommand{\E}{E}
% \newcommand{\col}{\chi}
% \newcommand{\R}{\mathsf{R}}
% \newcommand{\B}{\mathsf{B}}
% \newcommand{\switches}{\mathrm{sw}}

\section*{Model and task}

\paragraph{Setup.}
Let $\cube$ be the $n$-cube. Consider an \emph{arbitrary} 2-coloring $\col:\E(\cube)\to\{\R,\B\}$ (no antipodality constraint). For a path $P=(e_1,\dots,e_L)$, let $\switches(P)$ be the number of color changes along $P$.

\paragraph{Objective (beat $3/8$).}
Dvořák proved that there is an antipodal path with at most $\big(\tfrac{3}{8}+o(1)\big)n$ switches. Prove any constant improvement:
\[
\exists\,\delta>0\ \text{(absolute)}\quad
\forall\,n\ \ \text{every 2-coloring has antipodal } P
\text{ with }\switches(P)\le \Big(\tfrac{3}{8}-\delta\Big)n.
\]
Even $\delta=10^{-4}$ would be significant.

\section*{Context and prior results}

\paragraph{Baseline bounds.}
Leader--Long showed a monochromatic geodesic of length $\ge \lceil n/2\rceil$, implying an antipodal path with at most $n/2$ switches. Dvořák sharpened this to $(3/8+o(1))n$ by a refined random-geodesic and $Q_3$-patching argument.


\section*{Possible approaches and technical ideas}

\paragraph{Important note.}
The items below should be treated as results of brainstorming, take all of them with a grain of salt. 


\paragraph{1.\ Expander vs.\ sparse-cut dichotomy at block scale.}
Partition coordinates into blocks $J_1,\dots,J_T$ of size $m$ (e.g., $m=128$). Let $S_J=\{x:\sum_{i\in J}x_i\equiv 0\pmod 2\}$, and denote by $\beta_J$ the fraction of $J$-direction edges that are blue (across $\delta S_J$).
\begin{itemize}
  \item \textbf{Case A (many biased blocks).} For at least $(1-\theta)$ fraction of blocks, $\beta_J\notin[\tfrac12-\varepsilon,\tfrac12+\varepsilon]$. In each biased block, a random start and random ordering of coordinates yields (by Chernoff) a run that flips all $|J|$ coordinates with only $O(\varepsilon |J|)$ off-color edges. Use 4-cycle commuting to cluster the defects, so processing all blue-majority blocks in one blue phase and red-majority blocks in one red phase costs
  \[
  \text{switches} \ \le\ \underbrace{T}_{\text{phase boundaries}} \;+\; O(\varepsilon n).
  \]
  Choosing $m$ large and $\varepsilon\ll 1/m$ gives $\le (1/m+\varepsilon)n<0.375n$.
  \item \textbf{Case B (few biased blocks).} For at least $(1-\theta)$ fraction of blocks, both colors occupy a constant fraction of \emph{every} block boundary. Summing the block matchings shows that at least one color subgraph has spectral gap $\Omega(1)$ (matrix Chernoff on the sum of matchings), hence linear conductance and, in particular, a \emph{monochromatic} antipodal path (0 switches).
\end{itemize}
\emph{Deliverable sublemma:} If a color occupies at least an $\varepsilon$-fraction of each $\delta S_J$ for $(1-\theta)$ of the blocks, then that color has conductance $\Omega(\varepsilon)$ in the whole cube.

\paragraph{2.\ $Q_3$ density improvement over $1/2$.}
Dvořák’s method analyzes a random geodesic and counts ``good'' $Q_3$ subcubes that allow local color-change savings. Prove that in any 2-coloring, the fraction of good $Q_3$’s exceeds $1/2+\gamma$ for some absolute $\gamma>0$. Then the expected number of savings improves by $\Omega(\gamma n)$, pushing the constant below $3/8$.
\begin{itemize}
  \item Candidate route: classify $Q_3$ colorings; show certain ``worst'' patterns cannot tile the cube at density $1/2$ due to parity/overlap constraints on shared 4-cycles. A linear-program bound over pattern frequencies may certify $\gamma>0$.
\end{itemize}

\paragraph{3.\ Local surgery with better defect-to-switch conversion.}
Along a nearly monochromatic segment containing a fraction $\rho$ of off-color edges, one can iteratively remove $RBR$ (or $BRB$) peaks using 4-cycles on the two involved coordinates. A careful accounting shows the number of resulting switches is \emph{twice} the number of disjoint defect clusters. Sharpen this combinatorial lemma to show
\[
\text{switches} \ \le\ (2+o(1))\,\rho n,
\]
uniformly over concatenated segments. Coupled with any scheme producing $\rho\le 0.18-\epsilon$, this already beats $3/8=0.375$.

\paragraph{4.\ Fourier/junta stability for sparse colored boundaries.}
Let $S\subset\V$ minimize the blue fraction across a cut: $|E_\B(S,\overline{S})|$ small relative to $|E(S,\overline{S})|$. Prove a junta-type stability: most boundary measure concentrates on a small set of coordinates $I$, and across those directions one color dominates. This yields a long single-color burst on $I$ with $o(n)$ switches, then recurse on $I^c$. With $\eta=O(\sqrt{\varepsilon})$ stability, you obtain $(\varepsilon+\eta)n$ switches; choosing constants delivers any fixed gain below $3/8$.

\paragraph{5.\ Refined random-geodesic coupling.}
In Dvořák’s proof, choices of coordinate order are uniform. Bias the distribution toward orders that maximize the overlap with biased blocks or good $Q_3$’s (via an exposure martingale and a size-biased pick of next coordinate). Freedman-type concentration can control the variance while increasing the expected savings per step by a fixed constant, giving $\tfrac{3}{8}-\delta$.

\paragraph{6.\ Hybrid multi-scale strategy.}
Run the process in \emph{phases}: at scale $m$ apply block-parity compression; on the residual set of coordinates with weak block bias, switch to the $Q_3$ density argument; if both fail to yield a strict gain, the spectral lemma triggers the expander case (0 switches). The minimum gain across phases is a fixed $\delta>0$.


=== progress.md ===
## Round 0001 — 2025-08-27T15:23:43.272071Z

Round 0001 — Critical review of brainstormed approaches; precise counterexamples; small rigorized lemmas and a concrete plan to target the parameter b in Dvořák’s scheme

Summary of materials read
- task.tex: Problem and brainstormed approaches (1–6).
- Dvořák (2020) paper (ejc 27(2) #P2.26): Proof of the (3/8+o(1))n bound via Q3-patching; definitions of good/bad Q3, parameters p,a,b, and the resulting bound (1/3 + b/12 + o(1))n.
- There is no output.md provided; nothing to curate yet.

Gaps and corrections to notes in task.tex
1) “Deliverable sublemma” under approach 1 is false as stated.
- Claim in notes: If a color occupies at least an ε-fraction of each block boundary δS_J for (1−θ) of the blocks, then that color has conductance Ω(ε) in the whole cube (hence a monochromatic antipodal path).
- Counterexample (explicit): Color every edge (x,x⊕e_i) blue iff the Hamming parity of x is 0, and red otherwise. Then in every direction i and every block J we have exactly half of the edges blue, i.e. β_J = 1/2 for all J. Yet the blue subgraph has all odd-parity vertices isolated (degree 0), hence conductance 0 and is disconnected. Therefore, occupying a constant fraction of each δS_J does not imply any expansion or even connectivity. The obstruction is concentration on one bipartition side per direction.
- Conclusion: Any usable block-to-expansion lemma must include a “balanced across endpoints” condition (e.g. per-direction, blue edges incident to each bipartition side in the block must form a constant fraction), not just an aggregate fraction across δS_J.

2) Case A “Chernoff” bound in approach 1 is not valid as written.
- Notes say: In a biased block J with β_J ∉ [1/2−ε, 1/2+ε], a random start and random ordering yields O(ε|J|) off-color edges, then 4-cycle commuting clusters defects and total switches ≤ T + O(ε n).
- Issue: For a uniformly random start x and random ordering of the |J| directions, the i-edge encountered is uniformly distributed among all i-edges, so the expected number of blue edges encountered equals β_J|J| and red equals (1−β_J)|J|. If blue is the “majority,” the expected off-color count is (1−β_J)|J|, which is ≈ (1/2−ε)|J| when β_J = 1/2+ε — not O(ε|J|). Concentration inequalities do not apply directly here because these are m dependent edge-indicators evaluated at the same random vertex x.
- Even existence via the method of conditional expectation only guarantees there is an order achieving at most the expectation (≈ (1/2−ε)|J| off-color edges in the mild-bias regime), not O(ε|J|). So the proposed inequality is overly optimistic.

3) Why a naive “p-density of good Q3’s” cannot improve 3/8 by itself.
- In Dvořák’s analysis, after defining p (fraction of good Q3), a (probability two random neighboring Q3 are both good), and b (probability one good, one bad), the final expected bound simplifies to (1/3 + b/12 + o(1))n using p = a + b/2. Thus p cancels out. Any plan focusing only on raising p above 1/2 (approach 2 as currently phrased) does not directly improve the constant; one must lower b strictly below 1/2 (or reduce the “a-case” boundary change probability below 1/2).

Small rigorized lemmas and bounds
A) Vertex-wise Kneser (disjointness) graph viewpoint and a clean upper bound on mixed pairs.
- Setup: For a fixed vertex v, Q3-subcubes through v correspond to 3-subsets K ⊂ [n] (directions). Two such Q3’s are v-neighbors iff K1 ∩ K2 = ∅. This is the Kneser graph KG(n,3) on vertices V = {K ⊂ [n]: |K|=3}, edges between disjoint triples. Let N = |V| = C(n,3), degree d = C(n−3,3).
- For a given coloring, let G_v ⊆ V be the set of good triples at v; then b_v is the fraction of edges in KG(n,3) that cross the cut (G_v, V\G_v). Dvořák’s “b” is the average over vertices of b_v, up to the normalization between ordered/unordered pairs (which cancels in fractions).
- Spectral MAX-CUT bound (standard): For any d-regular graph with smallest eigenvalue λ_min, the maximum cut has at most |E|·(1/2)(1−λ_min/d) edges. For KG(n,3), the spectrum is known: eigenvalues are λ_0 = d, λ_1 = −C(n−4,2), λ_2 = n−5, λ_3 = −1. Hence λ_min = −C(n−4,2).
- Therefore, for every v and every choice of G_v,
  b_v ≤ 1/2 · (1 − λ_min/d) = 1/2 · (1 + C(n−4,2)/C(n−3,3)).
  Since C(n−4,2)/C(n−3,3) = 3/(n−3),
  b_v ≤ 1/2 + 3/(2(n−3)).
- Averaging over v gives the same bound for b up to o(1/n) bookkeeping. This recovers and slightly sharpens Dvořák’s b ≤ 1/2 + o(1), giving an explicit o(1) term. It also clarifies the structural limitation: vertex-wise information alone cannot force b ≤ 1/2−γ for absolute γ.
- Usefulness here: This pins down what extra (non-vertexwise) structure must be exploited to beat 3/8: correlations among the labels G_v across different vertices/edges, not captured by per-vertex cuts, are necessary.

B) Formal “no-go” lemma for naive block-conductance.
- Statement: There exist 2-colorings for which, for every block partition {J_t}, every block J satisfies β_J = 1/2 (blue occupies half of δS_J), yet the blue subgraph is disconnected (indeed, has 2^{n−1} isolated vertices) and has conductance 0.
- Proof: The parity coloring described above has b_i(x) = 1 iff ⟨x,1^n⟩ mod 2 = 0 for every direction i. Then exactly half of i-edges are blue for every i, whence β_J = 1/2 for all J. But odd-parity vertices have zero blue degree, so the blue subgraph is disconnected. QED.
- Usefulness here: Clarifies that any block-expansion lemma must additionally control endpoint-balance per direction (or within-block bipartition balance), not just overall fractions.

Refined ideas targeting the boundary term (the parameter b)
Idea I: Replace the per-vertex trivial cut bound with constraints across vertices via 4-cycle consistency.
- Observation: The good/bad status of Q3(v,K) depends on the colors of edges both through v and away from v. Two disjoint triples K1,K2 at v involve disjoint sets of directions; hence many 4-cycles and 3-faces touching v and those directions mediate dependencies between “good at K1” and “good at K2”. The per-vertex MAX-CUT bound treats G_v as an arbitrary subset of triples, ignoring these constraints.
- Plan (LP/SDP framework): Introduce variables for frequencies of local patterns around v on:
  • 1-edge statistics at v: the color of each direction i.
  • 2-edge statistics at v: for unordered pairs {i,j}, the multiset of colors on the 4-cycle through v in directions i,j (there are only a few 2-color isomorphism types), capturing parity constraints.
  • 3-edge statistics: the 2-coloring type of Q3(v,K), with a flag good/bad and, for good, the color at v chosen by f1.
- Impose consistency constraints: marginalization (3-edge types project to 2-edge and 1-edge types), and that for each fixed {i,j}, all four Q3 containing {i,j} at v aggregate consistently with the 4-cycle type. Also enforce that across a uniformly random direction set, distributions are invariant. Finally, encode that pairs (K1,K2) disjoint at v induce the boundary change indicator using the chosen colors for f1.
- Objective: Maximize b (probability of good-bad among disjoint pairs) plus the “both-good boundary switch” probability, to reproduce Dvořák’s boundary analysis with the extra structural constraints. The hope: these constraints force b strictly below 1/2.
- Auditable next step: Enumerate the finite type spaces explicitly (number of 2-edge types at v is small; number of Q3 types up to automorphism is also small), write the linear constraints, and solve the LP numerically to obtain a candidate γ > 0. If obtained, this gives a concrete target to then re-prove combinatorially.

Idea II: Classify Q3 patterns more finely to reduce the “a-case” bound below 1/2.
- In Dvořák’s proof, when both neighboring Q3’s are good (probability a), the probability of a boundary color switch at the common vertex is bounded by 1/2 + o(1). This is where structural savings may be hidden: for good Q3’s, the choice of f1 is not arbitrary; it tends to align with the majority color at the shared vertex in that Q3 (anchoring at a monochromatic star when present, see Lemma 8). Disjoint good cubes’ preferences may align more than random, leading to ≤ 1/2 − η for some absolute η.
- Concrete step: Enumerate good Q3 isomorphism classes; for each class and a marked vertex, compute c_v (the color at v chosen by f1 in that Q3). Show that for two independent disjoint good cubes, P[c_v differ] ≤ 1/2 − η. Then the “a-term” contribution in Dvořák’s bound becomes (1/2 − η + o(1)) a, improving the constant.
- Why plausible: The anchored-good subclass (Lemma 8) contributes a positive mass where c_v equals the common color at v; when degrees at v are slightly imbalanced these dominate. Even in the balanced case, the structure of bad patterns (Lemma 9) implies that good patterns have a constrained “preferred color” at v. This can be tested computationally for Q3.

Modest but checkable auxiliary computations
- Re-derive the exact coefficient that Dvořák bounds in the “a-case.” In the paper (p. 5–6), the 1/2 + o(1) arises by a crude bound treating pairs of good v-neighbors that share another vertex as negligible. A tighter local counting (still within good Q3’s) may already give a c/n improvement in the “a-term.” While asymptotically negligible for our target, it will validate the direction and help calibrate the LP in Idea I.

Examples to stress-test claims
- Parity coloring (defined above):
  • All blocks have β_J = 1/2; the blue subgraph is disconnected: demonstrates failure of naive conductance claims.
  • Dvořák’s scheme applied here: almost surely a monochromatic antipodal path exists when n is even (choose blue if start and end in even parity class), but not necessarily via geodesics; confirms that the method’s lower-level constants must be disentangled from global connectivity phenomena.

Next steps (concrete, auditable)
1) Q3 pattern enumeration and “preferred color map” at a vertex.
- Task: List all 2-colorings of Q3 up to automorphism, mark the isomorphism classes that are good/bad (using Dvořák’s definition), and for each good class and marked vertex identify the color at the marked vertex selected by f1 (minimal changes; fix a deterministic tie-break). Output: a table of classes with weights.
- Deliverable: For two independent random good Q3’s at v with disjoint direction sets (approximating independence), compute the probability their f1-colors at v differ. If this is ≤ 1/2 − η for some η > 0, draft a lemma capturing this bias. If not, record the counterexample pattern mix.

2) LP bound for b using local consistency.
- Task: Set up a linear program over the frequencies of: (i) per-vertex degree of blue; (ii) per-pair 4-cycle type frequencies at v; (iii) Q3 pattern frequencies at v. Impose marginal constraints and consistency of pairs of disjoint triples at v. Maximize b subject to these constraints to test if b ≤ 1/2 − γ is forced by local structure. Start with a reduced symmetry model (assume per-vertex blue degree equals n/2) to simplify.

3) Repair of approach 1 (block phase) via endpoint-balance conditions.
- Task: Formulate and prove a corrected lemma: If in a block J and for each direction i ∈ J the set {x ∈ {0,1}^n : the i-edge at x is blue} has density in [ε, 1−ε] and additionally its correlation with the block-parity function p_J is at most 1−2ε, then the blue subgraph restricted to coordinates in J is connected within each coset of the other coordinates. Sketch a proof via expansion of a product of matchings with endpoint balance, or point out the precise obstacle.
- Usefulness: Even if this does not directly lead to a global δ, it will clarify what endpoint-balance one must enforce to get monochromatic long runs.

4) Document the exact dependence on b in Dvořák’s bound and isolate where boundary improvements can be inserted.
- Task: Rewrite the final inequality as switches ≤ (1/3 + b/12 + φ)a + ψ with explicit φ,ψ capturing the “a-case” boundary term. Identify the component where replacing 1/2 by 1/2 − η moves the final constant by η·(a/3). This will quantify how large an η is needed for a given lower bound on a.

Why these steps are promising
- They target the only parameter that matters in Dvořák’s calculation (b), or the only loose bound (the 1/2 in the a-case), and they incorporate cross-cube constraints (4-cycles and consistency) that weren’t used in the 3/8 bound. Either an LP certifies a strict gap or it produces extremal local statistics guiding a human proof.

Potential obstacles
- Independence assumptions between disjoint triples at v are false; the LP must encode enough consistency without exploding in size. Start with a relaxation.
- Ties in the f1 choice for good Q3’s must be resolved canonically to keep the model deterministic; otherwise adversarial tie-breaking could push probabilities toward 1/2.
- Even a verified η > 0 for the a-case might be offset by an adversarial increase in b; the LP must optimize both simultaneously.

Closing
- Immediate action items: (1) Implement Q3 pattern classification and compute c_v biases for good Q3’s; (2) Draft the LP skeleton and test a symmetric relaxation (n large, per-vertex blue degree n/2) to probe whether b ≤ 1/2 − γ is plausible under local constraints.

## Round 0001 — 2025-08-27T15:24:16.452965Z

Status and reading
- I did not receive output.md or notes.md in this round; I cannot audit curated results. I focus on the task.tex and Dvořák’s paper (EJC 2020) to make incremental, checkable progress.

Recap of Dvořák’s parameterization
- The modified-geodesic scheme partitions a random antipodal geodesic into Q3-blocks and uses a local map f to rewire inside each block. The expected number of switches becomes
  E[switches] ≤ (1/3 + b/12 + o(1)) n,
  where b is the probability that two uniformly random neighboring Q3’s (sharing exactly one vertex) are of mixed type (one good, one bad). Dvořák proved b ≤ 1/2 + o(1), giving (3/8 + o(1))n. Any constant improvement must force b ≤ 1/2 − γ for some absolute γ > 0 (unless one redesigns the scheme at a larger scale).

Gap in brainstorming item 1 (block-expander dichotomy)
- Claim in task.tex: “If a color occupies at least an ε-fraction of each δS_J for (1−θ) of the blocks, then that color has conductance Ω(ε).” This is false in general.
- Counterexample (fully explicit; checkable): Fix n and ε ∈ (0,1/2). For each direction i ∈ [n], choose a pairwise-disjoint set A_i ⊂ {0,1}^{n−1} of size ε·2^{n−1}. Color an edge (x, x ⊕ e_i) blue iff the projection of x onto coordinates [n]\{i} lies in A_i; otherwise color it red. Then for every block J, the blue fraction across δS_J (the union of directions i ∈ J) is exactly ε, so the premise holds with θ = 0. However, the blue subgraph is a disjoint union of matchings (every vertex is incident to at most one blue edge because the A_i are disjoint), hence it has zero conductance. Therefore the “deliverable sublemma” is invalid without additional pseudorandomness or degree-spread assumptions.
- Consequence: The “Case A” estimate “O(ε|J|) off-color edges per biased block” also lacks justification. Even if β_J = 1/2 + ε at the block scale, one can realize this with each direction i having exactly 1/2 + ε fraction blue; then any geodesic that flips each i once sees ≈ (1/2 − ε)m minority edges on average, not O(εm). Without extra structure (e.g., many near-monochromatic directions within the block), the proposed O(εm) bound is not achievable.

Corrected formulation (what would be sufficient)
- A plausible, fixable version would require both:
  (i) per-direction bias within “good” blocks: for at least (1−θ) blocks J, each direction i ∈ J has blue fraction in [1/2 + ε, 1] or [0, 1/2 − ε]; and
  (ii) vertex-level spread: every vertex is incident to at least ρm blue edges from these directions for some fixed ρ > 0 (ruling out disjoint concentration as in the counterexample).
- Under (i)+(ii), a matrix-Chernoff/random-walk argument on the sum of many (partially) present matchings could give a conductance lower bound Φ = Ω(ερ), yielding a long monochromatic burst and fewer switches. This is a new sublemma to be proven; current task: formalize an expander bound from degree and per-matching density lower bounds under adversarial placement (nontrivial because independence is absent). One candidate route: canonical paths that use, for each coordinate, the present-blue matching with probability ≥ ε and exploit that each vertex has ≥ ρm available blue directions.

Towards reducing b below 1/2
- Dvořák’s bound b ≤ 1/2 + o(1) was obtained by, for each vertex v, letting s(v) be the number of good Q3’s containing v and observing that the fraction of good–bad v-neighbor pairs is at most s(v)(k−s(v)) with k = C(n,3), maximized at s(v)=k/2. To beat 1/2 one needs extra constraints coupling the types of different triples through shared edges/4-cycles.
- Key observation: The dependence of type(T) on the coloring enforces monotone constraints beyond “monochromatic star ⇒ good.” For a fixed v, the type function T_v on 3-subsets of [n] is not arbitrary; it must satisfy many local consistency relations (e.g., coming from the bad-Q3 structure Lemma 9 and from overlaps with other vertices of the same Q3). Exploiting these should lower the extremal good–bad mixing below the naive s(k−s) bound.

Auditable plan: a local LP/SDP bound for b
- Variables: For a fixed vertex v, let p_{abc} be the frequency over 3-sets I ⊂ [n] of the color-pattern at v on the three incident edges in directions I, where a,b,c ∈ {R,B} in some canonical order. Enforce the exact marginals determined by the degree at v: P(3R)=C(r_v,3)/C(n,3), P(3B)=C(n−r_v,3)/C(n,3), and the sums over 2R1B, 1R2B follow combinatorially.
- Enrich with 4-cycle constraints: For any pair of directions i≠j, and a third k, the joint distributions across the two Q3’s with triples {i,j,k} and {i,j,k′} must be compatible with the coloring on the 4-cycle generated by i and j. This couples p-distributions for different k,k′.
- Add “badness filters” from Lemma 9: for a bad Q3, from each vertex v there must exist exactly-one-change antipodal geodesics with prescribed colors at v and v′. Encode this as linear constraints on the frequencies with which a 3-set is classified as bad given its edge-colors at all 8 vertices (the latter determined by the global edge-coloring restricted to the Q3).
- Objective: Maximize the expected proportion of good–bad neighbor pairs b_v at v over all feasible distributions; then average v. Any universal upper bound strictly below 1/2 gives the desired γ. This is implementable as a relaxation (LP or small SDP) on the local configuration space (dimension controlled by the number of edge-color patterns on Q3 up to symmetry). Deliverable: set up the constraint system and solve numerically to detect a gap γ > 0, then try to certify analytically a positive margin.

Small, checkable computations that feed the LP
- Per-vertex lower bound on good Q3’s: For r_v red degree at v, the fraction of 3-sets yielding a monochromatic star is
  τ_v = [C(r_v,3)+C(n−r_v,3)] / C(n,3) = x^3+(1−x)^3 + O(1/n), with x=r_v/n.
  Minimizing in x gives τ_v ≥ 1/4 − 3/(4n) + O(1/n^2). This refines Dvořák’s “≥ 1/4 − o(1)” and quantifies the o(1) term; it feeds into the good–good boundary switch bound but, by itself, cannot beat 1/2.

Conditional improvement via vertex-bias (a structural lemma)
- Define, for a good Q3 containing v, the “suggested color at v,” σ ∈ {R,B}, as the color of the first edge in (v, f(v,w)). For v with red-degree fraction x, the bias among the good triples that are monochromatic at v is proportional to x^3−(1−x)^3 = (2x−1)(1/2−x(1−x)). Thus, if a positive fraction of vertices have |2x−1| ≥ η, then among good–good neighbor pairs at those v the disagreement probability drops below 1/2 by a quantity Ω(η), improving the boundary contribution. This yields a conditional bound of the form
  E[switches] ≤ (3/8 − c·E_v[|2r_v/n − 1|]) n + o(n).
  This is checkable once one quantifies how often f(v,w) is driven by the monochromatic-star mechanism among good Q3’s. The obstruction: there exist colorings with r_v≡n/2 (balanced at every vertex), so unconditional gains cannot rely on vertex-star bias alone.

Toy counterexamples and sanity tests
- The “disjoint A_i” construction shows block-level density guarantees do not imply expansion or easy phase clustering. It also shows that any argument requiring O(εm) minority edges per block must use stronger per-direction or per-vertex assumptions.
- Balanced-at-every-vertex constructions (deg_R(v) ≡ n/2) plausibly exist; in such colorings, per-vertex label biases vanish, so good–good boundary disagreement can be ≈ 1/2. Any unconditional improvement must therefore act through inter-triple consistency constraints (the proposed LP/SDP plan).

Next steps (actionable)
1) Formalize and solve the local LP: enumerate Q3 edge-colorings up to isomorphism; identify “good” vs “bad” as in Dvořák; introduce variables for frequencies of these patterns across the hypercube under the restriction that pairs sharing a vertex are coupled by 4-cycles. Compute the maximal b over feasible distributions. Even a numerical γ ≈ 10^{-3} would guide the analytic step.
2) Prove a strengthened “no-tiling-by-bads” lemma: show that for any fixed vertex v, among the 3-sets I disjoint from a fixed 3-set J, the indicator that Q3(v,I) is bad cannot be independent of Q3(v,J) being bad; quantify a negative correlation. This would directly lower b.
3) Explore Q4-block variant: Define “good Q4” and a corresponding f with improved boundary synchronization, aiming to replace the b/12 term by (b′/12) with b′ < b. Start with computational exploration on Q4 patterns.
4) Salvage block-phase under strengthened hypotheses: formulate and prove a lemma that if in at least (1−θ) blocks each direction has per-direction bias ≥ ε and each vertex sees ≥ ρm majority-color edges within those blocks, then one phase yields O((1/m)+θ+(1−θ)(1−ερ)) n switches. This will be a stand-alone result useful in a hybrid approach.

Summary of progress this round
- Identified and rigorously refuted a key sublemma in the brainstorm (expansion from block-thick density), with an explicit counterexample that also invalidates the O(εm) minority-edge claim.
- Clarified that improving the (3/8) constant within Dvořák’s framework hinges on proving b ≤ 1/2 − γ and proposed a concrete, auditable LP/SDP program to capture necessary local constraints beyond the vertex-star bound.
- Provided refined per-vertex counting bounds and a conditional structural lemma showing how vertex bias would reduce boundary disagreement (useful in structural case analyses).
- Outlined concrete next steps (computational and analytic) to move toward a constant γ > 0.



=== summary.md ===

## round-0001 — model summary — 2025-08-27T15:47:46.394447Z
Round summary: The round critically reviewed brainstormed approaches and fixed two key errors in task.tex: (1) the block-to-expansion sublemma is false as stated (explicit parity-coloring counterexample shows β_J = 1/2 for every block yet the monochromatic subgraph is disconnected), and (2) the Chernoff-style Case A bound is incorrect (expected off-color edges in a mildly biased block are ≈(1/2−ε)|J|, not O(ε|J|)). It was observed that raising p (fraction of good Q3’s) alone does not help because Dvořák’s formula depends on b (good–bad neighbor probability); to beat 3/8 one must force b ≤ 1/2−γ. A refined vertex-wise spectral MAX-CUT on KG(n,3) gives b_v ≤ 1/2 + 3/(2(n−3)), so vertex-only constraints cannot produce an absolute γ. Proposed concrete next moves: (A) enumerate Q3 colorings up to isomorphism and record the f1 "preferred color" at a marked vertex, (B) set up an LP/SDP over local 1/2/3-edge statistics with 4-cycle consistency and Dvořák badness filters to test whether local constraints force b ≤ 1/2−γ, and (C) formulate a corrected block-expansion lemma that includes endpoint-balance. Citations: prover-02.out.json (this round), task.tex, Dvořák (EJC 2020).



=== notes.md ===
Context and target in Dvořák’s framework
- Dvořák’s modified-geodesic scheme yields the bound E[switches] ≤ (1/3 + b/12 + o(1))·n, where b is the probability that two uniformly random neighboring Q3’s (sharing exactly one vertex) have mixed types (one good, one bad). Because p cancels via p = a + b/2, any constant improvement over 3/8 must either prove b ≤ 1/2 − γ for some absolute γ>0, or reduce the 1/2 bound in the a-term (both-good case).

Why naive block-density does not imply expansion (correct counterexample)
- Brainstorm claim (now rejected): “If a color occupies at least an ε-fraction of each block boundary δS_J for (1−θ) of the blocks, then that color has conductance Ω(ε).” This is false without further structure (e.g., endpoint balance and degree spread).
- Construction (valid undirected 2-coloring): Fix j:[n]→[n] such that j(i)≠i for all i. For each i-edge {x, x⊕e_i}, let y be the endpoint with y_i=0 and color the edge blue iff y_{j(i)}=1; otherwise red. Then for each i, exactly half of the i-edges are blue (so β_J=1/2 for every block J). Yet the blue subgraph can be extremely sparse at many vertices; e.g., if j(1)=2 and j(i)=1 for all i≥2, then for a vertex v, deg_B(v) = (n−1)·[v_1=1] + [v_2=1]. In particular, all vertices with (v_1,v_2)=(0,0) are isolated. Thus block-level edge-density alone does not imply connectivity, let alone conductance.
- Separate but related flaw: Even if a block J has aggregate blue-density β_J = 1/2+ε, one can realize this with each direction i∈J having density 1/2+ε. A geodesic that uses each direction exactly once then sees ≈(1/2−ε)|J| minority edges on average, not O(ε|J|). Any O(ε|J|) claim must extract stronger inner-block structure (e.g., many near-monochromatic directions).

Vertex-wise Kneser-graph formulation and spectral bound
- For a fixed vertex v, Q3’s through v correspond to 3-subsets of [n]. Two Q3’s are v-neighbors iff their 3-sets are disjoint; this is the Kneser graph KG(n,3). If G_v⊆C([n],3) is the set of “good” triples at v, then b_v is the fraction of edges in KG(n,3) crossing the cut (G_v, its complement). The parameter b equals the average of b_v over v, up to negligible normalization.
- Spectral MAX-CUT bound in KG(n,3): KG(n,3) is d-regular with d= C(n−3,3), and its least eigenvalue is −C(n−4,2). Hence for any cut, the crossing-edge fraction is ≤ 1/2 − λ_min/(2d) = 1/2 + 3/(2(n−3)). Therefore b ≤ 1/2 + 3/(2(n−3)). This recovers Dvořák’s b ≤ 1/2 + o(1) and makes the o(1) term explicit.

Per-vertex monochromatic-star lower bound (useful bookkeeping)
- For a vertex v with red degree r_v, the fraction of 3-subsets K such that the three edges at v in directions K are monochromatic equals [C(r_v,3) + C(n−r_v,3)] / C(n,3). This is minimized near r_v≈n/2; explicitly: for n even it equals 2·C(n/2,3)/C(n,3), and for n odd it equals [C((n−1)/2,3)+C((n+1)/2,3)]/C(n,3). Asymptotically this is 1/4 − 3/(4n) + O(1/n^2). This sharpened estimate alone cannot beat 3/8 but is a clean input for any refined accounting of the a-term.

Promising directions to reduce b or the a-term
- LP/SDP relaxation for b: Model local pattern frequencies around v (1-edge colors; 4-cycle types; Q3-types with the f1-chosen color), enforce marginal and 4-cycle consistency, and maximize b. Any universal optimum < 1/2 indicates a path to a combinatorial proof.
- Good–good boundary improvement: Enumerate good Q3 classes, fix canonical tie-breaking for f1, and measure the disagreement probability at v between two disjoint good Q3’s. If it is ≤ 1/2 − η for some η>0, the a-term improves by η.
- Structural lemmas: Seek negative correlation between “badness” indicators for disjoint triples at v, induced by 4-cycle constraints and the forbidden patterns of bad Q3’s. Any quantified negative correlation lowers b below the vertexwise MAX-CUT upper bound.

What to avoid or strengthen
- Avoid relying on block-level densities without per-direction endpoint balance and degree-spread conditions. Any block-phase lemma should explicitly include such hypotheses (e.g., each direction in a good block has bias ≥ε and each vertex has ≥ρ·|J| majority-color incident edges within that block).

=== output.md ===
List of proven intermediate results
- Theorem A (Spectral upper bound on the parameter b in Dvořák’s scheme).
- Lemma B (Per-vertex lower bound on monochromatic-star triples).

Theorem A (Spectral upper bound on b)
Statement. Let Q_n be the n-dimensional hypercube with an arbitrary 2-coloring of its edges, and let b denote the probability that two uniformly random neighboring 3-cubes (Q3’s) are of mixed type (one good, one bad) in the sense of Dvořák’s construction. Then for all n ≥ 6,

b ≤ 1/2 + 3/(2(n−3)).

Consequently, Dvořák’s expected switch bound refines to
E[switches] ≤ (1/3 + 1/24 + 1/(8(n−3)) + o(1))·n = (3/8 + 1/(8(n−3)) + o(1))·n.

Proof. Fix a vertex v of Q_n. Q3’s through v correspond bijectively to 3-subsets K ⊆ [n] (the chosen directions), and two such Q3’s are v-neighbors if and only if the 3-sets are disjoint. Thus, the v-neighborhood relation is the Kneser graph KG(n,3) on vertex-set C([n],3), which is d-regular with degree d = C(n−3,3). Let G_v ⊆ C([n],3) be the set of “good” triples at v. The fraction b_v of v-neighbor pairs that are mixed equals the fraction of edges in KG(n,3) crossing the cut (G_v, C([n],3) \ G_v). The global parameter b is the average of b_v over all v (this is a direct consequence of the definition of “neighboring Q3’s” as sharing exactly one vertex; each ordered choice of the shared vertex v and a disjoint pair of triples contributes equally).

For any d-regular graph with adjacency matrix A and least eigenvalue λ_min, the size of any cut is at most |E|·(1/2 − λ_min/(2d)). This follows from the identity that, for a ±1 vector s indicating a cut, the number of crossing edges equals |E|/2 − (1/4) s^T A s, combined with s^T A s ≥ λ_min · s^T s = λ_min · |V| and |E| = d|V|/2. The Kneser graph KG(n,3) has spectrum { C(n−3,3), −C(n−4,2), n−5, −1 } (standard; see e.g. Lovász, 1979), so λ_min = −C(n−4,2). Hence every cut in KG(n,3) has crossing-edge fraction at most 1/2 − (−C(n−4,2))/(2 C(n−3,3)) = 1/2 + C(n−4,2)/(2 C(n−3,3)) = 1/2 + 3/(2(n−3)). Therefore b_v ≤ 1/2 + 3/(2(n−3)) for each v, and averaging gives the same bound for b. The stated corollary for E[switches] follows by substitution into Dvořák’s expression. ∎

Lemma B (Per-vertex lower bound on monochromatic-star triples)
Statement. Let v be a vertex of Q_n and let r_v be the number of red edges incident to v (so n − r_v are blue). The fraction of 3-sets K ⊆ [n] such that the three edges at v with directions K are monochromatic equals

τ_v = [ C(r_v,3) + C(n − r_v,3) ] / C(n,3).

In particular, τ_v is minimized when r_v ∈ {⌊n/2⌋, ⌈n/2⌉}. For n even, the minimum equals 2·C(n/2,3)/C(n,3); for n odd, it equals [C((n−1)/2,3) + C((n+1)/2,3)]/C(n,3). As n→∞, uniformly in v,
	τ_v ≥ 1/4 − 3/(4n) + O(1/n^2).

Proof. Among all 3-sets K, exactly C(r_v,3) of them consist of three red directions at v, and exactly C(n − r_v,3) consist of three blue directions at v. There are C(n,3) total 3-sets, so the fraction is τ_v as stated. Define g(r) = C(r,3) + C(n − r,3) for integer r. Then g(r+1) − g(r) = C(r,2) − C(n − r − 1,2), which is negative for r < (n−1)/2 and positive for r > (n−1)/2; hence g is minimized at r ∈ {⌊n/2⌋, ⌈n/2⌉}. Substituting these values yields the explicit minima. The asymptotic expansion follows by a routine Taylor expansion of the ratio of polynomials in n. ∎

=== 9219-PDF file-32103-1-10-20200519 (1).pdf ===

--- Page 1 ---
A note on Norine’s antipodal-colouring conjecture
Vojtˇech Dvoˇr´ak∗
Department of Pure Mathematics and Mathematical Statistics
University of Cambridge
Cambridge, United Kingdom
vd273@cam.ac.uk
Submitted: Dec 16, 2019; Accepted: May 18, 2020; Published: May 29, 2020
c⃝The author. Released under the CC BY license (International 4.0).
Abstract
Norine’s antipodal-colouring conjecture, in a form given by Feder and Subi,
asserts that whenever the edges of the discrete cube are 2-coloured there must exist
a path between two opposite vertices along which there is at most one colour change.
The best bound to date was that there must exist such a path with at most n/2
colour changes. Our aim in this note is to improve this upper bound to (3
8 + o(1))n.
Mathematics Subject Classiﬁcations: 05C35, 05C38
1
Introduction
The hypercube Qn has vertex set {0, 1}n, with two vertices joined by an edge if they diﬀer
in a single coordinate. We call two vertices of Qn antipodal if their graph distance is n.
We call a pair of edges of Qn v1w1 and v2w2 antipodal if either v1 and v2 are antipodal
vertices and w1 and w2 are also antipodal vertices, or if v1 and w2 are antipodal vertices
and v2 and w1 are also antipodal vertices. A 2-colouring of the edges of Qn is called
antipodal if no pair of antipodal edges has the same colour. Norine [3] conjectured the
following.
Conjecture 1. In any antipodal 2-colouring of the edges of Qn, there exists a pair of
antipodal vertices which are joined by a monochromatic path.
Feder and Subi [1] later made the following conjecture.
Conjecture 2. In any 2-colouring of the edges of Qn, we can ﬁnd a pair of antipodal
vertices and a path joining them with at most one colour change.
∗The author was suported by the Trinity College and by the UK Engineering and Physical Sciences
Research Council.
the electronic journal of combinatorics 27(2) (2020), #P2.26
https://doi.org/10.37236/9219

--- Page 2 ---
If true, this implies the conjecture of Norine. Indeed, consider an antipodal 2-colouring
of the edges of Qn. By Conjecture 2, we can now ﬁnd an antipodal path P1P2 such that
both paths P1 and P2 are monochromatic. If they have the same colour we are done; if
not the path P C
2 P1 will work, where P C
2 is the antipodal path to path P2.
Call a path in Qn a geodesic if no two of its edges have the same direction. Leader
and Long [2] proved the following result.
Theorem 3. In any 2-colouring of the edges of Qn, we can ﬁnd a monochromatic geodesic
of length at least ⌈n
2⌉.
Leader and Long proposed a conjecture that strengthens that of Feder and Subi.
Conjecture 4. In any 2-colouring of the edges of Qn, we can ﬁnd a pair of antipodal
vertices and a geodesic joining them with at most one colour change.
Theorem 3 implies that we can always ﬁnd a pair of antipodal vertices and a geodesic
joining them with at most n
2 colour changes. Moreover, as Theorem 3 is sharp, there is no
hope of improving the result by ﬁnding longer monochromatic geodesic. In the present
note, we establish:
Theorem 5. In any 2-colouring of the edges of Qn, we can ﬁnd a pair of antipodal vertices
and a geodesic joining them with at most (3
8 + o(1))n colour changes.
To prove the theorem, we employ the strategy of dividing the Qn graph into small
pieces (Q3 graphs in fact) and ﬁnding a collection of geodesics with certain properties
within each piece. The conditions we impose on these local geodesics let us glue them
together into a collection of geodesics in Qn in such a way that on average these long
geodesics will have not too many colour changes. From that we in particular conclude
that at least one of the long geodesics must not have too many colour changes. In the
next section we collect together some simple facts about Q3 graphs, and then we use these
in the following section to prove Theorem 5.
2
Good and bad Q3 graphs
In this section we collect together some facts about 2-colourings of the 3-dimensional
cube.
From now on, we call a geodesic connecting two antipodal points simply an antipodal
geodesic.
We call a colouring of Q3 by two colours good if we can ﬁnd 4 antipodal geodesics,
with each vertex being an endpoint of exactly one of these, such that these 4 geodesics
have in total at most two colour changes. If a colouring of Q3 is not good we call it bad.
The terms good and bad Q3 will be sometimes used instead of good and bad colouring
of Q3, and it is understood that we refer to a particular colouring.
When showing that Conjecture 4 holds for n = 5, Feder and Subi [1] proved the
following simple lemma which we will use too.
the electronic journal of combinatorics 27(2) (2020), #P2.26
2

--- Page 3 ---
Lemma 6. Assume in a 2-colouring of Q3, there are antipodal vertices v and v′ such that
all the geodesics connecting v and v′ have two colour changes. Then the other three pairs
of antipodal points are connected by geodesics without colour changes.
In particular, note that we can deduce the following easy claim from the lemma above.
Claim 7. Assume we have a bad 2-colouring of Q3. Then at most one pair of antipodal
points in this Q3 is connected by a geodesic without a colour change.
Proof. Lemma 6 implies that in any bad 2-colouring of Q3, any pair of antipodal vertices
is connected by a geodesic with at most one colour change. So if we had two pairs of
antipodal vertices connected by a geodesic without a colour change, then we could ﬁnd 4
antipodal geodesics, with each vertex being an endpoint of exactly one of these, such that
these 4 geodesics have in total at most two colour changes. But that would by deﬁnition
imply we have a good 2-colouring of Q3.
Our ﬁrst lemma gives us an easy way to identify many Q3 graphs as good.
Lemma 8. Assume in a 2-colouring of Q3, all three edges at some vertex of Q3 have the
same colour. Then it is a good colouring.
Proof. Assume this colouring is bad. Without loss of generality take the vertex where all
edges have the same colour to be 000 and this colour to be blue. If all the edges with
neither of their endpoints being 000 or 111 are red, it is a good colouring, as the other
three pairs of antipodal vertices are connected by the antipodal geodesics with no colour
changes. So assume some edge with neither endpoint being 000 or 111 is blue. Without
loss of generality it is (100, 110).
From 001, we have the antipodal geodesic with no colour change (001, 000, 100, 110).
So if the colouring is bad, then we know by Claim 7 that for no other pair of antipodal
points can we have an antipodal geodesic with no colour change. So the edge (100, 101)
must be red by considering the geodesic (010, 000, 100, 101), the edge (001, 101) must be
red by considering the geodesic (010, 000, 001, 101) and the edge (001, 011) must be red
by considering the geodesic (100, 000, 001, 011).
But that gives the red antipodal geodesic with no colour change (100, 101, 001, 011),
thus a contradiction.
Next, note that one particular example of a bad Q3 graph occurs when we colour all
the edges in one direction by one colour, and all the edges in the other two directions
by the other colour. Lemma 9 that follows tells us that any bad colouring behaves very
much like this example in a sense we will need in our proof.
Lemma 9. Consider any bad colouring of Q3 and any vertex v. Then there exists an
antipodal geodesic from v to v′ with exactly one colour change, a red edge at v and a blue
edge at v′.
the electronic journal of combinatorics 27(2) (2020), #P2.26
3

--- Page 4 ---
Proof. Without loss of generality let v be 000. Assume no such antipodal geodesic exists.
By Lemma 8, we have at least one red edge from 000, without loss of generality to 100.
Also we have at least one blue edge from 111. If this edge went to 110 or 101, we would
be done immediately, so it must go to 011 and the other two edges from 111 must be red.
Furthermore, the other two edges from 000 must be blue, or else we would be done, so
assume they are blue.
As the colouring of Q3 we consider is bad, at most one pair of antipodal points can be
connected by an antipodal geodesic without a colour change. Whichever colour the edge
(001, 101) has, it creates an antipodal geodesic without a colour change, either between
010 and 101 or between 001 and 110. So 000 cannot be connected to 111 by an antipodal
geodesic without a colour change, forcing the edges (100, 110) and (100, 101) to be blue
and the edges (010, 011) and (001, 011) to be red.
But now we see that both 010 and 001 are connected to their antipodals by geodesics
without a colour change, contradiction.
Analogously, in any bad Q3, there exists such an antipodal geodesic with exactly one
colour change, a blue edge at v and a red edge at v′.
3
Proof of the main result
We will now prove the main result.
Theorem 5. In any 2-colouring of edges of Qn, we can ﬁnd a pair of antipodal vertices
and a geodesic joining them with at most (3
8 + o(1))n colour changes.
Proof. As we have o(n) term included in our bound, clearly it suﬃces to prove the theorem
for n divisible by 3, so assume n = 3k. For the vertices v, w of distance 3, let G(v, w)
denote the subgraph of Qn spanned by the geodesics between v and w (so G(v, w) ∼= Q3).
Call two such subgraphs G1 ∼= Q3 and G2 ∼= Q3 of Qn neighbours if they share exactly
one vertex. If this vertex is v, call them v-neighbours. Consider a set A of all the ordered
pairs (v, w) of the vertices of Qn such that d(v, w) = 3. Assume f : A →V (Qn) satisﬁes
the following three conditions for all the vertices v, w:
(i) d(v, f(v, w)) = 1
(ii) d(w, f(v, w)) = 2
(iii) d(f(w, v), f(v, w)) = 1
In other words, this is equivalent to (v, f(v, w), f(w, v), w) being an antipodal geodesic
in G(v, w).
Now, given the antipodal geodesic (v0, v1, v2, v3, v4, . . . , v3i, v3i+1, v3i+2, v3i+3, . . . , v3k),
we will modify it into the antipodal geodesic (v0, f(v0, v3), f(v3, v0), v3, f(v3, v6), . . . , v3i,
f(v3i, v3i+3), f(v3i+3, v3i), v3i+3, . . . , v3k).
the electronic journal of combinatorics 27(2) (2020), #P2.26
4

--- Page 5 ---
We will show that for every ﬁxed colouring, we can deﬁne such f in a way that the
expected number of colour changes on a geodesic obtained by this modiﬁcation from a
uniformly random antipodal geodesic is no more than (3
8+o(1))n, where o(1) term depends
on n only, not on the colouring. More precisely, we will deﬁne f1 and f2 (depending on
the colouring) and show that at least one of these two must always work.
If G(v, w) is a good Q3, let f1(v, w), f1(w, v) be such that no other geodesic between
v and w has strictly less colour changes than (v, f1(v, w), f1(w, v), w), and set f2(v, w) =
f1(v, w), f2(w, v) = f1(w, v).
Call the vertex v of Qn even if its distance from 000 . . . 000 is even and call it odd
otherwise. Every geodesic of length 3 connects an odd and an even vertex. For G(v, w)
bad with v even and w odd, deﬁne f1(v, w) and f1(w, v) such that (v, f1(v, w), f1(w, v), w)
has exactly one colour change, (v, f1(v, w)) is blue and (f1(w, v), w) is red. Also deﬁne
f2(v, w) and f2(w, v) such that (v, f2(v, w), f2(w, v), w) has exactly one colour change,
(v, f2(v, w)) is red and (f2(w, v), w) is blue. By Lemma 9, there exist such functions.
Denote by p the proportion of good Q3 subgraphs of Qn in this colouring and the
proportion of bad ones is thus 1 −p. Picking two Q3 subgraphs that are neighbours
uniformly at random, denote the probability that both are good by a, the probability
that one is good and one is bad by b, and thus the probability that both are bad is
1 −a −b. We clearly must have p = a + b
2.
How large can b be? Suppose at any vertex v, of all Q3 containing v, there are s good
ones and
 n
3

−s bad ones. There are 1
2
 n
3
 n−3
3

pairs of v-neighbours, and of them at most
s(
 n
3

−s) ⩽1
4
 n
3
2 are good-bad pairs. As this applies to every vertex and is independent
of s, we have b ⩽1
2
 n
3
 n−3
3
−1 = 1
2 + o(1).
Now, choose an antipodal geodesic uniformly at random and modify it as described.
Due to the symmetry, and the properties of good and bad Q3 graphs, for any j : 0 ⩽
j ⩽n −1 and for either value of i, the expected number of colour changes inside the
geodesic (v3j, fi(v3j, v3j+3), fi(v3j+3, v3j), v3j+3) is at most 1
2 if we condition on the graph
G(v3j, v3j+3) being good, and at most 1 if we condition on the graph G(v3j, v3j+3) being
bad. Since the proportion of good Q3 subgraphs of Qn is p, we obtain that the expected
number of colour changes inside the geodesic (v3j, fi(v3j, v3j+3), fi(v3j+3, v3j), v3j+3) is at
most 1
2p + (1 −p) = 1 −p
2.
What is the probability that, for some ﬁxed j : 1 ⩽j ⩽k −1, we have a colour change
between the edges (fi(v3j, v3j−3), v3j) and (v3j, fi(v3j, v3j+3)) (due to the symmetry this is
same for all such j)? With probability 1 −a −b, both G(v3j, v3j−3) and G(v3j, v3j+3) are
bad, and then we do not have a colour change by deﬁnition of fi. If one is good and one
is bad, exactly one of f1 and f2 has a colour change between these two edges. So choose
as our f that fi for which the probability of a change in this case is at most 1
2.
Finally, with probability a, both graphs are good. Consider any ﬁxed vertex v. Choos-
ing a random subgraph Q3 containing v, by Lemma 8, the probability that it is good is
at least the probability that choosing 3 random distinct edges from v, they all have the
same colour. So we conclude there are at least (1
4 −o(1))
 n
3

⩾
1
8
 n
3

good subgraphs
containing v for n large enough. Suppose precisely t good subgraphs contain v. Clearly,
the number of pairs of neighbours of good subgraphs that have a colour change at v is at
the electronic journal of combinatorics 27(2) (2020), #P2.26
5

--- Page 6 ---
most 1
4t2. Also for any good subgraph G1 containing v, the number of good subgraphs
that share v and at least one other vertex with G1 is less than 3n2. So the number of
pairs of two good graphs that are v-neighbours is at least 1
2t(t −3n2). So the probability
that a uniform random pair of good v-neighbours switches colour there is at most 1
2
t
t−3n2.
This is a decreasing function of t for t > 3n2, so using t ⩾1
8
 n
3

, and as this applies to
any vertex, we get that in this case, the probability of a colour switch is no more than
1
2 + o(1).
Hence we get that for our chosen value of i, the probability that for any ﬁxed j :
1 ⩽j ⩽k −1, we have a colour change between the edges (fi(v3j, v3j−3), v3j) and
(v3j, fi(v3j, v3j+3)) is at most b
2 + (1
2 + o(1))a. Putting this together with the fact that for
any j : 0 ⩽j ⩽n−1 and for our chosen value of i, the expected number of colour changes
inside the geodesic (v3j, fi(v3j, v3j+3), fi(v3j+3, v3j), v3j+3) is at most 1 −p
2, we obtain that
on average our modiﬁed antipodal geodesic has at most (1 −p
2)n
3 + ( b
2 + (1
2 + o(1))a)n
3 =
(1
3 + b
12 + o(1))n colour changes (using p = a + b
2). But b ⩽1
2 + o(1), giving the result.
Hope is that the similar ideas as the ones used in the proof could be used to obtain
the stronger bound of the order o(n). There are two particular parts of our strategy that
we believe could help with this.
Firstly, we introduce the idea of ﬁnding the antipodal geodesics in Qn with a few colour
changes by taking a uniformly random antipodal geodesic, ﬁxing both of its endpoints
as well as some points on the geodesic and then modifying the geodesic suitably between
these points. This does seem to be a useful framework to think about the problem and
considering Qn divided into the bits of the size say Qlog n instead of the size Q3 may help
together with some new ideas. Indeed, by certain arguments of this sort, we can infer
various properties of the worst case colouring in the case that at least δn colour changes
are needed between the typical pair of antipodal points in the worst case colouring.
Further, if we try for the inductive proof, it seems very helpful to consider what
proportion of the pairs of the points (a, b) of certain distance d in Qn has the property
that we have two geodesics joining a and b, one with the red edge at a and the other with
the blue edge at a, and both these geodesics have same many colour changes and at most
as many colour changes as any other geodesic joining a and b has. If the proportion is
large, that helps us build longer geodesics with a few colour changes. If the proportion
is small, we obtain more information about our colouring, that we hope could be used to
bound the number of colour changes on optimal geodesics in diﬀerent ways. Deﬁnition
of good and bad Q3 graphs in this note is motivated precisely by this idea, and it shows
that in this particular case, the trade-oﬀcan be formalized very nicely.
Acknowledgements
I would like to thank Imre Leader for suggesting this problem and for various helpful
discussions, my PhD supervisor B´ela Bollob´as for advice regarding the ﬁnal version of
this note and anonymous referees for useful comments and advice.
the electronic journal of combinatorics 27(2) (2020), #P2.26
6

--- Page 7 ---
References
[1] T. Feder and C. Subi. On hypercube labellings and antipodal monochromatic paths.
Discrete Appl. Math., 161:1421–1426, 2013.
[2] I. Leader and E. Long. Long geodesics in subgraphs of the cube. Discrete Math.,
326:29–33, 2014.
[3] S. Norine. Edge-antipodal colorings of cubes. Open Problem Garden, 2008. http:
//www.openproblemgarden.org/op/edge_antipodal_colorings_of_cubes.
the electronic journal of combinatorics 27(2) (2020), #P2.26
7


=== round-0001/verifier.feedback.md ===
Overall, both reports are useful and largely on target, but there are a couple of concrete correctness issues in the counterexamples used to refute the “block-expansion” brainstorm claim. I consolidate what is right, flag what is wrong, and propose next steps that build directly on the sound parts.

What is solid and valuable:
- The parameter focus is correct. In Dvořák’s framework, the expected switch bound is E[switches] ≤ (1/3 + b/12 + o(1))·n; hence beating 3/8 requires proving b ≤ 1/2 − γ or reducing the 1/2 factor in the a-case. Merely increasing p does not help because p cancels via p = a + b/2.
- The spectral Kneser-graph viewpoint (Prover 02) is rigorous and valuable. Modeling, for each vertex v, the set of “good” triples as a cut in KG(n,3) immediately yields b_v ≤ 1/2 + 3/(2(n−3)), so b ≤ 1/2 + 3/(2(n−3)). This sharpens the o(1) term and cleanly isolates the remaining difficulty: vertex-wise information alone cannot push b below 1/2.
- The critique of the “Case A O(ε|J|)” bound is correct and important. If each direction in a block has blue-density 1/2+ε, then a random geodesic crossing each direction once sees ≈(1/2−ε)|J| minority edges on average, not O(ε|J|). Any improvement must exploit additional structure (e.g., near-monochromatic directions, endpoint-balance, or expansion inside the block).
- The LP/SDP plan to encode 4-cycle and local consistency constraints to drive b below 1/2 is promising and concrete. A computational relaxation can guide the analytic step.

Corrections needed:
- Prover 01’s “disjoint A_i ⊂ {0,1}^{n−1} of size ε·2^{n−1}” example does not achieve max degree ≤ 1 at vertices: pairwise disjointness of A_i in the projection space does not prevent a single vertex’s different projections pi_i(x) from hitting different A_i. Moreover, for constant ε and large n, pairwise disjoint A_i of size ε·2^{n−1} cannot exist when nε > 1.
- Prover 02’s parity example, as stated (“color (x,x⊕e_i) blue iff parity(x)=0”), is not a well-defined 2-coloring of undirected edges; if corrected to “parity outside i”, the claim that all odd-parity vertices are isolated is false. A correct counterexample to the naive block-expansion claim is provided in the notes below.

A corrected counterexample to the naive block-expansion claim (to store for future reference) is: fix a map j:[n]→[n] with j(i)≠i for all i (e.g., j(1)=2 and j(i)=1 for i≥2). For each i-edge {x, x⊕e_i}, let y be the endpoint with y_i=0, and color this edge blue iff y_{j(i)}=1. Then for each i, exactly half of the i-edges are blue (so every block J has β_J=1/2), yet the blue subgraph has many isolated vertices (all vertices with x_1=0 and x_2=0 are isolated in the sample j above). Thus “constant fraction across each δS_J” does not imply connectivity nor any conductance guarantee.

Actionable next steps:
1) Implement the local LP/SDP relaxation for b: variables capturing frequencies of 1-edge colors at v, 4-cycle types at v, and Q3-pattern types (good/bad and the f1-chosen color at v). Impose marginal consistency and 4-cycle constraints. Maximize b subject to these constraints in the symmetric case deg_B(v)=n/2 to probe whether b ≤ 1/2 − γ holds.
2) Good–good boundary term: Enumerate good Q3 types up to isomorphism, fix a deterministic tie-break for f1, and compute the distribution of the preferred color at a marked vertex. Test if two independent disjoint good Q3’s at v disagree with probability strictly below 1/2. If yes, quantify the resulting improvement in the a-term.
3) If (1) yields a positive gap numerically, extract the extremal local statistics and attempt a combinatorial proof via 4-cycle consistency or “no-tiling-by-bads” negative-correlation lemmas.
4) For the block-phase approach, formalize a corrected lemma that requires per-direction endpoint balance and a vertex-level minimum availability (≥ρm majority-color edges) to deduce expansion/long runs, then prove it (e.g., via canonical paths or matrix Chernoff under adversarial dependencies).

I have saved the rigorous spectral bound and the precise per-vertex star-count bound into output.md. The counterexample defeating naive block-expansion and the critique of the O(ε|J|) claim are recorded in notes.md with a clean, checkable construction.

=== notes.md ===
Context and target in Dvořák’s framework
- Dvořák’s modified-geodesic scheme yields the bound E[switches] ≤ (1/3 + b/12 + o(1))·n, where b is the probability that two uniformly random neighboring Q3’s (sharing exactly one vertex) have mixed types (one good, one bad). Because p cancels via p = a + b/2, any constant improvement over 3/8 must either prove b ≤ 1/2 − γ for some absolute γ>0, or reduce the 1/2 bound in the a-term (both-good case).

Why naive block-density does not imply expansion (correct counterexample)
- Brainstorm claim (now rejected): “If a color occupies at least an ε-fraction of each block boundary δS_J for (1−θ) of the blocks, then that color has conductance Ω(ε).” This is false without further structure (e.g., endpoint balance and degree spread).
- Construction (valid undirected 2-coloring): Fix j:[n]→[n] such that j(i)≠i for all i. For each i-edge {x, x⊕e_i}, let y be the endpoint with y_i=0 and color the edge blue iff y_{j(i)}=1; otherwise red. Then for each i, exactly half of the i-edges are blue (so β_J=1/2 for every block J). Yet the blue subgraph can be extremely sparse at many vertices; e.g., if j(1)=2 and j(i)=1 for all i≥2, then for a vertex v, deg_B(v) = (n−1)·[v_1=1] + [v_2=1]. In particular, all vertices with (v_1,v_2)=(0,0) are isolated. Thus block-level edge-density alone does not imply connectivity, let alone conductance.
- Separate but related flaw: Even if a block J has aggregate blue-density β_J = 1/2+ε, one can realize this with each direction i∈J having density 1/2+ε. A geodesic that uses each direction exactly once then sees ≈(1/2−ε)|J| minority edges on average, not O(ε|J|). Any O(ε|J|) claim must extract stronger inner-block structure (e.g., many near-monochromatic directions).

Vertex-wise Kneser-graph formulation and spectral bound
- For a fixed vertex v, Q3’s through v correspond to 3-subsets of [n]. Two Q3’s are v-neighbors iff their 3-sets are disjoint; this is the Kneser graph KG(n,3). If G_v⊆C([n],3) is the set of “good” triples at v, then b_v is the fraction of edges in KG(n,3) crossing the cut (G_v, its complement). The parameter b equals the average of b_v over v, up to negligible normalization.
- Spectral MAX-CUT bound in KG(n,3): KG(n,3) is d-regular with d= C(n−3,3), and its least eigenvalue is −C(n−4,2). Hence for any cut, the crossing-edge fraction is ≤ 1/2 − λ_min/(2d) = 1/2 + 3/(2(n−3)). Therefore b ≤ 1/2 + 3/(2(n−3)). This recovers Dvořák’s b ≤ 1/2 + o(1) and makes the o(1) term explicit.

Per-vertex monochromatic-star lower bound (useful bookkeeping)
- For a vertex v with red degree r_v, the fraction of 3-subsets K such that the three edges at v in directions K are monochromatic equals [C(r_v,3) + C(n−r_v,3)] / C(n,3). This is minimized near r_v≈n/2; explicitly: for n even it equals 2·C(n/2,3)/C(n,3), and for n odd it equals [C((n−1)/2,3)+C((n+1)/2,3)]/C(n,3). Asymptotically this is 1/4 − 3/(4n) + O(1/n^2). This sharpened estimate alone cannot beat 3/8 but is a clean input for any refined accounting of the a-term.

Promising directions to reduce b or the a-term
- LP/SDP relaxation for b: Model local pattern frequencies around v (1-edge colors; 4-cycle types; Q3-types with the f1-chosen color), enforce marginal and 4-cycle consistency, and maximize b. Any universal optimum < 1/2 indicates a path to a combinatorial proof.
- Good–good boundary improvement: Enumerate good Q3 classes, fix canonical tie-breaking for f1, and measure the disagreement probability at v between two disjoint good Q3’s. If it is ≤ 1/2 − η for some η>0, the a-term improves by η.
- Structural lemmas: Seek negative correlation between “badness” indicators for disjoint triples at v, induced by 4-cycle constraints and the forbidden patterns of bad Q3’s. Any quantified negative correlation lowers b below the vertexwise MAX-CUT upper bound.

What to avoid or strengthen
- Avoid relying on block-level densities without per-direction endpoint balance and degree-spread conditions. Any block-phase lemma should explicitly include such hypotheses (e.g., each direction in a good block has bias ≥ε and each vertex has ≥ρ·|J| majority-color incident edges within that block).

=== output.md ===
List of proven intermediate results
- Theorem A (Spectral upper bound on the parameter b in Dvořák’s scheme).
- Lemma B (Per-vertex lower bound on monochromatic-star triples).

Theorem A (Spectral upper bound on b)
Statement. Let Q_n be the n-dimensional hypercube with an arbitrary 2-coloring of its edges, and let b denote the probability that two uniformly random neighboring 3-cubes (Q3’s) are of mixed type (one good, one bad) in the sense of Dvořák’s construction. Then for all n ≥ 6,

b ≤ 1/2 + 3/(2(n−3)).

Consequently, Dvořák’s expected switch bound refines to
E[switches] ≤ (1/3 + 1/24 + 1/(8(n−3)) + o(1))·n = (3/8 + 1/(8(n−3)) + o(1))·n.

Proof. Fix a vertex v of Q_n. Q3’s through v correspond bijectively to 3-subsets K ⊆ [n] (the chosen directions), and two such Q3’s are v-neighbors if and only if the 3-sets are disjoint. Thus, the v-neighborhood relation is the Kneser graph KG(n,3) on vertex-set C([n],3), which is d-regular with degree d = C(n−3,3). Let G_v ⊆ C([n],3) be the set of “good” triples at v. The fraction b_v of v-neighbor pairs that are mixed equals the fraction of edges in KG(n,3) crossing the cut (G_v, C([n],3) \ G_v). The global parameter b is the average of b_v over all v (this is a direct consequence of the definition of “neighboring Q3’s” as sharing exactly one vertex; each ordered choice of the shared vertex v and a disjoint pair of triples contributes equally).

For any d-regular graph with adjacency matrix A and least eigenvalue λ_min, the size of any cut is at most |E|·(1/2 − λ_min/(2d)). This follows from the identity that, for a ±1 vector s indicating a cut, the number of crossing edges equals |E|/2 − (1/4) s^T A s, combined with s^T A s ≥ λ_min · s^T s = λ_min · |V| and |E| = d|V|/2. The Kneser graph KG(n,3) has spectrum { C(n−3,3), −C(n−4,2), n−5, −1 } (standard; see e.g. Lovász, 1979), so λ_min = −C(n−4,2). Hence every cut in KG(n,3) has crossing-edge fraction at most 1/2 − (−C(n−4,2))/(2 C(n−3,3)) = 1/2 + C(n−4,2)/(2 C(n−3,3)) = 1/2 + 3/(2(n−3)). Therefore b_v ≤ 1/2 + 3/(2(n−3)) for each v, and averaging gives the same bound for b. The stated corollary for E[switches] follows by substitution into Dvořák’s expression. ∎

Lemma B (Per-vertex lower bound on monochromatic-star triples)
Statement. Let v be a vertex of Q_n and let r_v be the number of red edges incident to v (so n − r_v are blue). The fraction of 3-sets K ⊆ [n] such that the three edges at v with directions K are monochromatic equals

τ_v = [ C(r_v,3) + C(n − r_v,3) ] / C(n,3).

In particular, τ_v is minimized when r_v ∈ {⌊n/2⌋, ⌈n/2⌉}. For n even, the minimum equals 2·C(n/2,3)/C(n,3); for n odd, it equals [C((n−1)/2,3) + C((n+1)/2,3)]/C(n,3). As n→∞, uniformly in v,
	τ_v ≥ 1/4 − 3/(4n) + O(1/n^2).

Proof. Among all 3-sets K, exactly C(r_v,3) of them consist of three red directions at v, and exactly C(n − r_v,3) consist of three blue directions at v. There are C(n,3) total 3-sets, so the fraction is τ_v as stated. Define g(r) = C(r,3) + C(n − r,3) for integer r. Then g(r+1) − g(r) = C(r,2) − C(n − r − 1,2), which is negative for r < (n−1)/2 and positive for r > (n−1)/2; hence g is minimized at r ∈ {⌊n/2⌋, ⌈n/2⌉}. Substituting these values yields the explicit minima. The asymptotic expansion follows by a routine Taylor expansion of the ratio of polynomials in n. ∎


Current round tag: Round 0002 — 2025-08-27T15:47:46.441618Z
Return ONLY valid JSON with a single field:
{ "progress_md": "<your progress notes for this round>" }

Read output.md. If you spot gaps, errors, or missing justifications in output.md, point them out clearly inside progress_md.
