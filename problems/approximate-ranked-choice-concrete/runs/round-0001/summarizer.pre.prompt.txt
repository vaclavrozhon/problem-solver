=== SYSTEM ===
You are a research **summarizer**. Summarize this *last round only* for a human log.

Include:
- 3–7 bullet **Highlights** (facts learned, reductions, counterexamples, partial bounds).
- 1–3 **Open questions / TODOs** for the next round.
- 1–3 **Citations to files** you relied on (e.g. round files or papers by name).

**Return strictly JSON**:
{
  "summary_md": "Readable summary of the round (≤200 words)",
  "highlights": [],
  "next_questions": []
}

=== USER ===
=== Task (txt) ===

# Problem Statement

We consider the problem of estimating the winner in an election run under **Ranked Choice Voting** (also known as *Instant-Runoff Voting*).  

Suppose there are \(K\) candidates. Each voter submits a complete ranking of these candidates. The voting rule proceeds in rounds: in each round, every ballot is assigned to the top-ranked candidate who is still in contention. The candidate with the smallest number of votes is eliminated (with ties broken according to a fixed deterministic rule), and this candidate is crossed out from all ballots. The process repeats until only one candidate remains, who is declared the winner.

Our goal is not to compute the exact winner from the full set of ballots, but rather to estimate a *robust* winner from a random sample of ballots. To make this precise, we introduce the notion of an **ε-winner**. A candidate \(c\) is called an ε-winner of an election profile if it is possible to add at most an ε-fraction of additional ballots to the election so that \(c\) becomes the winner under Ranked Choice Voting. In other words, \(c\) is “close” to being the true winner, in the sense that a small perturbation of the electorate would make \(c\) win. There may be more ε-winners. The real winner is ε-winner for any ε. 

The sampling model is as follows. We assume there is a large population of voters, each ballot drawn independently from the empirical distribution of this population. The algorithm does not see all the ballots; instead, it may sample ballots at random, with replacement. The task of the algorithm is: given parameters \(\varepsilon\) and \(\delta\), and access to at most \(m\) random ballots, output a candidate \(\hat{c}\) such that with probability at least \(1-\delta\), the candidate \(\hat{c}\) is an ε-winner of the true election.

There is a natural algorithm for this problem: Sample a subset of votes and run the ranked-choice algorithm on them; output the winner. How many samples are needed for this algorithm to succeed? We seek the best possible upper and lower bound. 



=== Notes ===

# Research Notes



# Certificates and sampling for IRV ε-winners

- Notation: For S⊆C, a∈S, p_a(S)=Pr[top_S(ballot)=a]. Adding ε mass of c-first ballots increases c’s tallies by ε for every S containing c and leaves others’ tallies unchanged (compare absolute counts; normalization is irrelevant for elimination).

- Correct sufficient certificate (uniform): If for every nonempty S⊇{c} we have p_c(S) ≥ min_{a∈S\{c}} p_a(S) − ε (with tie-breaking known and either strict margins or reserved slack), then after adding ε mass of c-first ballots, c is never strictly below the minimum and hence cannot be eliminated; thus c wins.

- Caveat on single-chain certificates: Verifying inequalities only along one elimination chain of opponents is insufficient for K≥4, because the actual post-augmentation elimination path may visit sets not on the chosen chain. Therefore the earlier Lemma 1 (single-chain witness) is not a valid sufficient condition in general.

- K=3 case: There are only two relevant sets containing c (C and {c,x}). A union bound over the 9 quantities {p_a(S)}_{a∈S} yields uniform deviation, and adding ε mass to the sample winner ĉ suffices with ε=2α.

- Adaptivity: For sample-run IRV, one can control all top-of-set frequencies uniformly by a union bound over K·2^{K−1} indicators; this is exponential computationally but only linear in K in the sample size via the log term.

- Two-phase certification idea: Use a holdout sample to compute B̃(c)=max_{S⊇{c}}(min_{a∈S\{c}} p̃_a(S)−p̃_c(S)). If B̃(c)≤ε/2 (and uniform deviation ≤ε/4), then c is an ε-winner. This avoids chain-dependence but may be computationally heavy.

- Lower bounds: K=2 needs m=Ω((1/ε^2)·log(1/δ)). A Fano construction suggests m=Ω((log K)/ε^2) for identifying a unique ε/4-winner among K candidates; to be formalized with explicit IRV distributions.

- Next steps: (i) Provide a minimal counterexample demonstrating failure of single-chain certificates for K≥4 (or a proof that extra conditions suffice). (ii) Finalize the K=3 theorem with corrected constants and full tie handling. (iii) Either analyze the one-phase algorithm via a uniform bound that implies ε-winning, or switch to a two-phase max-deficit certificate. (iv) Complete the Fano lower bound.



=== Current Output ===

# Main Results



- K=3 upper bound (natural algorithm): If m ≥ (2/ε^2)·ln(18/δ), then with probability ≥ 1−δ the sample IRV winner is an ε-winner.
- Baseline lower bound (K=2): Any algorithm needs m = Ω((1/ε^2)·log(1/δ)).
- General K: a single-chain certificate is insufficient; a correct sufficient certificate must hold uniformly over all S⊇{c}. Establishing tight bounds for the natural algorithm when K≥4 remains open.


=== Verifier Summary ===

K=3: The natural sample-and-run-IRV algorithm succeeds with m ≥ (2/ε^2)·ln(18/δ); proof via Hoeffding + union bound over 9 top-of-set frequencies and robustness to adding ε mass of c-first ballots. General K: the proposed single-chain ε-certificate (Lemma 1) is not sound; Proposition 3 depends on it and is unproven. Suggest replacing with a uniform-over-all-S certificate (computationally heavy but correct) or reworking analysis. Lower bounds: K=2 order-optimal Ω((1/ε^2)·log(1/δ)) is fine; Fano Ω((log K)/ε^2) needs full construction.


=== Current Notes ===

# Research Notes



# Certificates and sampling for IRV ε-winners

- Notation: For S⊆C, a∈S, p_a(S)=Pr[top_S(ballot)=a]. Adding ε mass of c-first ballots increases c’s tallies by ε for every S containing c and leaves others’ tallies unchanged (compare absolute counts; normalization is irrelevant for elimination).

- Correct sufficient certificate (uniform): If for every nonempty S⊇{c} we have p_c(S) ≥ min_{a∈S\{c}} p_a(S) − ε (with tie-breaking known and either strict margins or reserved slack), then after adding ε mass of c-first ballots, c is never strictly below the minimum and hence cannot be eliminated; thus c wins.

- Caveat on single-chain certificates: Verifying inequalities only along one elimination chain of opponents is insufficient for K≥4, because the actual post-augmentation elimination path may visit sets not on the chosen chain. Therefore the earlier Lemma 1 (single-chain witness) is not a valid sufficient condition in general.

- K=3 case: There are only two relevant sets containing c (C and {c,x}). A union bound over the 9 quantities {p_a(S)}_{a∈S} yields uniform deviation, and adding ε mass to the sample winner ĉ suffices with ε=2α.

- Adaptivity: For sample-run IRV, one can control all top-of-set frequencies uniformly by a union bound over K·2^{K−1} indicators; this is exponential computationally but only linear in K in the sample size via the log term.

- Two-phase certification idea: Use a holdout sample to compute B̃(c)=max_{S⊇{c}}(min_{a∈S\{c}} p̃_a(S)−p̃_c(S)). If B̃(c)≤ε/2 (and uniform deviation ≤ε/4), then c is an ε-winner. This avoids chain-dependence but may be computationally heavy.

- Lower bounds: K=2 needs m=Ω((1/ε^2)·log(1/δ)). A Fano construction suggests m=Ω((log K)/ε^2) for identifying a unique ε/4-winner among K candidates; to be formalized with explicit IRV distributions.

- Next steps: (i) Provide a minimal counterexample demonstrating failure of single-chain certificates for K≥4 (or a proof that extra conditions suffice). (ii) Finalize the K=3 theorem with corrected constants and full tie handling. (iii) Either analyze the one-phase algorithm via a uniform bound that implies ε-winning, or switch to a two-phase max-deficit certificate. (iv) Complete the Fano lower bound.



=== Current Proofs ===

# Rigorous Proofs



# Rigorous results

## Theorem (K=3 upper bound for the natural algorithm)
Let K=3. Draw m i.i.d. ballots from the election profile, run IRV on the sample with the fixed deterministic tie-breaking rule, and let ĉ be the sample winner. If

m ≥ (2/ε^2) · ln(18/δ),

then with probability at least 1−δ, ĉ is an ε-winner of the true election.

### Proof
For S∈{C}∪{two-candidate subsets} and a∈S, define f_{S,a}(x)=1[top_S(x)=a]. There are exactly 9 such pairs (S,a). Let p_a(S)=E f_{S,a}, and let p̂_a(S) be the empirical mean over the m sampled ballots.

By Hoeffding’s inequality and a union bound over the 9 pairs, with probability at least 1−δ we have simultaneously

|p̂_a(S) − p_a(S)| ≤ α,  for all (S,a),

where α = sqrt(ln(18/δ)/(2m)). Work on this event and set ε := 2α.

Let the sample IRV elimination sequence be b̂_1 (first eliminated from C) and then the final opponent â (so the last two candidates are {ĉ, â}). By the sample rule,
- at S=C, p̂_{ĉ}(C) ≥ p̂_{b̂_1}(C);
- at S={ĉ,â}, p̂_{ĉ}({ĉ,â}) ≥ p̂_{â}({ĉ,â}).

Using the uniform deviations,
- p_{b̂_1}(C) − p_{ĉ}(C) ≤ (p̂_{b̂_1}(C)+α) − (p̂_{ĉ}(C)−α) ≤ 2α = ε;
- p_{â}({ĉ,â}) − p_{ĉ}({ĉ,â}) ≤ (p̂_{â}({ĉ,â})+α) − (p̂_{ĉ}({ĉ,â})−α) ≤ 2α = ε.

Now add ε fraction of ĉ-first ballots to the electorate (compare absolute tallies; others’ tallies are unchanged on any S containing ĉ). At S=C, ĉ’s tally increases by ε, so ĉ is no smaller than p_{b̂_1}(C) and hence at least as large as the minimum among the other two candidates; thus ĉ is not eliminated. The eliminated candidate is one of the two original opponents. In the subsequent two-candidate set {ĉ, â}, ĉ’s tally exceeds (or equals, with the fixed tie-breaking possibly favoring ĉ or handled by reserving an arbitrarily small slack) that of â. Therefore ĉ wins. This holds on the event above, which has probability at least 1−δ. ∎

## Lemma (Uniform sufficient certificate)
Fix c. If for every nonempty S⊇{c},

p_c(S) ≥ min_{a∈S\{c}} p_a(S) − ε,

then c is an ε-winner. 

Proof. Add ε mass of c-first ballots. For any S containing c, c’s tally increases by ε and others’ tallies are unchanged, so c is never strictly below the minimum and thus cannot be eliminated; c eventually wins. ∎

## Lower bound (K=2)
For K=2, any algorithm that outputs an ε-winner with error probability at most δ requires m = Ω((1/ε^2)·log(1/δ)) samples in the worst case.

Sketch. Let X∼Bernoulli(μ) be the indicator that a random ballot ranks a fixed candidate c above the other. Under μ=1/2−ε/2, c is not an ε-winner; under μ=1/2+ε/2, c is an ε-winner. The total variation (or KL) between the two Bernoulli product measures over m samples is e^{−Θ(mε^2)}. By Le Cam’s two-point method, to distinguish these with error ≤δ one needs m=Ω((1/ε^2)·log(1/δ)). ∎



=== Current Output ===

# Main Results



- K=3 upper bound (natural algorithm): If m ≥ (2/ε^2)·ln(18/δ), then with probability ≥ 1−δ the sample IRV winner is an ε-winner.
- Baseline lower bound (K=2): Any algorithm needs m = Ω((1/ε^2)·log(1/δ)).
- General K: a single-chain certificate is insufficient; a correct sufficient certificate must hold uniformly over all S⊇{c}. Establishing tight bounds for the natural algorithm when K≥4 remains open.