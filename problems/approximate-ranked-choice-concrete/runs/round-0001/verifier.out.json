{
  "feedback_md": "High-level: There\u2019s a solid start (clean notation, sampling model, and a plausible analysis path). The K=3 case is essentially correct up to constants, but the general \u201cchain certificate\u201d (Lemma 1) is not yet rigorous for K\u22654. Proposition 3 depends on Lemma 1 and therefore is not currently justified. Below are specific audits and suggested next steps.\n\n1) Lemma 1 (chain certificate): The proof only checks inequalities along one prescribed chain S_K \u2283 S_{K\u22121} \u2283 \u2026 \u2283 S_2. IRV\u2019s actual elimination path after adding \u03b5 mass to c is uniquely determined by tallies and the fixed tie-breaking rule and generally need not follow that chain. Showing that c is not eliminated along one particular chain does not imply c survives the actual path unless one proves that, for every set S encountered along the actual path, c\u2019s tally is \u2265 the minimum among others. The current argument does not establish that property for sets not on the chosen chain. Thus, for K\u22654 the lemma is not a valid sufficient condition as stated. A correct sufficient certificate would require: for every S\u2287{c}, p_c(S) \u2265 min_{a\u2208S\\{c}} p_a(S) \u2212 \u03b5 (plus a tie-handling convention). This is stronger (2^{K\u22121} checks) but correct.\n\n2) K=3 bound (Proposition 2): The approach is sound, but the stated constant is off. With \u03b1=\u221a(ln(18/\u03b4)/(2m)), enforcing 2\u03b1 \u2264 \u03b5 gives m \u2265 (2/\u03b5^2)\u00b7ln(18/\u03b4), not (8/\u03b5^2). The proof should also explicitly note that we add \u03b5 mass of c-first ballots (compare absolute tallies, not renormalized shares), so others\u2019 counts are unchanged for all S containing c.\n\n3) Split-sample bound (Proposition 3): Conditioning on the phase-1 chain does remove adaptivity in estimation, but relying only on comparisons versus b\u0302_t along that single chain does not guarantee c\u0302 survives the actual (post-augmentation) elimination path for K\u22654. To fix this, the phase-2 verification must ensure, for every round-set S that may be encountered by the elimination rule under the augmented profile, that p_c(S)+\u03b5 \u2265 min_{a\u2260c} p_a(S). A computationally heavy but valid approach is to verify this for all S\u2287{c\u0302} on the holdout sample (uniform deviation via Hoeffding + union bound over K\u00b72^{K\u22121} indicators).\n\n4) Lower bounds: The K=2 Le Cam lower bound is correct in order. The Fano sketch is plausible; it needs an explicit IRV-compatible construction and the proof that each instance has a unique \u03b5/4-winner.\n\nConcrete next steps:\n- Repair Lemma 1 or replace it with a correct certificate (uniform over all S\u2287{c}). Provide a minimal counterexample or proof of impossibility of single-chain certificates for K\u22654.\n- Finalize and write a rigorous proof for K=3 with corrected constants and explicit tie handling.\n- For general K, either: (a) analyze the natural one-phase algorithm via a uniform union bound over all (S,a) to control adaptivity and then prove a statement that connects these uniform bounds to \u03b5-winner status; or (b) adopt a two-phase \u201ccertify-by-max-deficit\u201d algorithm: on holdout, compute B\u0303(c)=max_{S\u2287{c}}(min_{a\u2208S\\{c}} p\u0303_a(S)\u2212p\u0303_c(S)), and output any c with B\u0303(c) \u2264 \u03b5/2.\n- Formalize the \u03a9((log K)/\u03b5^2) Fano lower bound.\n",
  "summary_md": "K=3: The natural sample-and-run-IRV algorithm succeeds with m \u2265 (2/\u03b5^2)\u00b7ln(18/\u03b4); proof via Hoeffding + union bound over 9 top-of-set frequencies and robustness to adding \u03b5 mass of c-first ballots. General K: the proposed single-chain \u03b5-certificate (Lemma 1) is not sound; Proposition 3 depends on it and is unproven. Suggest replacing with a uniform-over-all-S certificate (computationally heavy but correct) or reworking analysis. Lower bounds: K=2 order-optimal \u03a9((1/\u03b5^2)\u00b7log(1/\u03b4)) is fine; Fano \u03a9((log K)/\u03b5^2) needs full construction.",
  "verdict": "uncertain",
  "blocking_issues": [
    "Lemma 1\u2019s single-chain certificate is not a valid sufficient condition for IRV with fixed tie-breaking when K\u22654.",
    "Proposition 3 relies on Lemma 1 and is not justified as stated.",
    "Tie-handling needs explicit treatment (strict margins or reserved slack).",
    "Proposition 2 constant is incorrect; should be (2/\u03b5^2)\u00b7ln(18/\u03b4).",
    "No complete general-K guarantee for the natural algorithm yet; adaptivity link to \u03b5-winning remains unresolved."
  ],
  "per_prover": [
    {
      "prover_id": "01",
      "brief_feedback": "Good structure and promising K=3 analysis. However, the chain-based \u03b5-certificate is not sufficient for general K (actual elimination may follow a different path). Fix Lemma 1 or replace with a uniform-over-all-subsets certificate; otherwise Proposition 3 is unproven. Also correct the constant in Prop. 2 and handle ties cleanly.",
      "score": "uncertain"
    }
  ],
  "notes_update": {
    "action": "append",
    "content": "# Certificates and sampling for IRV \u03b5-winners\n\n- Notation: For S\u2286C, a\u2208S, p_a(S)=Pr[top_S(ballot)=a]. Adding \u03b5 mass of c-first ballots increases c\u2019s tallies by \u03b5 for every S containing c and leaves others\u2019 tallies unchanged (compare absolute counts; normalization is irrelevant for elimination).\n\n- Correct sufficient certificate (uniform): If for every nonempty S\u2287{c} we have p_c(S) \u2265 min_{a\u2208S\\{c}} p_a(S) \u2212 \u03b5 (with tie-breaking known and either strict margins or reserved slack), then after adding \u03b5 mass of c-first ballots, c is never strictly below the minimum and hence cannot be eliminated; thus c wins.\n\n- Caveat on single-chain certificates: Verifying inequalities only along one elimination chain of opponents is insufficient for K\u22654, because the actual post-augmentation elimination path may visit sets not on the chosen chain. Therefore the earlier Lemma 1 (single-chain witness) is not a valid sufficient condition in general.\n\n- K=3 case: There are only two relevant sets containing c (C and {c,x}). A union bound over the 9 quantities {p_a(S)}_{a\u2208S} yields uniform deviation, and adding \u03b5 mass to the sample winner c\u0302 suffices with \u03b5=2\u03b1.\n\n- Adaptivity: For sample-run IRV, one can control all top-of-set frequencies uniformly by a union bound over K\u00b72^{K\u22121} indicators; this is exponential computationally but only linear in K in the sample size via the log term.\n\n- Two-phase certification idea: Use a holdout sample to compute B\u0303(c)=max_{S\u2287{c}}(min_{a\u2208S\\{c}} p\u0303_a(S)\u2212p\u0303_c(S)). If B\u0303(c)\u2264\u03b5/2 (and uniform deviation \u2264\u03b5/4), then c is an \u03b5-winner. This avoids chain-dependence but may be computationally heavy.\n\n- Lower bounds: K=2 needs m=\u03a9((1/\u03b5^2)\u00b7log(1/\u03b4)). A Fano construction suggests m=\u03a9((log K)/\u03b5^2) for identifying a unique \u03b5/4-winner among K candidates; to be formalized with explicit IRV distributions.\n\n- Next steps: (i) Provide a minimal counterexample demonstrating failure of single-chain certificates for K\u22654 (or a proof that extra conditions suffice). (ii) Finalize the K=3 theorem with corrected constants and full tie handling. (iii) Either analyze the one-phase algorithm via a uniform bound that implies \u03b5-winning, or switch to a two-phase max-deficit certificate. (iv) Complete the Fano lower bound.\n"
  },
  "proofs_update": {
    "action": "append",
    "content": "# Rigorous results\n\n## Theorem (K=3 upper bound for the natural algorithm)\nLet K=3. Draw m i.i.d. ballots from the election profile, run IRV on the sample with the fixed deterministic tie-breaking rule, and let c\u0302 be the sample winner. If\n\nm \u2265 (2/\u03b5^2) \u00b7 ln(18/\u03b4),\n\nthen with probability at least 1\u2212\u03b4, c\u0302 is an \u03b5-winner of the true election.\n\n### Proof\nFor S\u2208{C}\u222a{two-candidate subsets} and a\u2208S, define f_{S,a}(x)=1[top_S(x)=a]. There are exactly 9 such pairs (S,a). Let p_a(S)=E f_{S,a}, and let p\u0302_a(S) be the empirical mean over the m sampled ballots.\n\nBy Hoeffding\u2019s inequality and a union bound over the 9 pairs, with probability at least 1\u2212\u03b4 we have simultaneously\n\n|p\u0302_a(S) \u2212 p_a(S)| \u2264 \u03b1,  for all (S,a),\n\nwhere \u03b1 = sqrt(ln(18/\u03b4)/(2m)). Work on this event and set \u03b5 := 2\u03b1.\n\nLet the sample IRV elimination sequence be b\u0302_1 (first eliminated from C) and then the final opponent a\u0302 (so the last two candidates are {c\u0302, a\u0302}). By the sample rule,\n- at S=C, p\u0302_{c\u0302}(C) \u2265 p\u0302_{b\u0302_1}(C);\n- at S={c\u0302,a\u0302}, p\u0302_{c\u0302}({c\u0302,a\u0302}) \u2265 p\u0302_{a\u0302}({c\u0302,a\u0302}).\n\nUsing the uniform deviations,\n- p_{b\u0302_1}(C) \u2212 p_{c\u0302}(C) \u2264 (p\u0302_{b\u0302_1}(C)+\u03b1) \u2212 (p\u0302_{c\u0302}(C)\u2212\u03b1) \u2264 2\u03b1 = \u03b5;\n- p_{a\u0302}({c\u0302,a\u0302}) \u2212 p_{c\u0302}({c\u0302,a\u0302}) \u2264 (p\u0302_{a\u0302}({c\u0302,a\u0302})+\u03b1) \u2212 (p\u0302_{c\u0302}({c\u0302,a\u0302})\u2212\u03b1) \u2264 2\u03b1 = \u03b5.\n\nNow add \u03b5 fraction of c\u0302-first ballots to the electorate (compare absolute tallies; others\u2019 tallies are unchanged on any S containing c\u0302). At S=C, c\u0302\u2019s tally increases by \u03b5, so c\u0302 is no smaller than p_{b\u0302_1}(C) and hence at least as large as the minimum among the other two candidates; thus c\u0302 is not eliminated. The eliminated candidate is one of the two original opponents. In the subsequent two-candidate set {c\u0302, a\u0302}, c\u0302\u2019s tally exceeds (or equals, with the fixed tie-breaking possibly favoring c\u0302 or handled by reserving an arbitrarily small slack) that of a\u0302. Therefore c\u0302 wins. This holds on the event above, which has probability at least 1\u2212\u03b4. \u220e\n\n## Lemma (Uniform sufficient certificate)\nFix c. If for every nonempty S\u2287{c},\n\np_c(S) \u2265 min_{a\u2208S\\{c}} p_a(S) \u2212 \u03b5,\n\nthen c is an \u03b5-winner. \n\nProof. Add \u03b5 mass of c-first ballots. For any S containing c, c\u2019s tally increases by \u03b5 and others\u2019 tallies are unchanged, so c is never strictly below the minimum and thus cannot be eliminated; c eventually wins. \u220e\n\n## Lower bound (K=2)\nFor K=2, any algorithm that outputs an \u03b5-winner with error probability at most \u03b4 requires m = \u03a9((1/\u03b5^2)\u00b7log(1/\u03b4)) samples in the worst case.\n\nSketch. Let X\u223cBernoulli(\u03bc) be the indicator that a random ballot ranks a fixed candidate c above the other. Under \u03bc=1/2\u2212\u03b5/2, c is not an \u03b5-winner; under \u03bc=1/2+\u03b5/2, c is an \u03b5-winner. The total variation (or KL) between the two Bernoulli product measures over m samples is e^{\u2212\u0398(m\u03b5^2)}. By Le Cam\u2019s two-point method, to distinguish these with error \u2264\u03b4 one needs m=\u03a9((1/\u03b5^2)\u00b7log(1/\u03b4)). \u220e\n"
  },
  "output_update": {
    "action": "append",
    "content": "- K=3 upper bound (natural algorithm): If m \u2265 (2/\u03b5^2)\u00b7ln(18/\u03b4), then with probability \u2265 1\u2212\u03b4 the sample IRV winner is an \u03b5-winner.\n- Baseline lower bound (K=2): Any algorithm needs m = \u03a9((1/\u03b5^2)\u00b7log(1/\u03b4)).\n- General K: a single-chain certificate is insufficient; a correct sufficient certificate must hold uniformly over all S\u2287{c}. Establishing tight bounds for the natural algorithm when K\u22654 remains open."
  }
}