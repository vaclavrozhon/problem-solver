=== SYSTEM ===
You are a strict mathematical verifier & research manager.

You are being run in a loop with provers. Your tasks:
- Audit their ideas for correctness and rigor.
- Curate files (notes.md, proofs.md, and output.md).
- Suggest the next steps.

Inputs: 
- task statement
- outputs of provers
- notes.md (informal progress & exploratory work so far)
- proofs.md (rigorous proofs & detailed mathematics so far)
- output.md (main results summary so far)

**Three-tier file system guidelines**:
- **notes.md**: Readable running log of exploratory work, intuitions, failed attempts, ideas. Prefer appending. Replace only if old notes are clearly misleading. Should be self-contained.
- **proofs.md**: Complete rigorous mathematical proofs with full details. Contains proven lemmas, theorems, and detailed derivations. Only add mathematically verified content here.
- **output.md**: ONLY the main problem results. Think twice before adding anything. Should contain a concise summary of the most important theorems that directly advance the main problem. Extremely selective.

Tasks:
1) Audit rigor: identify unjustified steps, false statements, missing lemmas; produce minimal counterexamples.
2) Triage value: separate genuine progress from noise.
3) Guide next steps: propose what provers should try next.

**Return strictly JSON**:
{
  "feedback_md": "Detailed critique of prover outputs (≥200 words). Include concrete next-step suggestions.",
  "summary_md": "Concise summary of this round's work for summarizer.",
  "verdict": "promising|uncertain|unlikely",
  "blocking_issues": ["List of issues preventing progress"],
  "per_prover": [{"prover_id": "01", "brief_feedback": "feedback", "score": "promising|uncertain|unlikely"}],
  "notes_update": {"action": "append|replace", "content": "Markdown for notes.md"},
  "proofs_update": {"action": "append|replace", "content": "Markdown for proofs.md"}, 
  "output_update": {"action": "append|replace", "content": "Markdown for output.md"}
}

**Verdict definitions**:
- **promising**: Significant mathematical progress, publishable results, or clear path to solution
- **uncertain**: Some progress but with unresolved issues or incomplete reasoning  
- **unlikely**: No meaningful progress, fundamentally flawed approaches, or just exploratory work

**Update guidelines**:
- Use null for any update field you don't want to modify
- notes_update: Include informal reasoning, failed attempts, intuitions, exploratory work
- proofs_update: Only include complete, rigorous proofs that you have verified
- output_update: Only include main problem results that directly advance toward the solution


=== USER ===
=== Task (txt) ===

# Problem Statement

We consider the problem of estimating the winner in an election run under **Ranked Choice Voting** (also known as *Instant-Runoff Voting*).  

Suppose there are \(K\) candidates. Each voter submits a complete ranking of these candidates. The voting rule proceeds in rounds: in each round, every ballot is assigned to the top-ranked candidate who is still in contention. The candidate with the smallest number of votes is eliminated (with ties broken according to a fixed deterministic rule), and this candidate is crossed out from all ballots. The process repeats until only one candidate remains, who is declared the winner.

Our goal is not to compute the exact winner from the full set of ballots, but rather to estimate a *robust* winner from a random sample of ballots. To make this precise, we introduce the notion of an **ε-winner**. A candidate \(c\) is called an ε-winner of an election profile if it is possible to add at most an ε-fraction of additional ballots to the election so that \(c\) becomes the winner under Ranked Choice Voting. In other words, \(c\) is “close” to being the true winner, in the sense that a small perturbation of the electorate would make \(c\) win. There may be more ε-winners. The real winner is ε-winner for any ε. 

The sampling model is as follows. We assume there is a large population of voters, each ballot drawn independently from the empirical distribution of this population. The algorithm does not see all the ballots; instead, it may sample ballots at random, with replacement. The task of the algorithm is: given parameters \(\varepsilon\) and \(\delta\), and access to at most \(m\) random ballots, output a candidate \(\hat{c}\) such that with probability at least \(1-\delta\), the candidate \(\hat{c}\) is an ε-winner of the true election.

There is a natural algorithm for this problem: Sample a subset of votes and run the ranked-choice algorithm on them; output the winner. How many samples are needed for this algorithm to succeed? We seek the best possible upper and lower bound. 



=== Notes ===

# Research Notes




=== Current Output ===

# Main Results




=== Prover 1 Output ===

# Ideas and notation
- Candidates C with |C|=K. A ballot is a total order on C.
- For any nonempty S⊆C and a∈S, let p_a(S)=Pr[top_S(ballot)=a], where top_S assigns the highest-ranked among S.
- The IRV elimination step on a profile uses counts N·p_a(S) (we work in fractional units, so counts=probabilities). Tie-breaking is a fixed known rule, but our sufficient conditions will avoid relying on ties.
- ε-winner: there exist ≤ε extra mass of ballots (as a fraction of the original electorate), whose rankings we can choose, so that candidate c wins the IRV process on the augmented profile.

# A sufficient certificate for ε-winner
Lemma 1 (per-round safety vs a chosen chain). Fix c. Suppose there exists an elimination order of the other K−1 candidates, yielding sets S_K=C, S_{K-1}, …, S_2 with c∈S_t and S_{t+1}=S_t\{b_t} for some b_t∈S_t\{c}, such that for every t we have
p_c(S_t) ≥ p_{b_t}(S_t) − ε,
and, whenever equality holds, tie-breaking at S_t would not eliminate c when the tied candidates are {c}∪A for some A⊆S_t\{c} that all attain the minimum. Then c is an ε-winner.

Proof. Add ε mass of ballots ranking c first. For any S containing c, p′_c(S)=p_c(S)+ε and p′_a(S)=p_a(S) for a≠c. For each t, p′_c(S_t) ≥ p_{b_t}(S_t) = p′_{b_t}(S_t) ≥ min_{a∈S_t\{c}} p′_a(S_t). Thus c is not strictly below the minimum among others at S_t; by the stated tie condition, c is not eliminated. Eliminating any minimizer b_t at each step is valid (others’ counts are unchanged), leading to c’s victory. ∎

Why useful: It reduces showing “c is an ε-winner” to checking finitely many inequalities (one per round along some chain). In particular, it suffices to verify these inequalities versus the specific b_t’s designated for elimination.

# Using the sample’s elimination chain as a witness
Given a sample of m ballots, run IRV to get a winner ĉ and an elimination sequence b̂_1,…,b̂_{K-1} with sets Ŝ_t. Define empirical shares p̂_a(Ŝ_t).
Observation: For each t with ĉ∈Ŝ_t, we have p̂_{ĉ}(Ŝ_t) ≥ p̂_{b̂_t}(Ŝ_t) by construction (ties resolved by the rule). If we can ensure (uniformly over these rounds) that |p̂_{ĉ}(Ŝ_t)−p_{ĉ}(Ŝ_t)| and |p̂_{b̂_t}(Ŝ_t)−p_{b̂_t}(Ŝ_t)| are ≤α, then p_{b̂_t}(Ŝ_t)−p_{ĉ}(Ŝ_t) ≤ 2α. Hence, with ε=2α and benign tie-breaking, Lemma 1 certifies ĉ as an ε-winner.

The adaptive dependence of Ŝ_t on the sample is the main obstacle. Two ways forward:
- Small K (e.g., K=3): We can uniformize over all relevant S.
- Split-sample: Use one subsample to fix the witness chain, a fresh subsample to estimate the needed quantities.

# Special case K=3: direct bound for the natural algorithm
Proposition 2 (K=3). Let K=3 and run IRV on m i.i.d. ballots to produce winner ĉ and chain (Ŝ_3,Ŝ_2). If m ≥ (8/ε^2)·ln(18/δ), then with probability ≥1−δ, ĉ is an ε-winner.

Proof. For K=3, the only sets S of interest are size 3 (C itself) and the three 2-candidate subsets. There are exactly 9 numbers p_a(S) to control (3 for S=C, and 2 for each 2-set). By Hoeffding and a union bound, with probability ≥1−δ we have |p̂_a(S)−p_a(S)| ≤ α for all these pairs, where α=√((1/(2m)) ln(18/δ)). On this event, along the (random) sample chain, for each round t with candidate b̂_t eliminated while ĉ survives, we have p_{b̂_t}(Ŝ_t)−p_{ĉ}(Ŝ_t) ≤ (p̂_{b̂_t}−p̂_{ĉ})+2α ≤ 2α. Taking ε=2α and invoking Lemma 1 (strictness holds unless ties align adversarially; if needed, replace ≤ by < via an arbitrarily small slack absorbed into ε), ĉ is an ε-winner. Solving 2α≤ε yields the stated m. ∎

# A general upper bound via a split-sample certificate
Algorithm (two-phase witness-and-verify):
1) Draw m_1 ballots, run IRV, get ĉ and witness chain b̂_1,…,b̂_{K-1} with sets Ŝ_t.
2) Draw m_2 fresh ballots. For each t, estimate p̃_{ĉ}(Ŝ_t), p̃_{b̂_t}(Ŝ_t). If for all t, p̃_{ĉ}(Ŝ_t) ≥ p̃_{b̂_t}(Ŝ_t) − ε/2 (and ties not adverse), output ĉ.

Proposition 3. If m_2 ≥ (2/ε^2)·ln(4(K−1)/δ), then with probability ≥1−δ (over phase 2), the output ĉ is an ε-winner.

Proof. Condition on phase-1 outcome (Ŝ_t,b̂_t). The 2(K−1) functions g_t^a(ballot)=1[top_{Ŝ_t}(ballot)=a] are now fixed. Hoeffding gives simultaneous |p̃−p|≤ε/4 with probability ≥1−δ for all these functions if m_2≥(2/ε^2)ln(4(K−1)/δ). Then for each t, p_{b̂_t}(Ŝ_t)−p_{ĉ}(Ŝ_t) ≤ (p̃_{b̂_t}−p̃_{ĉ})+ε/2 ≤ ε/2, and Lemma 1 applies with margin ε. ∎

Consequences: This yields an O((K/ε^2)·log(K/δ)) upper bound without exponential dependence on 2^K. It also suggests that the “natural” one-phase algorithm should enjoy the same order bound; handling its adaptivity is a next step.

# Lower bounds
- Baseline (K=2). Any algorithm that outputs an ε-winner must distinguish Bernoulli means μ and μ±ε/2. By Le Cam, for error ≤δ one needs m=Ω((1/ε^2)·log(1/δ)). This matches Proposition 2 up to constants.
- Fano-type (any K). Construct K distributions over ballots, each making a distinct candidate the unique ε/4-winner, with pairwise KL=Θ(ε^2). Then m=Ω((log K)/ε^2) is needed to identify an ε-winner with high probability. Sketch: concentrate nearly all mass on two-round structures ensuring uniqueness of the ε/4-winner and keep pairwise perturbations of order ε. We will formalize the construction and the IRV-specific uniqueness check.

We conjecture a sharper direct-sum lower bound Ω((K−1)/ε^2) for the natural algorithm by embedding K−1 near-independently ambiguous rounds, but this requires care because later-round tallies depend on earlier eliminations.

# Example (K=3) illustrating Lemma 1
Let C={a,b,c} with c our target. Suppose true shares: p_a(C)=0.38, p_b(C)=0.33, p_c(C)=0.29. After eliminating c (hypothetical), we don’t care. Consider the chain eliminating b first: S_3=C, b_1=b. Check p_c(C)−p_b(C)=−0.04. For S_2={a,c}, assume p_c({a,c})=0.49 and p_a({a,c})=0.51 so the deficit is −0.02 versus b_2=a. Then with ε=0.04, Lemma 1 applies: add 0.04 mass of c-first ballots; at S_3, c reaches 0.33 to match b and exceed (or tie-break benignly); at S_2, c reaches 0.53>0.51. Hence c is an ε-winner.

# Obstacles and checks
- Adaptivity: The natural algorithm’s chain depends on the sample; avoiding 2^K union bounds without a split-sample or stability argument remains open.
- Ties: Our statements either assume strict margins or that tie-breaking does not eliminate c when tied after adding ε. We can bake an arbitrarily small extra slack into ε to handle worst-case ties; careful accounting shows this can be done without exceeding ε if only finitely many ties occur.
- Exponential S: Lemma 1 only needs the K−1 sets along a single chain, not all 2^K; this is why the split-sample approach scales with K.

# Next steps
- Prove a one-phase uniform-deviation bound for the natural algorithm’s adaptively chosen sets via a stability/compression argument, to match the O((K/ε^2)·log(K/δ)) rate without sample splitting.
- Formalize the Ω((log K)/ε^2) Fano lower bound with explicit IRV-compatible distributions; explore whether Ω(K/ε^2) holds.
- Extend Proposition 2 to K=4 by identifying a small family of S sufficient to certify the chain (likely polynomial in K but smaller than 2^K via structural IRV identities).
- Tighten constants and explicitly handle adversarial tie-breaking by reserving a vanishing fraction of the ε budget to break ties across rounds.
