{"feedback_md":"High-level: There’s a solid start (clean notation, sampling model, and a plausible analysis path). The K=3 case is essentially correct up to constants, but the general “chain certificate” (Lemma 1) is not yet rigorous for K≥4. Proposition 3 depends on Lemma 1 and therefore is not currently justified. Below are specific audits and suggested next steps.\n\n1) Lemma 1 (chain certificate): The proof only checks inequalities along one prescribed chain S_K ⊃ S_{K−1} ⊃ … ⊃ S_2. IRV’s actual elimination path after adding ε mass to c is uniquely determined by tallies and the fixed tie-breaking rule and generally need not follow that chain. Showing that c is not eliminated along one particular chain does not imply c survives the actual path unless one proves that, for every set S encountered along the actual path, c’s tally is ≥ the minimum among others. The current argument does not establish that property for sets not on the chosen chain. Thus, for K≥4 the lemma is not a valid sufficient condition as stated. A correct sufficient certificate would require: for every S⊇{c}, p_c(S) ≥ min_{a∈S\\{c}} p_a(S) − ε (plus a tie-handling convention). This is stronger (2^{K−1} checks) but correct.\n\n2) K=3 bound (Proposition 2): The approach is sound, but the stated constant is off. With α=√(ln(18/δ)/(2m)), enforcing 2α ≤ ε gives m ≥ (2/ε^2)·ln(18/δ), not (8/ε^2). The proof should also explicitly note that we add ε mass of c-first ballots (compare absolute tallies, not renormalized shares), so others’ counts are unchanged for all S containing c.\n\n3) Split-sample bound (Proposition 3): Conditioning on the phase-1 chain does remove adaptivity in estimation, but relying only on comparisons versus b̂_t along that single chain does not guarantee ĉ survives the actual (post-augmentation) elimination path for K≥4. To fix this, the phase-2 verification must ensure, for every round-set S that may be encountered by the elimination rule under the augmented profile, that p_c(S)+ε ≥ min_{a≠c} p_a(S). A computationally heavy but valid approach is to verify this for all S⊇{ĉ} on the holdout sample (uniform deviation via Hoeffding + union bound over K·2^{K−1} indicators).\n\n4) Lower bounds: The K=2 Le Cam lower bound is correct in order. The Fano sketch is plausible; it needs an explicit IRV-compatible construction and the proof that each instance has a unique ε/4-winner.\n\nConcrete next steps:\n- Repair Lemma 1 or replace it with a correct certificate (uniform over all S⊇{c}). Provide a minimal counterexample or proof of impossibility of single-chain certificates for K≥4.\n- Finalize and write a rigorous proof for K=3 with corrected constants and explicit tie handling.\n- For general K, either: (a) analyze the natural one-phase algorithm via a uniform union bound over all (S,a) to control adaptivity and then prove a statement that connects these uniform bounds to ε-winner status; or (b) adopt a two-phase “certify-by-max-deficit” algorithm: on holdout, compute B̃(c)=max_{S⊇{c}}(min_{a∈S\\{c}} p̃_a(S)−p̃_c(S)), and output any c with B̃(c) ≤ ε/2.\n- Formalize the Ω((log K)/ε^2) Fano lower bound.\n","summary_md":"K=3: The natural sample-and-run-IRV algorithm succeeds with m ≥ (2/ε^2)·ln(18/δ); proof via Hoeffding + union bound over 9 top-of-set frequencies and robustness to adding ε mass of c-first ballots. General K: the proposed single-chain ε-certificate (Lemma 1) is not sound; Proposition 3 depends on it and is unproven. Suggest replacing with a uniform-over-all-S certificate (computationally heavy but correct) or reworking analysis. Lower bounds: K=2 order-optimal Ω((1/ε^2)·log(1/δ)) is fine; Fano Ω((log K)/ε^2) needs full construction.","verdict":"uncertain","blocking_issues":["Lemma 1’s single-chain certificate is not a valid sufficient condition for IRV with fixed tie-breaking when K≥4.","Proposition 3 relies on Lemma 1 and is not justified as stated.","Tie-handling needs explicit treatment (strict margins or reserved slack).","Proposition 2 constant is incorrect; should be (2/ε^2)·ln(18/δ).","No complete general-K guarantee for the natural algorithm yet; adaptivity link to ε-winning remains unresolved."],"per_prover":[{"prover_id":"01","brief_feedback":"Good structure and promising K=3 analysis. However, the chain-based ε-certificate is not sufficient for general K (actual elimination may follow a different path). Fix Lemma 1 or replace with a uniform-over-all-subsets certificate; otherwise Proposition 3 is unproven. Also correct the constant in Prop. 2 and handle ties cleanly.","score":"uncertain"}],"notes_update":{"action":"append","content":"# Certificates and sampling for IRV ε-winners\n\n- Notation: For S⊆C, a∈S, p_a(S)=Pr[top_S(ballot)=a]. Adding ε mass of c-first ballots increases c’s tallies by ε for every S containing c and leaves others’ tallies unchanged (compare absolute counts; normalization is irrelevant for elimination).\n\n- Correct sufficient certificate (uniform): If for every nonempty S⊇{c} we have p_c(S) ≥ min_{a∈S\\{c}} p_a(S) − ε (with tie-breaking known and either strict margins or reserved slack), then after adding ε mass of c-first ballots, c is never strictly below the minimum and hence cannot be eliminated; thus c wins.\n\n- Caveat on single-chain certificates: Verifying inequalities only along one elimination chain of opponents is insufficient for K≥4, because the actual post-augmentation elimination path may visit sets not on the chosen chain. Therefore the earlier Lemma 1 (single-chain witness) is not a valid sufficient condition in general.\n\n- K=3 case: There are only two relevant sets containing c (C and {c,x}). A union bound over the 9 quantities {p_a(S)}_{a∈S} yields uniform deviation, and adding ε mass to the sample winner ĉ suffices with ε=2α.\n\n- Adaptivity: For sample-run IRV, one can control all top-of-set frequencies uniformly by a union bound over K·2^{K−1} indicators; this is exponential computationally but only linear in K in the sample size via the log term.\n\n- Two-phase certification idea: Use a holdout sample to compute B̃(c)=max_{S⊇{c}}(min_{a∈S\\{c}} p̃_a(S)−p̃_c(S)). If B̃(c)≤ε/2 (and uniform deviation ≤ε/4), then c is an ε-winner. This avoids chain-dependence but may be computationally heavy.\n\n- Lower bounds: K=2 needs m=Ω((1/ε^2)·log(1/δ)). A Fano construction suggests m=Ω((log K)/ε^2) for identifying a unique ε/4-winner among K candidates; to be formalized with explicit IRV distributions.\n\n- Next steps: (i) Provide a minimal counterexample demonstrating failure of single-chain certificates for K≥4 (or a proof that extra conditions suffice). (ii) Finalize the K=3 theorem with corrected constants and full tie handling. (iii) Either analyze the one-phase algorithm via a uniform bound that implies ε-winning, or switch to a two-phase max-deficit certificate. (iv) Complete the Fano lower bound.\n"},"proofs_update":{"action":"append","content":"# Rigorous results\n\n## Theorem (K=3 upper bound for the natural algorithm)\nLet K=3. Draw m i.i.d. ballots from the election profile, run IRV on the sample with the fixed deterministic tie-breaking rule, and let ĉ be the sample winner. If\n\nm ≥ (2/ε^2) · ln(18/δ),\n\nthen with probability at least 1−δ, ĉ is an ε-winner of the true election.\n\n### Proof\nFor S∈{C}∪{two-candidate subsets} and a∈S, define f_{S,a}(x)=1[top_S(x)=a]. There are exactly 9 such pairs (S,a). Let p_a(S)=E f_{S,a}, and let p̂_a(S) be the empirical mean over the m sampled ballots.\n\nBy Hoeffding’s inequality and a union bound over the 9 pairs, with probability at least 1−δ we have simultaneously\n\n|p̂_a(S) − p_a(S)| ≤ α,  for all (S,a),\n\nwhere α = sqrt(ln(18/δ)/(2m)). Work on this event and set ε := 2α.\n\nLet the sample IRV elimination sequence be b̂_1 (first eliminated from C) and then the final opponent â (so the last two candidates are {ĉ, â}). By the sample rule,\n- at S=C, p̂_{ĉ}(C) ≥ p̂_{b̂_1}(C);\n- at S={ĉ,â}, p̂_{ĉ}({ĉ,â}) ≥ p̂_{â}({ĉ,â}).\n\nUsing the uniform deviations,\n- p_{b̂_1}(C) − p_{ĉ}(C) ≤ (p̂_{b̂_1}(C)+α) − (p̂_{ĉ}(C)−α) ≤ 2α = ε;\n- p_{â}({ĉ,â}) − p_{ĉ}({ĉ,â}) ≤ (p̂_{â}({ĉ,â})+α) − (p̂_{ĉ}({ĉ,â})−α) ≤ 2α = ε.\n\nNow add ε fraction of ĉ-first ballots to the electorate (compare absolute tallies; others’ tallies are unchanged on any S containing ĉ). At S=C, ĉ’s tally increases by ε, so ĉ is no smaller than p_{b̂_1}(C) and hence at least as large as the minimum among the other two candidates; thus ĉ is not eliminated. The eliminated candidate is one of the two original opponents. In the subsequent two-candidate set {ĉ, â}, ĉ’s tally exceeds (or equals, with the fixed tie-breaking possibly favoring ĉ or handled by reserving an arbitrarily small slack) that of â. Therefore ĉ wins. This holds on the event above, which has probability at least 1−δ. ∎\n\n## Lemma (Uniform sufficient certificate)\nFix c. If for every nonempty S⊇{c},\n\np_c(S) ≥ min_{a∈S\\{c}} p_a(S) − ε,\n\nthen c is an ε-winner. \n\nProof. Add ε mass of c-first ballots. For any S containing c, c’s tally increases by ε and others’ tallies are unchanged, so c is never strictly below the minimum and thus cannot be eliminated; c eventually wins. ∎\n\n## Lower bound (K=2)\nFor K=2, any algorithm that outputs an ε-winner with error probability at most δ requires m = Ω((1/ε^2)·log(1/δ)) samples in the worst case.\n\nSketch. Let X∼Bernoulli(μ) be the indicator that a random ballot ranks a fixed candidate c above the other. Under μ=1/2−ε/2, c is not an ε-winner; under μ=1/2+ε/2, c is an ε-winner. The total variation (or KL) between the two Bernoulli product measures over m samples is e^{−Θ(mε^2)}. By Le Cam’s two-point method, to distinguish these with error ≤δ one needs m=Ω((1/ε^2)·log(1/δ)). ∎\n"},"output_update":{"action":"append","content":"- K=3 upper bound (natural algorithm): If m ≥ (2/ε^2)·ln(18/δ), then with probability ≥ 1−δ the sample IRV winner is an ε-winner.\n- Baseline lower bound (K=2): Any algorithm needs m = Ω((1/ε^2)·log(1/δ)).\n- General K: a single-chain certificate is insufficient; a correct sufficient certificate must hold uniformly over all S⊇{c}. Establishing tight bounds for the natural algorithm when K≥4 remains open."}}