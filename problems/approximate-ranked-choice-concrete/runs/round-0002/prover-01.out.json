{
  "progress_md": "## Audit of current output and quick fixes\n\n- Additive-ballot normalization: Correctly used as P\u2032 = (P + \u03b1 Q)/(1+\u03b1) throughout Theorem 1 and Lemma 2. Good.\n- Tie-breaking: Theorem 1 implicitly ensures strict positivity of all margins in P\u2032, so tie-breaking becomes irrelevant; this should be stated explicitly in the proof (to avoid any dependence on the fixed rule once the certificate fires).\n- Counting identity U: A simpler and fully explicit combinatorial proof would help. See Lemma A below.\n- Certify-or-abstain vs. unconditional guarantee: Theorem 1 proves a certify-or-abstain statement. It does not, and cannot, guarantee that the natural algorithm outputs an \u03b5-winner w.p. \u2265 1\u2212\u03b4 uniformly over all P without further assumptions on true margins. This gap relative to the problem\u2019s \u201csucceed\u201d phrasing should be flagged in output.md.\n- K=3 corollary: The statement is sound; an explicit list of the O(1) functionals and a concrete constant in the sample bound would strengthen it. See Corollary B below.\n\n## Ideas\n\n1) Parametric path certificate (one-line why useful). A sharpened version of Theorem 1 that decouples the empirical slack \u03c4 and the uniform deviation \u03b7, yielding a data-dependent certificate and explicit \u03b1 \u2264 \u03b5. This lets the algorithm compute a guaranteed \u03b5\u0302 from the sample: \u03b5\u0302 := max{0, min(\u03c4\u2212\u03b7, \u03b5)}.\n\n2) Minimal \u03b1 accounting (one-line why useful). Given uniform deviation bound \u03b7 and observed margins, upper bound the minimal \u03b1 (for the single-ranking Q) needed to realize \u03c3 on the true P. This quantifies robustness and can yield tighter guarantees than the fixed \u201c2\u03b5\u201d trigger.\n\n3) Clean combinatorial proof of U = K(K\u22121) 2^{K\u22122} (one-line why useful). Streamlines Lemma 1\u2019s union bound and removes reliance on the binomial-moment identity.\n\n4) K=3 lower bound via Le Cam (one-line why useful). Establishes \u03a9((log(1/\u03b4))/\u03b5^2) necessity for any method, matching our upper bound\u2019s \u03b5, \u03b4 dependence in the simplest nontrivial case.\n\n## Statements and proofs/sketches\n\nLemma A (Counting of path functionals). Let F = { (A,y,x): A\u2286[K], |A|\u22652, y\u2260x\u2208A }. Then |F| = U = K(K\u22121) 2^{K\u22122}.\nProof. For each ordered pair (y,x) with y\u2260x (K(K\u22121) choices), any A that contains both y and x is formed by choosing an arbitrary subset of the remaining K\u22122 candidates, so 2^{K\u22122} choices. Multiply.\n\nLemma C (Parametric path-wise certificate). Fix \u03c3=(e_1,\u2026,e_{K\u22121},w) produced by IRV on the sample S. Suppose a uniform concentration event holds: |d_{r,y}(S) \u2212 d_{r,y}(P)| \u2264 \u03b7 for all r,y. Let \u03c4 := min_{r,y} d_{r,y}(S). If \u03c4 > \u03b7, then for any \u03b1 \u2208 [0, \u03c4\u2212\u03b7], the same \u03c3 is feasible on P\u2032:=(P+\u03b1Q)/(1+\u03b1) where Q is the point mass on ranking (w, e_{K\u22121}, \u2026, e_1); in particular, w is an (\u03c4\u2212\u03b7)-winner for P.\nReason. For y\u2260w, d_{r,y}(P\u2032) = d_{r,y}(P)/(1+\u03b1) \u2265 (\u03c4\u2212\u03b7)/(1+\u03b1) > 0. For y=w, d_{r,w}(P\u2032) = (d_{r,w}(P)+\u03b1)/(1+\u03b1) \u2265 (\u03c4\u2212\u03b7+\u03b1)/(1+\u03b1) > 0. Hence all feasibility inequalities are strictly positive, so \u03c3 executes on P\u2032 and w wins.\n\nCorollary B (Explicit K=3 certificate with constants). Let K=3, S be an m-sample, and suppose S\u2019s elimination order is (e,o,w). Define\n- First round: M1 := min{ score_o(S;[3]) \u2212 score_e(S;[3]), score_w(S;[3]) \u2212 score_e(S;[3]) }.\n- Final pair: M2 := Pr_S[w \u227b o] \u2212 Pr_S[o \u227b w].\nLet \u03c4 := min{M1, M2}. If m \u2265 (1/(2\u03b7^2)) (log(12) + log(1/\u03b4)) and \u03c4 \u2265 \u03b7 + \u03b5, then w is an \u03b5-winner w.p. \u2265 1\u2212\u03b4. In particular, taking \u03b7=\u03b5 yields m \u2265 (1/(2\u03b5^2))(log 12 + log(1/\u03b4)) and the simple trigger \u201call three margins \u2265 2\u03b5.\u201d\nSketch. The class has at most 6 functionals (two first-round differences, one pairwise difference, and their negatives). Apply Hoeffding+union bound with 2U \u2264 12. Then apply Lemma C with \u03c4\u2212\u03b7 \u2265 \u03b5.\n\nExample check (K=3). Let P place mass p_A = 0.51 on w\u227bo\u227be and p_B = 0.49 on o\u227bw\u227be. Then round 1 eliminates e (score_e=0), and in the final pair M2 = 0.02. With \u03b5=0.01, \u03b7=0.01, \u03c4=0.02, the certificate fires; adding \u03b1=0.01 of Q = (w,o,e) yields d_{2,w}(P\u2032) = (0.02+0.01)/1.01 > 0 while d_{1,o}, d_{1,w} shrink but stay positive.\n\nLemma D (Minimal \u03b1 upper bound from sample). Under the uniform deviation bound \u03b7 and given \u03c3 from S, define \u03c4 := min_{r,y} d_{r,y}(S). Then any \u03b1 \u2264 \u03c4\u2212\u03b7 suffices to realize \u03c3 on P\u2032 with Q as above. In particular, the data-driven bound \u03b1\u2217 := (\u03c4\u2212\u03b7)_+ is feasible and \u03b1\u2217 \u2264 \u03b5 whenever \u03c4 \u2265 \u03b7 + \u03b5.\nProof. Immediate from Lemma C.\n\nLemma E (K=3 Le Cam lower bound). Fix \u03b5 \u2208 (0, 1/6). Consider two electorates on K=3 supported on {A: w\u227bo\u227be, B: o\u227bw\u227be}: P_+ with P_+(A)=1/2+\u03b5, P_+(B)=1/2\u2212\u03b5; P_- with P_-(A)=1/2\u2212\u03b5, P_-(B)=1/2+\u03b5. Then for target \u03b5 (same symbol) and any algorithm that, from m i.i.d. ballots, outputs a candidate who is an \u03b5-winner of the true election with probability \u2265 1\u2212\u03b4 for both P_+ and P_-, it must hold that m \u2265 c log(1/\u03b4)/\u03b5^2 for an absolute constant c>0.\nWhy sets of \u03b5-winners are disjoint. Under P_+, e is eliminated immediately (score_e=0). The final pair margin is M2=2\u03b5 in favor of w. For \u03b5<1/6, any \u03b1\u2264\u03b5 leaves round-1 elimination unchanged, and to make o beat w in the final pair requires \u03b1\u2265M2=2\u03b5. Thus under P_+, the only \u03b5-winner is w. Symmetrically, under P_- the only \u03b5-winner is o. Hence any algorithm must identify which world it is in (binary testing). Information bound. The observations reduce to m i.i.d. draws from a Bernoulli with mean 1/2\u00b1\u03b5 (indicator of A). Standard tail or KL bounds (KL(P_+||P_-) \u2248 8\u03b5^2 for small \u03b5) imply m \u2265 c log(1/\u03b4)/\u03b5^2 is necessary for error \u2264 \u03b4.\n\n## Obstacles and open items\n\n- Uniform-in-P success of the natural algorithm: Without assumptions on true path margins, no fixed m can guarantee that the sample winner is an \u03b5-winner w.p. \u2265 1\u2212\u03b4 uniformly over all electorates. Our results are certify-or-abstain; quantifying the rate at which the abstain event occurs requires margin conditions.\n- K-dependence lower bounds: While the union bound suggests an O(K/\u03b5^2) price for certification, a matching lower bound requires constructing a packing of electorates whose \u03b5-winner sets are nearly disjoint and whose induced ballot laws are pairwise close. Ensuring IRV consistency across many rounds while \u201chiding\u201d the critical inequality remains delicate.\n- Tight \u03b1 accounting when some d_{r,w}(S) are small: Lemma C tolerates small d_{r,w} using the +\u03b1 boost, but for y\u2260w margins shrink by 1/(1+\u03b1). Balancing these may lead to slightly stronger, round-dependent \u03b1 choices if one enriches Q beyond a single ranking; this complicates composition and is left open.\n\n## Next steps\n\n1) Integrate Lemma C (parametric certificate) and Lemma A (counting) into output.md, clarifying tie-breaking.\n2) Flesh out Lemma E with explicit constants via KL(P_+||P_-) and Chernoff bounds; include a short proof that e is not an \u03b5-winner in either instance for \u03b5<1/6.\n3) K=3: Provide an explicit list of the three functionals and compute the exact m bound m \u2265 (1/(2\u03b5^2))(log(12)+log(1/\u03b4)).\n4) Toward K-dependent lower bounds: attempt a family where the first-round loser is unique but \u201chidden\u201d among \u0398(K) candidates by perturbing first-choice rates by \u00b1\u03b5 while keeping later rounds fixed; analyze disjointness of \u03b5-winner sets and pairwise divergences.\n5) Empirical margin estimator: recommend reporting \u03b5\u0302 := max{0, \u03c4\u2212\u03b7} as a certified tolerance derived from the sample, together with m and \u03b4; this is immediately supported by Lemma C.\n"
}