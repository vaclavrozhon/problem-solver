{
  "progress_md": "Ideas\n- Parametrized certificate (decoupling accuracy and robustness). Introduce two knobs: a concentration radius \u03b3 for the uniform deviation event and a target robustness \u03b1 (the amount of added ballots). If along the empirical path \u03c3 we have all margins d_{r,y}(S) \u2265 \u03b1 + \u03b3, then on the uniform event |d_{r,y}(S) \u2212 d_{r,y}(P)| \u2264 \u03b3 we get d_{r,y}(P) \u2265 \u03b1. Mixing with Q (the single ranking R = (w, e_{K\u22121}, \u2026, e_1)) at level \u03b1 yields, for all r,y\u2260w, d_{r,y}(P\u2032) = d_{r,y}(P)/(1+\u03b1) \u2265 \u03b1/(1+\u03b1) > 0 and for y = w, d_{r,w}(P\u2032) \u2265 (\u03b1+\u03b1)/(1+\u03b1) > 0. Hence \u03c3 is feasible in P\u2032 and w is an \u03b1-winner. This strictly generalizes the 2\u03b5\u2192\u03b5 threshold in the current output.\n- Clean separation of roles: choose \u03b3 via uniform Hoeffding over U = K(K\u22121)2^{K\u22122} functionals; choose \u03b1 \u2264 \u03b5 as the robustness budget we certify. Then a one-line certify-or-abstain condition: min_{r,y} d_{r,y}(S) \u2265 \u03b1+\u03b3.\n- Counting identity proof sketch. U = \u03a3_{A} |A|(|A|\u22121) over nonempty A with |A|\u22652. Let S \u223c Bin(K, 1/2) be the size of a uniformly random subset; E[S(S\u22121)] = K(K\u22121)E[Z_1Z_2] with Z_i \u223c Ber(1/2) iid, hence K(K\u22121)2^{K}\u00b7(1/4)/2^{K} = K(K\u22121)/4. Multiplying by the number of subsets 2^K and dividing by 4 yields U = K(K\u22121)2^{K\u22122}. Alternatively, double-count ordered pairs (y,x) and subsets containing them.\n\nExamples\n- K=3 lower-bound instance (Le Cam two-point). Candidates a,b,c. Fix a robust first-round elimination of c by setting first-place shares a: (1\u2212s)/2, b: (1\u2212s)/2, c: s with s \u2208 (0, 1/3). Choose distributions supported on the six rankings with all masses identical except on types with c on top:\n  \u2022 P+: r_1 = P[c \u227b a \u227b b] = s/2 + \u03b5, r_2 = P[c \u227b b \u227b a] = s/2 \u2212 \u03b5.\n  \u2022 P\u2212: r_1 = s/2 \u2212 \u03b5, r_2 = s/2 + \u03b5.\n  Keep p_1+p_2 = q_1+q_2 = (1\u2212s)/2 and split these arbitrarily (identically under P+ and P\u2212) so first-round shares match exactly. Then c is eliminated first under both. Final decision equals the a vs b pairwise majority: margin m_ab(P\u00b1) = r_1 \u2212 r_2 = \u00b12\u03b5. Thus under P+, a is the IRV winner; under P\u2212, b is the IRV winner; moreover, under P\u2212, a is not an \u03b5-winner (since mixing with \u03b1=\u03b5 yields margin (\u22122\u03b5+\u03b5)/(1+\u03b5) < 0). The total variation between P+ and P\u2212 equals 2\u03b5; the KL satisfies KL(P+||P\u2212) = (s/2+\u03b5)log((s/2+\u03b5)/(s/2\u2212\u03b5)) + (s/2\u2212\u03b5)log((s/2\u2212\u03b5)/(s/2+\u03b5)) \u2264 c_s \u03b5^2 with c_s = 8/s for \u03b5 \u2264 s/4 (from Taylor\u2019s theorem and convexity). Hence, by Le Cam, any algorithm that outputs an \u03b5-winner with error \u2264 \u03b4 must use m \u2265 (1/c_s)\u00b7\u03a9(log(1/\u03b4))/\u03b5^2 = \u03a9((log(1/\u03b4))/\u03b5^2).\n- Toy certificate check (K=4). Suppose the empirical path is e_1=4, e_2=3, e_3=2 with winner w=1, and the per-round empirical margins are 0.08, 0.06, 0.05. With \u03b3 = 0.02 (from m via Lemma 1) and \u03b1 = 0.03 \u2264 \u03b5, we have min margin 0.05 \u2265 \u03b1+\u03b3, so certification triggers; after mixing, all non-w margins shrink to \u2265 \u03b1/(1+\u03b1) \u2248 0.029 > 0.\n\nObstacles and gaps\n- Current output\u2019s Theorem 1 fixes \u03b1 = \u03b5 and requires d_{r,y}(S) \u2265 2\u03b5. This is correct under the additive model, but the dependence on \u03b5 is somewhat rigid. The parametrized version above allows any \u03b1 \u2264 \u03b5 and any \u03b3 achieved by m.\n- Success probability of the \u201calways output empirical winner\u201d algorithm cannot be bounded uniformly over all P without a gap assumption on P (e.g., \u0393 := min_{r,y} d_{r,y}(P) \u2265 margin). The certificate yields a standard gap-dependent guarantee: if \u0393 \u2265 \u03b1 + 2\u03b3, then with probability \u2265 1\u2212\u03b4 (the uniform event) the algorithm\u2019s sample path has min margin \u2265 \u03b1 + \u03b3 and we certify an \u03b1-winner. This gap-dependence should be stated explicitly.\n- Constants in Lemma 1. The output uses a generic C. A precise instantiation: with m \u2265 (2/\u03b3^2)(log(2U) + log(1/\u03b4)), we get uniform deviation \u2264 \u03b3 by Hoeffding plus union bound (accounting for signs). This can be threaded through the parametrized certificate to produce an explicit m.\n\nFormal lemmas (ready to add to output)\n- Lemma (Parametrized certificate). Fix \u03b1 \u2208 (0,1/2) and \u03b3 \u2208 (0,1/2). On the event sup_{A,y\u2260x} |(score_y(S;A)\u2212score_x(S;A))\u2212(score_y(P;A)\u2212score_x(P;A))| \u2264 \u03b3, if along the empirical IRV path \u03c3 we have min_{r,y} d_{r,y}(S) \u2265 \u03b1 + \u03b3, then the empirical winner w is an \u03b1-winner for P.\n- Theorem (Gap-dependent guarantee). Suppose \u0393 := min_{r,y} d_{r,y}(P) \u2265 \u03b1 + 2\u03b3. If m \u2265 (2/\u03b3^2)(log(2U) + log(1/\u03b4)), then with probability \u2265 1\u2212\u03b4 the empirical winner w is an \u03b1-winner for P.\n- Lemma (K=3 Le Cam lower bound). For any \u03b4 \u2208 (0,1/3) and \u03b5 \u2264 s/4 with s \u2208 (0,1/3), there exist P+, P\u2212 as above such that any algorithm using m samples that, with probability \u2265 1\u2212\u03b4, outputs an \u03b5-winner must satisfy m \u2265 c (log(1/\u03b4))/\u03b5^2, where c = s/32 (by the bound KL(P+||P\u2212) \u2264 8\u03b5^2/s and Bretagnolle\u2013Huber inequality). In particular, for a fixed constant s (e.g., s = 1/4), we get m = \u03a9((log(1/\u03b4))/\u03b5^2).\n\nNext steps\n- Insert the parametrized certificate and gap-dependent theorem into output.md with full proofs (including the algebra with normalization (P+\u03b1Q)/(1+\u03b1)).\n- Finalize the K=3 lower bound with explicit constants (verify KL bound rigorously: use second derivative at 0 equals 4/(s/2) and convexity to upper bound for |\u03b5| \u2264 s/4).\n- K-dependence lower bound sketch to formalize: construct a packing of M \u2248 exp(\u0398(K)) instances by choosing one round/competitor y* at which the true margin is \u00b12\u03b5, while all other constraints have slack \u03a9(1). Apply Fano to obtain m \u2265 \u03a9((log M)/\u03b5^2) = \u03a9(K/\u03b5^2) under a prior. As a stepping stone, prove at least an \u03a9((log K)/\u03b5^2) bound by packing over O(K) choices of the critical constraint.\n- Tighten constants in the uniform bound via Bernstein/Chernoff (the top-among-A indicators have variance \u2264 p(1\u2212p)); document whether this yields meaningful gains in m for moderate K.\n\nNotes on gaps in current output.md\n- Add the parametrized version to avoid hard-coding 2\u03b5 and to clearly separate \u03b3 (from m,\u03b4,K) and the target \u03b1 \u2264 \u03b5.\n- State and prove the gap-dependent guarantee explicitly; currently it is implicit.\n- For Corollary 2 (K=3), list the exact finite set of functionals needed and compute U_K=3 = 12 to justify the m = O((log(1/\u03b4))/\u03b5^2) claim with an explicit constant."
}