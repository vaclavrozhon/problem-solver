=== SYSTEM ===
You are a research **summarizer**. Summarize this *last round only* for a human log.

Include:
- 3–7 bullet **Highlights** (facts learned, reductions, counterexamples, partial bounds).
- 1–3 **Open questions / TODOs** for the next round.
- 1–3 **Citations to files** you relied on (e.g. round files or papers by name).

**Return strictly JSON**:
{
  "summary_md": "Readable summary of the round (≤200 words)",
  "highlights": [],
  "next_questions": []
}

=== USER ===
=== Task (txt) ===

# Problem Statement

We consider the problem of estimating the winner in an election run under **Ranked Choice Voting** (also known as *Instant-Runoff Voting*).  

Suppose there are \(K\) candidates. Each voter submits a complete ranking of these candidates. The voting rule proceeds in rounds: in each round, every ballot is assigned to the top-ranked candidate who is still in contention. The candidate with the smallest number of votes is eliminated (with ties broken according to a fixed deterministic rule), and this candidate is crossed out from all ballots. The process repeats until only one candidate remains, who is declared the winner.

Our goal is not to compute the exact winner from the full set of ballots, but rather to estimate a *robust* winner from a random sample of ballots. To make this precise, we introduce the notion of an **ε-winner**. A candidate \(c\) is called an ε-winner of an election profile if it is possible to add at most an ε-fraction of additional ballots to the election so that \(c\) becomes the winner under Ranked Choice Voting. In other words, \(c\) is “close” to being the true winner, in the sense that a small perturbation of the electorate would make \(c\) win. There may be more ε-winners. The real winner is ε-winner for any ε. 

The sampling model is as follows. We assume there is a large population of voters, each ballot drawn independently from the empirical distribution of this population. The algorithm does not see all the ballots; instead, it may sample ballots at random, with replacement. The task of the algorithm is: given parameters \(\varepsilon\) and \(\delta\), and access to at most \(m\) random ballots, output a candidate \(\hat{c}\) such that with probability at least \(1-\delta\), the candidate \(\hat{c}\) is an ε-winner of the true election.

There is a natural algorithm for this problem: Sample a subset of votes and run the ranked-choice algorithm on them; output the winner. How many samples are needed for this algorithm to succeed? We seek the best possible upper and lower bound. 



=== Notes ===

# Research Notes



# Certificates and sampling for IRV ε-winners

- Notation: For S⊆C, a∈S, p_a(S)=Pr[top_S(ballot)=a]. Adding ε mass of c-first ballots increases c’s tallies by ε for every S containing c and leaves others’ tallies unchanged (compare absolute counts; normalization is irrelevant for elimination).

- Correct sufficient certificate (uniform): If for every nonempty S⊇{c} we have p_c(S) ≥ min_{a∈S\{c}} p_a(S) − ε (with tie-breaking known and either strict margins or reserved slack), then after adding ε mass of c-first ballots, c is never strictly below the minimum and hence cannot be eliminated; thus c wins.

- Caveat on single-chain certificates: Verifying inequalities only along one elimination chain of opponents is insufficient for K≥4, because the actual post-augmentation elimination path may visit sets not on the chosen chain. Therefore the earlier Lemma 1 (single-chain witness) is not a valid sufficient condition in general.

- K=3 case: There are only two relevant sets containing c (C and {c,x}). A union bound over the 9 quantities {p_a(S)}_{a∈S} yields uniform deviation, and adding ε mass to the sample winner ĉ suffices with ε=2α.

- Adaptivity: For sample-run IRV, one can control all top-of-set frequencies uniformly by a union bound over K·2^{K−1} indicators; this is exponential computationally but only linear in K in the sample size via the log term.

- Two-phase certification idea: Use a holdout sample to compute B̃(c)=max_{S⊇{c}}(min_{a∈S\{c}} p̃_a(S)−p̃_c(S)). If B̃(c)≤ε/2 (and uniform deviation ≤ε/4), then c is an ε-winner. This avoids chain-dependence but may be computationally heavy.

- Lower bounds: K=2 needs m=Ω((1/ε^2)·log(1/δ)). A Fano construction suggests m=Ω((log K)/ε^2) for identifying a unique ε/4-winner among K candidates; to be formalized with explicit IRV distributions.

- Next steps: (i) Provide a minimal counterexample demonstrating failure of single-chain certificates for K≥4 (or a proof that extra conditions suffice). (ii) Finalize the K=3 theorem with corrected constants and full tie handling. (iii) Either analyze the one-phase algorithm via a uniform bound that implies ε-winning, or switch to a two-phase max-deficit certificate. (iv) Complete the Fano lower bound.


## Refinements and validations

- Single-chain certificates fail (explicit K=4 counterexample). Ballot types and weights:
  T1: c>a>d>b (0.34), T2: a>d>c>b (0.29), T3: d>c>a>b (0.34), T4: b>a>d>c (0.03). First round eliminates b; then on {a,c,d} eliminate a; final pair {c,d} with c losing 0.34 vs 0.66. Chain checks against b then a and the pair {c,a} all pass (even with ε=0), yet c does not win. Hence chain-only witnesses are unsound for K≥4.

- Uniform max-deficit certificate. Define B(c)=max_{S⊇{c}} (min_{a∈S\{c}} p_a(S) − p_c(S)). If B(c) < ε, then adding ε mass of c-first ballots makes c safe in every S and thus an ε-winner. If only B(c) ≤ ε, either assume the tie-breaking never eliminates c on equality or require a strict slack.

- Two-phase holdout certification. Phase 1: pick ĉ by running IRV on m1 samples. Phase 2: estimate all p_a(S) for S⊇{ĉ} and a∈S on an independent holdout of size m2. With Hoeffding + union bound over M = (K−1)·2^{K−2} (others) plus 2^{K−1} (ĉ) indicators, uniform deviation ≤ ε/4 holds if m2 ≥ (2/ε^2)·ln(2M/δ). If B̃(ĉ) ≤ ε/2 − ξ, then B(ĉ) ≤ ε − ξ and ĉ is an ε-winner. Threshold ε/2 without slack requires favorable tie-breaking on equality.

- K=3 with separation. If |p_a(C) − p_b(C)| ≥ γ and m ≥ (8/ε^2)·ln(18/δ) with γ ≥ ε/2 (so α ≤ ε/4 ≤ γ/2), then the sample more-popular opponent x̂ equals the true x*, and the sample winner ĉ is an ε-winner with probability ≥ 1−δ by verifying safety at C and a head-to-head win versus x*.

- Open directions: (i) Reduce the family of S needed for certification (are worst-case S IRV-reachable?). (ii) One-phase analysis via uniform deviations that imply B̂(ĉ) small. (iii) Complete the Fano Ω((log K)/ε^2) lower bound with an explicit IRV family.


### Additional observations and corrections

- Holdout constant correction: To ensure |p̃_a(S)−p_a(S)| ≤ ε/4 uniformly over M_c functions, Hoeffding yields m2 ≥ (8/ε^2)·ln(2M_c/δ). The earlier (2/ε^2) factor was incorrect by 4×.

- Non-monotonicity: For fixed c, f(S)=min_{a∈S\{c}} p_a(S)−p_c(S) need not be monotone in S; there exist S⊂T with f(S)<0<f(T). So pruning by subset/superset relations is invalid.

- Why K=3 is special: With candidates {a,b,c}, the first-round minimum at C coincides with c being below both opponents at C; and the final opponent is the larger of {a,b} at C, independent of c-first augmentation. This equivalence breaks for K≥4, where top-of-C and top-of-S can decouple.

- Exact K=3 augmentation (c-first): E_c = max{ [min{p_a(C),p_b(C)} − p_c(C)]_+ , [p_{x*}({c,x*}) − p_c({c,x*})]_+ }, x*=argmax_{a,b} p_a(C).

- Toward polynomial sample complexity: Rather than enumerating all S, analyze the statistical complexity of G={1[top_S(·)=a] : S⊇{a}, a∈C}. Each g_{S,a} is a monotone conjunction of pairwise comparisons on permutations. Bounding VC/pseudodimension of G (conjecturally O(K log K)) could yield O((K log K + log(1/δ))/ε^2) uniform deviation without the 2^K factor. This could enable a one-phase analysis or a more efficient holdout.

- Open tasks: (i) Prove VC/pseudo-dim bounds for G and translate to uniform deviations for B̃. (ii) Formalize an explicit Fano Ω((log K)/ε^2) lower bound. (iii) Explore whether worst-case S for f(S) are constrained to IRV-reachable sets under neighboring profiles to shrink the verification family.



=== Current Output ===

Main results to date:

- Two-phase holdout certification (general K). Phase 1: run IRV on m1 samples to select ĉ. Phase 2: on an independent holdout of size m2 ≥ (8/ε^2)·ln(2M_c/δ) with M_c=2^{K−2}(K+1), compute B̃(ĉ)=max_{S⊇{ĉ}}(min_{a∈S\{ĉ}} p̃_a(S)−p̃_{ĉ}(S)). If B̃(ĉ) ≤ ε/2 − ξ (for any ξ>0), then with probability at least 1−δ, ĉ is an ε-winner.

- K=3: exact c-first augmentation formula. For C={c,a,b}, the minimal ε making c win via c-first augmentation is E_c = max{ [min{p_a(C),p_b(C)} − p_c(C)]_+ , [p_{x*}({c,x*}) − p_c({c,x*})]_+ }, where x*=argmax_{a,b} p_a(C).

- K=3 (natural algorithm, with separation). If |p_a(C)−p_b(C)| ≥ ε/2 and m ≥ (8/ε^2)·ln(18/δ), then with probability at least 1−δ the sample IRV winner ĉ is an ε-winner.

- Baseline lower bound (K=2). Any algorithm needs m = Ω((1/ε^2)·log(1/δ)).

Open: Tight guarantees for the one-phase natural algorithm when K≥4 without separation assumptions; reducing exponential dependence on 2^{K} in certification.


=== Verifier Summary ===

Correct uniform certificate and K≥4 counterexample; exact K=3 augmentation formula; refined holdout counting M_c. Fix needed: holdout Hoeffding constant should be 8/ε^2, not 2/ε^2. Exponential-in-K holdout remains; propose VC-dimension analysis of top-of-set indicators to target O((K log K)/ε^2). K=3 separation corollary remains sound with strict margins.


=== Current Notes ===

# Research Notes



# Certificates and sampling for IRV ε-winners

- Notation: For S⊆C, a∈S, p_a(S)=Pr[top_S(ballot)=a]. Adding ε mass of c-first ballots increases c’s tallies by ε for every S containing c and leaves others’ tallies unchanged (compare absolute counts; normalization is irrelevant for elimination).

- Correct sufficient certificate (uniform): If for every nonempty S⊇{c} we have p_c(S) ≥ min_{a∈S\{c}} p_a(S) − ε (with tie-breaking known and either strict margins or reserved slack), then after adding ε mass of c-first ballots, c is never strictly below the minimum and hence cannot be eliminated; thus c wins.

- Caveat on single-chain certificates: Verifying inequalities only along one elimination chain of opponents is insufficient for K≥4, because the actual post-augmentation elimination path may visit sets not on the chosen chain. Therefore the earlier Lemma 1 (single-chain witness) is not a valid sufficient condition in general.

- K=3 case: There are only two relevant sets containing c (C and {c,x}). A union bound over the 9 quantities {p_a(S)}_{a∈S} yields uniform deviation, and adding ε mass to the sample winner ĉ suffices with ε=2α.

- Adaptivity: For sample-run IRV, one can control all top-of-set frequencies uniformly by a union bound over K·2^{K−1} indicators; this is exponential computationally but only linear in K in the sample size via the log term.

- Two-phase certification idea: Use a holdout sample to compute B̃(c)=max_{S⊇{c}}(min_{a∈S\{c}} p̃_a(S)−p̃_c(S)). If B̃(c)≤ε/2 (and uniform deviation ≤ε/4), then c is an ε-winner. This avoids chain-dependence but may be computationally heavy.

- Lower bounds: K=2 needs m=Ω((1/ε^2)·log(1/δ)). A Fano construction suggests m=Ω((log K)/ε^2) for identifying a unique ε/4-winner among K candidates; to be formalized with explicit IRV distributions.

- Next steps: (i) Provide a minimal counterexample demonstrating failure of single-chain certificates for K≥4 (or a proof that extra conditions suffice). (ii) Finalize the K=3 theorem with corrected constants and full tie handling. (iii) Either analyze the one-phase algorithm via a uniform bound that implies ε-winning, or switch to a two-phase max-deficit certificate. (iv) Complete the Fano lower bound.


## Refinements and validations

- Single-chain certificates fail (explicit K=4 counterexample). Ballot types and weights:
  T1: c>a>d>b (0.34), T2: a>d>c>b (0.29), T3: d>c>a>b (0.34), T4: b>a>d>c (0.03). First round eliminates b; then on {a,c,d} eliminate a; final pair {c,d} with c losing 0.34 vs 0.66. Chain checks against b then a and the pair {c,a} all pass (even with ε=0), yet c does not win. Hence chain-only witnesses are unsound for K≥4.

- Uniform max-deficit certificate. Define B(c)=max_{S⊇{c}} (min_{a∈S\{c}} p_a(S) − p_c(S)). If B(c) < ε, then adding ε mass of c-first ballots makes c safe in every S and thus an ε-winner. If only B(c) ≤ ε, either assume the tie-breaking never eliminates c on equality or require a strict slack.

- Two-phase holdout certification. Phase 1: pick ĉ by running IRV on m1 samples. Phase 2: estimate all p_a(S) for S⊇{ĉ} and a∈S on an independent holdout of size m2. With Hoeffding + union bound over M = (K−1)·2^{K−2} (others) plus 2^{K−1} (ĉ) indicators, uniform deviation ≤ ε/4 holds if m2 ≥ (2/ε^2)·ln(2M/δ). If B̃(ĉ) ≤ ε/2 − ξ, then B(ĉ) ≤ ε − ξ and ĉ is an ε-winner. Threshold ε/2 without slack requires favorable tie-breaking on equality.

- K=3 with separation. If |p_a(C) − p_b(C)| ≥ γ and m ≥ (8/ε^2)·ln(18/δ) with γ ≥ ε/2 (so α ≤ ε/4 ≤ γ/2), then the sample more-popular opponent x̂ equals the true x*, and the sample winner ĉ is an ε-winner with probability ≥ 1−δ by verifying safety at C and a head-to-head win versus x*.

- Open directions: (i) Reduce the family of S needed for certification (are worst-case S IRV-reachable?). (ii) One-phase analysis via uniform deviations that imply B̂(ĉ) small. (iii) Complete the Fano Ω((log K)/ε^2) lower bound with an explicit IRV family.


### Additional observations and corrections

- Holdout constant correction: To ensure |p̃_a(S)−p_a(S)| ≤ ε/4 uniformly over M_c functions, Hoeffding yields m2 ≥ (8/ε^2)·ln(2M_c/δ). The earlier (2/ε^2) factor was incorrect by 4×.

- Non-monotonicity: For fixed c, f(S)=min_{a∈S\{c}} p_a(S)−p_c(S) need not be monotone in S; there exist S⊂T with f(S)<0<f(T). So pruning by subset/superset relations is invalid.

- Why K=3 is special: With candidates {a,b,c}, the first-round minimum at C coincides with c being below both opponents at C; and the final opponent is the larger of {a,b} at C, independent of c-first augmentation. This equivalence breaks for K≥4, where top-of-C and top-of-S can decouple.

- Exact K=3 augmentation (c-first): E_c = max{ [min{p_a(C),p_b(C)} − p_c(C)]_+ , [p_{x*}({c,x*}) − p_c({c,x*})]_+ }, x*=argmax_{a,b} p_a(C).

- Toward polynomial sample complexity: Rather than enumerating all S, analyze the statistical complexity of G={1[top_S(·)=a] : S⊇{a}, a∈C}. Each g_{S,a} is a monotone conjunction of pairwise comparisons on permutations. Bounding VC/pseudodimension of G (conjecturally O(K log K)) could yield O((K log K + log(1/δ))/ε^2) uniform deviation without the 2^K factor. This could enable a one-phase analysis or a more efficient holdout.

- Open tasks: (i) Prove VC/pseudo-dim bounds for G and translate to uniform deviations for B̃. (ii) Formalize an explicit Fano Ω((log K)/ε^2) lower bound. (iii) Explore whether worst-case S for f(S) are constrained to IRV-reachable sets under neighboring profiles to shrink the verification family.



=== Current Proofs ===

Preliminaries. Let C be the K candidates. For nonempty S⊆C and a∈S, let p_a(S)=Pr[top_S(ballot)=a], where top_S(x) is the highest-ranked candidate from S on ballot x. Adding ε fraction of c-first ballots increases p_c(S) by ε for every S⊇{c} and leaves p_a(S) for a≠c unchanged (we compare absolute tallies).

Lemma (Uniform certificate). Fix c∈C and define B(c)=max_{S⊇{c}} (min_{a∈S\{c}} p_a(S) − p_c(S)). If B(c) < ε, then c is an ε-winner. If B(c) ≤ ε and, whenever equality holds after adding ε, the tie-breaking rule does not eliminate c among tied minima, then c is an ε-winner.
Proof. After adding ε of c-first ballots, for any S⊇{c} we have p'_c(S)=p_c(S)+ε ≥ min_{a∈S\{c}} p_a(S) = min_{a∈S\{c}} p'_a(S). With strict inequalities (or favorable tie-breaking at equality), c is never eliminated and thus eventually wins IRV. ∎

Lemma A (Function counting for holdout). Fix ĉ. The number of distinct indicators g_{S,a}(x)=1[top_S(x)=a] required to evaluate B̃(ĉ) over all S⊇{ĉ} and a∈S equals
M_c = (K−1)·2^{K−2} + 2^{K−1} = 2^{K−2}(K+1).
Proof. The family of S containing ĉ has size 2^{K−1}. Summing |S\{ĉ}| over these S gives ∑_{t=1}^{K−1} t·C(K−1,t)=(K−1)2^{K−2}. Adding the 2^{K−1} functions for a=ĉ yields the claim. ∎

Theorem B (Holdout certificate ⇒ ε-winner, with strict slack). Fix ξ>0. Phase 1: draw m1 ballots, run IRV, and obtain ĉ. Phase 2: draw m2 fresh ballots and compute
B̃(ĉ) := max_{S⊇{ĉ}} [ min_{a∈S\{ĉ}} p̃_a(S) − p̃_{ĉ}(S) ],
where p̃ are empirical frequencies on the holdout. If
m2 ≥ (8/ε^2) · ln(2M_c/δ),  with M_c=2^{K−2}(K+1),
then with probability at least 1−δ, simultaneously |p̃_a(S)−p_a(S)| ≤ ε/4 for all required (S,a). On this event, if B̃(ĉ) ≤ ε/2 − ξ, then B(ĉ) ≤ ε − ξ and, by the uniform certificate, adding ε of ĉ-first ballots makes ĉ strictly safe in every S⊇{ĉ} by margin ≥ξ; thus ĉ wins IRV.
Proof. Hoeffding’s inequality and a union bound over M_c indicators yield the stated uniform deviation with the given m2. For any S, min_{a≠ĉ} p_a(S) − p_{ĉ}(S) ≤ [min_{a≠ĉ} p̃_a(S) − p̃_{ĉ}(S)] + ε/2, hence B(ĉ) ≤ B̃(ĉ)+ε/2. The strict slack gives the tie-free conclusion. ∎

Proposition C (K=3: exact c-first augmentation). Let C={c,a,b}. Define x*∈{a,b} by p_{x*}(C)=max{p_a(C),p_b(C)}. The minimal ε (restricted to adding c-first ballots) that makes c win IRV equals
E_c := max{ [min{p_a(C),p_b(C)} − p_c(C)]_+ , [p_{x*}({c,x*}) − p_c({c,x*})]_+ }.
Proof. Adding ε of c-first ballots increases p_c(S) by ε for S⊇{c} and leaves others unchanged. In round 1, c survives iff p_c(C)+ε ≥ min{p_a(C),p_b(C)}; then the eliminated candidate is the smaller of {a,b}, and the final opponent is x*. In the final pair {c,x*}, c wins iff p_c({c,x*})+ε ≥ p_{x*}({c,x*}). The minimal ε satisfying both is the stated maximum. ∎

Corollary D (K=3, separation-based guarantee for the natural algorithm). Let C={c,a,b} and suppose |p_a(C)−p_b(C)| ≥ γ. Draw m i.i.d. ballots, run IRV with the fixed tie-breaking rule on the sample, and let ĉ be the sample winner with sampled final opponent x̂. If m ≥ (8/ε^2)·ln(18/δ) and γ ≥ ε/2, then with probability at least 1−δ we have x̂=x* and |p̂_x(S)−p_x(S)| ≤ ε/4 for all S∈{C,{ĉ,x*}} and x∈S. Consequently, by Proposition C, E_{ĉ} ≤ ε and ĉ is an ε-winner.
Proof. Uniform Hoeffding over the 9 pairs (S,a) with S∈{C,{a,ĉ},{b,ĉ}} yields α=√(ln(18/δ)/(2m)) ≤ ε/4; the separation ensures x̂=x*. In the sample, ĉ is not the minimum at C and ĉ beats x̂; transferring to truth loses at most 2α in each inequality. Adding ε boosts ĉ’s margins to at least ε−2α ≥ ε/2, ensuring a strict win. ∎

Lower bound (K=2). Any algorithm that outputs an ε-winner with error probability at most δ requires m = Ω((1/ε^2)·log(1/δ)) samples in the worst case.
Proof sketch. Reduce to distinguishing Bernoulli means 1/2±ε/2 on m samples; Le Cam’s method gives the bound since TV between the product measures is e^{−Θ(mε^2)}. ∎



=== Current Output ===

Main results to date:

- Two-phase holdout certification (general K). Phase 1: run IRV on m1 samples to select ĉ. Phase 2: on an independent holdout of size m2 ≥ (8/ε^2)·ln(2M_c/δ) with M_c=2^{K−2}(K+1), compute B̃(ĉ)=max_{S⊇{ĉ}}(min_{a∈S\{ĉ}} p̃_a(S)−p̃_{ĉ}(S)). If B̃(ĉ) ≤ ε/2 − ξ (for any ξ>0), then with probability at least 1−δ, ĉ is an ε-winner.

- K=3: exact c-first augmentation formula. For C={c,a,b}, the minimal ε making c win via c-first augmentation is E_c = max{ [min{p_a(C),p_b(C)} − p_c(C)]_+ , [p_{x*}({c,x*}) − p_c({c,x*})]_+ }, where x*=argmax_{a,b} p_a(C).

- K=3 (natural algorithm, with separation). If |p_a(C)−p_b(C)| ≥ ε/2 and m ≥ (8/ε^2)·ln(18/δ), then with probability at least 1−δ the sample IRV winner ĉ is an ε-winner.

- Baseline lower bound (K=2). Any algorithm needs m = Ω((1/ε^2)·log(1/δ)).

Open: Tight guarantees for the one-phase natural algorithm when K≥4 without separation assumptions; reducing exponential dependence on 2^{K} in certification.