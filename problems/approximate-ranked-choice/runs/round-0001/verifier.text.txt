{
  "feedback_md": "Overall, both provers offered promising directions, but several rigor issues need fixing and some claims are overstated.\n\nKey corrections and auditing:\n- Prover 01’s Lemma 3 (conservative certificate) has a crucial typo: the deficit must compare against the minimum over other candidates in S. The correct deficit is min_{a∈S\\{c}} t_a(S) − t_c(S), not min over all a∈S (which is always ≤ t_c(S) and hence yields 0). Also, to be independent of tie-breaking, one needs strict separation (or use a tiny slack). With strict inequality ensured by adding an arbitrarily small extra mass (still ≤ ε when we keep a margin), the certificate is sound.\n- Prover 01’s LP for a fixed elimination order is a good formulation idea, but as stated it does not encode the fixed tie-breaking rule. Weak inequalities allow ties in which the fixed tie-breaker might eliminate someone other than π(j). This can often be cured by introducing an arbitrarily small slack to force strict inequalities or by encoding the lexicographic tie-break in the constraints; either way, these details must be made precise before this can go into output.md. The sensitivity bound is not yet derived, so this remains in notes.\n- Prover 02’s function f_c (identical in spirit to the corrected certificate of Prover 01) is a valid sufficient condition using only c-first added ballots. However, the claim of an exact characterization for K = 3 is not correct in general: allowing non–c-first added ballots can reduce the required total added mass compared to the c-first-only strategy by altering which opponent gets eliminated first. A concrete counterexample is given in the notes.\n- Sample complexity statements tied to the certificate are fine: estimating all top-within-S tallies uniformly within ±τ via Hoeffding + union bound over K·2^{K-1} events (for all S containing c and all a ∈ S) is standard. The induced Lipschitz bound for the plug-in estimator of the certificate value is ≤ 2τ.\n- Lower bounds: the Ω((1/ε^2) log(1/δ)) bound via K = 2 is correct and should be included. The conjectured Ω(K/ε^2) (Prover 01) and Ω((log K)/ε^2) (Prover 02) bounds need construction/proofs and stay in notes.\n\nWhat to keep vs. defer:\n- Keep: The uniformly convergent estimators for t_a(S); the corrected c-first certificate (sufficient condition) and its sample-complexity guarantee; the basic lower bound from K = 2.\n- Defer to notes: LP-based exact characterization and sensitivity; any claim of exactness for K ≥ 3 based solely on c-first ballots; K-dependent lower bounds.\n\nConcrete next steps:\n1) Formalize the dual of the LP for a fixed elimination order with precise handling of tie-breaking, and derive an explicit Lipschitz/sensitivity constant in terms of K (aim for O(K)).\n2) For K = 3, characterize the true minimal augmentation by allowing mixtures of added ballot types. Provide a closed-form minimum over two strategies: (i) survivability + pairwise vs the eventual opponent (c-first only), and (ii) eliminating the disfavored opponent first by boosting both c and the other opponent’s first-place tallies, while preserving c’s pairwise win in the final.\n3) Investigate whether the worst-case S attaining the c-first certificate necessarily has |S| ≤ r for small r; if yes, this would reduce exponential dependence.\n4) Develop explicit lower-bound constructions in K (packing/Fano) to distinguish many profiles encoding different ε-winner identities via near-independent top-of-S events.\n5) If time permits, implement a two-tier algorithm: run the certifier; if it abstains, solve the LP for a small set of promising orders inferred from the sample, with confidence intervals propagated via LP sensitivity.\n",
  "summary_md": "",
  "verdict": "partial success",
  "blocking_issues": [
    "LP constraints do not yet encode fixed tie-breaking; sensitivity bound missing.",
    "Prover 02's K=3 'exact formula' is incorrect; needs correction (provide counterexample and proper characterization).",
    "Exponential dependence on 2^K in the certifier remains; no structural reduction yet."
  ],
  "per_prover": [
    {
      "prover_id": "01",
      "brief_feedback": "Good LP reduction idea and uniform convergence plan. Fix the certificate: it must use min over a ∈ S \\ {c}. Address tie-breaking rigor in the LP (enforce strict inequalities or encode lexicographic rule). Derive an explicit sensitivity bound for the LP optimum in terms of sup perturbations of t_a(S).",
      "score": "promising"
    },
    {
      "prover_id": "02",
      "brief_feedback": "Your f_c certificate is a solid sufficient condition, but the claim of exactness for K=3 is false in general: mixtures of added ballots can change which opponent is eliminated first and reduce the needed mass below the c-first threshold. Please revise, include a correct counterexample-aware statement, and aim for a full characterization allowing mixed additions.",
      "score": "uncertain"
    }
  ],
  "notes_update": {
    "mode": "append",
    "content_md": "# Corrected certificate and counterexample for K = 3\n\nNotation: For a candidate set C with |C| = K and any nonempty S ⊆ C with c ∈ S and |S| ≥ 2, define t_a(S) = Pr[top among S is a] under the population distribution P over full rankings.\n\nCorrected c-first certificate: Define\n\nM_c(P) := max_{S ⊆ C, c ∈ S, |S| ≥ 2} [ min_{a ∈ S \\ {c}} t_a(S) − t_c(S) ]_+.\n\nIf ε > M_c(P), then adding ε' (with 0 < ε' ≤ ε) mass of c-first ballots ensures that in every subset S encountered along any IRV elimination path, c's tally strictly exceeds the minimum among S \\ {c}, so c cannot be eliminated and is the eventual winner. This yields a sound, distribution-free sufficient condition. Note the strict inequality requirement; in algorithmic use we maintain a margin so that ε' < ε and ties do not involve c.\n\nUniform estimation: The family {1[top_S(r) = a]} over all (a, S) has size K · 2^{K-1}. Hoeffding + union bound gives uniform estimation of all t_a(S) within ±τ using m = O((log(K · 2^{K-1}) + log(1/δ))/τ^2) samples. The plug-in estimate \\hat M_c satisfies |\\hat M_c − M_c| ≤ 2τ.\n\nCounterexample to \"K = 3 exactness\" of c-first certificate: Let first-place shares be a = 0.38, b = 0.35, c = 0.27. Suppose c beats b head-to-head by margin m = 0.10 but loses to a by margin 0.20. The c-first certificate f_c requires ε ≥ max{0.35 − 0.27, 0.20, 0} = 0.20. However, adding α = 0.11 of c-first ballots and β = 0.03 of b-first ballots yields new first-place tallies c' = 0.38, b' = 0.38, a' = 0.38 (with tiny extra slack to make a uniquely minimal). Then a is eliminated first; in the final, the c vs b margin is m + α − β = 0.10 + 0.11 − 0.03 = 0.18 > 0, so c wins. Total added mass ≈ 0.14 < 0.20. Thus, for K = 3, the minimal augmentation need not equal the c-first-only threshold. A full characterization must allow mixed additions.\n\nLP approach (status and caveats): For a fixed elimination order π, the condition that π(j) is eliminated at round j can be written linearly in terms of the baseline tallies t_a(S_j) and the additive contributions of the added mass y(r) via indicators 1[top_{S_j}(r) = a]. This leads to a linear program minimizing total added mass. To be rigorous one must encode the fixed tie-breaking rule (e.g., by strict inequalities or lexicographic tie constraints). Sensitivity of the LP optimum to perturbations in the t_a(S) (estimated from samples) is the key technical step for a polynomial-in-K sample bound using this approach; deriving an explicit O(poly(K)) Lipschitz constant remains open.\n\nLower bounds: The Ω((1/ε^2) log(1/δ)) dependence is necessary even for K = 2 (majority). Stronger K-dependent lower bounds (Ω((log K)/ε^2) or Ω(K/ε^2)) are plausible but require explicit constructions.\n\nNext steps summary:\n- Formalize LP with tie-breaking and derive sensitivity bounds.\n- Provide a correct, closed-form minimal-augmentation characterization for K = 3 allowing mixed additions (compare two strategies: avoid facing a losing opponent by flipping the first-round loser vs. directly fixing the head-to-head deficit).\n- Explore whether the worst-case S for the c-first certificate can be restricted by |S| ≤ r for a constant r.\n- Build K-dependent lower bounds via Fano/packing constructions over top-of-S events.\n"
  },
  "output_update": {
    "mode": "append",
    "content_md": "# Theorems and results relevant to sampling ε-winners under IRV\n\nWe work with a candidate set C of size K. For any nonempty S ⊆ C and a ∈ S, let t_a(S) = Pr[top among S is a] under the population distribution P over full rankings. When we add a nonnegative measure y on rankings with total mass ||y||_1 ≤ ε, the tallies update additively: for each S and a ∈ S,\n\n t'_a(S) = t_a(S) + ∑_{r} y(r) 1[top_S(r) = a].\n\nWe assume ties in IRV are broken by a fixed deterministic rule, but we will enforce strict separations so that tie-breaking is irrelevant for our sufficient conditions.\n\nTheorem 1 (Uniform convergence of top-of-S tallies).\nLet F = {f_{a,S}(r) := 1[top_S(r) = a] : a ∈ S ⊆ C, |S| ≥ 1}. For m i.i.d. sampled ballots and any δ ∈ (0,1), with probability at least 1 − δ,\n\n sup_{a,S} |\\hat t_a(S) − t_a(S)| ≤ τ\n\nwhenever m ≥ c (log(K · 2^{K-1}) + log(2/δ)) / τ^2 for a universal constant c.\n\nProof.\nThere are at most K · 2^{K-1} indicator functions f_{a,S}. Hoeffding’s inequality plus a union bound gives the claim.\n\nTheorem 2 (Sufficient certificate via c-first additions).\nFix c ∈ C and define\n\n f_c(P) := max_{S ⊆ C, c ∈ S, |S| ≥ 2} [ min_{a ∈ S \\ {c}} t_a(S) − t_c(S) ]_+.\n\nIf ε > f_c(P), then c is an ε-winner. In particular, adding any ε' with f_c(P) < ε' ≤ ε of c-first ballots (with arbitrary completion below c) makes c the IRV winner under the augmented profile.\n\nProof.\nAdding ε' c-first ballots increases t_c(S) by ε' for every S with c ∈ S and leaves t_a(S) for a ≠ c unchanged. By the choice ε' > f_c(P), for each such S we have t'_c(S) = t_c(S) + ε' > min_{a∈S\\{c}} t_a(S). Therefore, at any round in which the remaining set is S, c’s tally strictly exceeds the minimum among other candidates in S and hence c cannot be eliminated. Since some candidate is eliminated in every round, c survives all rounds and is the unique remaining candidate; thus c wins. Because the inequalities are strict, the fixed tie-breaking rule is irrelevant.\n\nCorollary 3 (Sound certifier and its sample complexity).\nLet τ > 0, and suppose m satisfies Theorem 1 so that with probability ≥ 1 − δ we have sup_{a,S} |\\hat t_a(S) − t_a(S)| ≤ τ. Define the plug-in estimator\n\n \\hat f_c := max_{S ⊆ C, c ∈ S, |S| ≥ 2} [ min_{a ∈ S \\ {c}} \\hat t_a(S) − \\hat t_c(S) ]_+.\n\nThen |\\hat f_c − f_c(P)| ≤ 2τ for all c. Consequently, the following procedure is a sound certifier: compute \\hat f_c for all c and output any c with \\hat f_c ≤ ε − 2τ. With probability at least 1 − δ, every output c satisfies f_c(P) ≤ ε, and hence (by Theorem 2) is an ε-winner.\n\nIn particular, choosing τ = ε/4 and m = Θ((log(K · 2^{K-1}) + log(1/δ)) / ε^2) suffices for correctness with probability ≥ 1 − δ.\n\nProof.\nFor each fixed S containing c, the map (\\{t_a(S)\\}_{a∈S}) ↦ min_{a∈S\\{c}} t_a(S) − t_c(S) is 2-Lipschitz in the sup norm (the minimum over a ≠ c perturbs by at most τ, and t_c by at most τ). Taking positive part and a maximum over S preserves Lipschitzness, giving |\\hat f_c − f_c| ≤ 2τ. The rest follows from Theorem 2.\n\nProposition 4 (Necessary dependence on ε and δ).\nAny algorithm that, with probability at least 1 − δ, outputs an ε-winner from m samples must have m = Ω((1/ε^2) log(1/δ)).\n\nProof.\nFor K = 2, IRV reduces to a two-candidate majority. Determining whether a given candidate is an ε-winner requires distinguishing whether their head-to-head share is ≥ 1/2 − ε versus ≤ 1/2 − 2ε, which is standard Bernoulli mean testing and requires Ω((1/ε^2) log(1/δ)) samples by classical information-theoretic or concentration lower bounds.\n\nRemarks and scope.\n- The certifier in Theorem 2 is sufficient but not necessary in general (and, in particular, is not exact for K = 3). It uses only c-first additions and enforces non-elimination of c in every potential round, which can be conservative.\n- An exact minimal-augmentation characterization for a fixed elimination order can be expressed via a linear program over the added-ballot distribution; making this rigorous with a fixed tie-breaking rule and deriving a stability bound in terms of estimation error in the t_a(S) are promising next steps.\n"
  }
}