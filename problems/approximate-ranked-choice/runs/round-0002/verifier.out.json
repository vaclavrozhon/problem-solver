{
  "feedback_md": "Overall, there is substantial progress, especially on the K = 3 case. However, a few rigor and correctness issues must be addressed before incorporating everything into output.md.\n\n1) LP formulation and sensitivity.\n- Prover 01: The stated dual in Lemma 1 is incorrect. There is no dual variable \u03bb_{j,\u03c0(j)}; the correct dual constraint for each ranking r is \u2211_{j}\u2211_{a\u2260\u03c0(j)} \u03bb_{j,a} (1[top_{S_j}(r)=a] \u2212 1[top_{S_j}(r)=\u03c0(j)]) \u2264 1 with \u03bb \u2265 0, and the dual objective is \u2211_{j,a} \u03bb_{j,a}\u00b7(\u03b3 \u2212 (t_a(S_j) \u2212 t_{\u03c0(j)}(S_j))) if we move the baseline tallies to the RHS with slack \u03b3 > 0. Prover 02\u2019s dual matches this standard form.\n- Prover 01: Lemma 2\u2019s M = K(K\u22121)/2 Lipschitz/sensitivity bound obtained by fixing constraints independently (adding \u03c4 mass per constraint) is not valid. Adding mass for one constraint can decrease other constraints\u2019 LHS when the added ranking tops the round-j\u2032 loser \u03c0(j\u2032). The claimed \u201cwithout decreasing any other\u201d feature does not generally hold. A valid route is the dual-norm sensitivity: |v(b+\u0394) \u2212 v(b)| \u2264 (sup_{\u03bb\u2208\u039b} ||\u03bb||_1) ||\u0394||_\u221e. Establishing a poly(K) bound for sup ||\u03bb||_1 remains the key open step. For K = 3, this constant is small (\u2264 2) under the two-variable reduction.\n\n2) K = 3 exact minimal augmentation.\n- Prover 01\u2019s Proposition 3 gives a correct closed form for the strategy \u201celiminate a first\u201d (and symmetrically for \u201celiminate b first\u201d) and matches the counterexample. However, the proof sketch needs a rigorous dominance argument excluding a-first ballots and a clean handling of tie-breaking via a small slack \u03b3 > 0.\n- Prover 02 provides precisely these missing pieces: a two-type reduction with \u03b3-slack, the linear constraints \u03b1 \u2265 A, \u03b2 \u2265 B, and \u03b1 \u2212 \u03b2 \u2265 D, and the exact optimum \u03b1 + \u03b2 = B + max{A, B + D}. The dominance argument that a-first ballots are never optimal is sound: if an a-first ballot ranks c\u227bb, it is dominated by a c-first ballot; if it ranks b\u227bc, it is dominated by a b-first ballot. This yields an exact formula for each targeted first elimination, hence the global minimum for c is min{\u03b5_a^*, \u03b5_b^*}.\n- Prover 02\u2019s corollary includes \u03b5_A (the c-first certificate specialized to K = 3) inside a minimum with \u03b5_a^*, \u03b5_b^*. This is redundant: any c-wins path must eliminate either a or b first, and \u03b5_a^*, \u03b5_b^* are exact for those two possibilities. Moreover, one can check \u03b5_A \u2265 min{\u03b5_a^*, \u03b5_b^*}, so min{\u03b5_A, \u03b5_a^*, \u03b5_b^*} = min{\u03b5_a^*, \u03b5_b^*}. Including \u03b5_A is harmless but unnecessary.\n\n3) Sampling complexity for K = 3.\n- Both provers converge on the key point: one needs only five numbers (the three first-round shares and two pairwise tallies) to evaluate \u03b5^*(P;c) for K = 3. Thus a Hoeffding + union bound with m = \u0398((log(1/\u03b4))/\u03b5^2) suffices. A coarse Lipschitz bound of \u2264 6 for the plug-in map is fine; any constant works with appropriate safety margin.\n\nAction items for the next round:\n- We will add to output.md a rigorous K = 3 theorem with \u03b3-slack, the two-type reduction, the exact formulas \u03b5_a^*(\u03b3), \u03b5_b^*(\u03b3), and the limit as \u03b3\u21920^+. Include the sampling corollary specialized to K = 3.\n- Keep the general c-first certificate and uniform convergence results already in output.md (they are correct and broadly applicable), but do not add Prover 01\u2019s Lemma 2; instead, add the correct primal/dual LP statement to notes and mark the sensitivity bound as open (per Prover 02).\n- Next steps: (i) attempt to bound sup_{\u03bb\u2208\u039b} ||\u03bb||_1 by poly(K), starting with structured dual constructions; (ii) explore whether a few-type reduction extends to K = 4 for targeted first eliminations; (iii) develop K-dependent lower bounds via packing over triplet/top-of-S events.",
  "summary_md": "",
  "verdict": "partial success",
  "blocking_issues": [
    "Prover 01\u2019s dual LP is incorrectly written.",
    "Prover 01\u2019s coarse sensitivity bound (M\u03c4) is invalid; per-constraint independent fixes can decrease other constraints.",
    "General-K LP sensitivity (sup ||\u03bb||_1 bound) remains open; we cannot yet state a polynomial sample bound for fixed \u03c0 in output.md."
  ],
  "per_prover": [
    {
      "prover_id": "01",
      "brief_feedback": "Good progress on the K = 3 closed form and on formulating the LP, but the dual is misstated and the M\u03c4 sensitivity lemma is incorrect. Please switch to the dual-norm approach for sensitivity and avoid per-constraint additive fixes. Your K = 3 formula matches the counterexample; add a formal dominance proof excluding a-first ballots and include a small \u03b3 > 0 slack.",
      "score": "promising"
    },
    {
      "prover_id": "02",
      "brief_feedback": "Excellent two-type reduction with \u03b3-slack for K = 3; the dominance argument is sound and yields an exact formula. The LP dual is correctly stated; next, try to bound sup ||\u03bb||_1 for general K or provide a controlled approximate scheme. The corollary\u2019s inclusion of \u03b5_A is redundant, but harmless.",
      "score": "promising"
    }
  ],
  "notes_update": {
    "mode": "append",
    "content_md": "## K = 3: exact minimal augmentation via two-type reduction\n\nLet C = {a,b,c} and fix target winner c. Denote first-round shares p_x := t_x({a,b,c}) and pairwise shares t_x({b,c}), t_x({a,c}). To remove dependence on tie-breaking, introduce a slack \u03b3 > 0 and require strict separations in all inequalities.\n\nTargeting elimination of a in round 1 and a c vs b final, it suffices to consider only two added ballot types: c-first (amount \u03b1 \u2265 0) and b-first (amount \u03b2 \u2265 0). These induce the linear constraints\n- First round: p_a + 0 \u2264 p_b + \u03b2 \u2212 \u03b3 and p_a + 0 \u2264 p_c + \u03b1 \u2212 \u03b3, i.e.,\n  \u03b2 \u2265 B_\u03b3 := [p_a \u2212 p_b + \u03b3]_+ and \u03b1 \u2265 A_\u03b3 := [p_a \u2212 p_c + \u03b3]_+.\n- Final: t'_c({b,c}) \u2265 t'_b({b,c}) + \u03b3, i.e., \u03b1 \u2212 \u03b2 \u2265 D_\u03b3 := t_b({b,c}) \u2212 t_c({b,c}) + \u03b3.\nThe minimum total mass is then\n  \u03b5_a^*(\u03b3) = min_{\u03b1,\u03b2\u22650} {\u03b1+\u03b2 : \u03b1 \u2265 A_\u03b3, \u03b2 \u2265 B_\u03b3, \u03b1 \u2212 \u03b2 \u2265 D_\u03b3} = B_\u03b3 + max{A_\u03b3, B_\u03b3 + D_\u03b3}.\nBy a dominance argument, a-first additions are never optimal for this targeted strategy: if an a-first ballot ranks c \u227b b, it is dominated by a c-first ballot (strictly improves both elimination inequalities and matches the bc margin); if it ranks b \u227b c, it is dominated by a b-first ballot (improves the relevant elimination inequality and matches the bc margin). The symmetric expression \u03b5_b^*(\u03b3) is obtained by swapping a and b. The exact minimal augmentation to make c win is\n  \u03b5^*(\u03b3; c) = min{\u03b5_a^*(\u03b3), \u03b5_b^*(\u03b3)}, and \u03b5^*(c) = lim_{\u03b3\u21920^+} \u03b5^*(\u03b3; c).\nThis matches the counterexample in the notes (a=0.38, b=0.35, c=0.27 with c beating b head-to-head): A_0=0.11, B_0=0.03, D_0=\u22120.10, hence \u03b5_a^*(0) = 0.03 + max{0.11, \u22120.07} = 0.14.\n\nSampling for K = 3: Computing \u03b5^*(\u03b3; c) requires only five tallies: p_a, p_b, p_c, t_c({b,c}), t_c({a,c}). A Hoeffding + union bound over these five quantities gives m = \u0398((log(1/\u03b4))/\u03b5^2) samples to decide whether \u03b5^*(c) \u2264 \u03b5 with probability \u2265 1 \u2212 \u03b4.\n\n## LP approach: primal/dual and sensitivity status (general K)\n\nFor a fixed elimination order \u03c0 with remaining sets S_j = {\u03c0(j),...,\u03c0(K)}, add slack \u03b3 > 0 and consider variables y(r) \u2265 0 over rankings r. The primal is\n- Minimize \u2225y\u2225_1 subject to, for each j and a \u2208 S_j \\ {\u03c0(j)}:\n  (t_a(S_j) \u2212 t_{\u03c0(j)}(S_j)) + \u2211_r y(r)(1[top_{S_j}(r)=a] \u2212 1[top_{S_j}(r)=\u03c0(j)]) \u2265 \u03b3.\nMoving baseline tallies to the RHS gives constraints Ay \u2265 b, with b_{j,a} = \u03b3 \u2212 (t_a(S_j) \u2212 t_{\u03c0(j)}(S_j)). The dual is\n- Maximize \u2211_{j}\u2211_{a\u2260\u03c0(j)} \u03bb_{j,a}\u00b7(\u03b3 \u2212 (t_a(S_j) \u2212 t_{\u03c0(j)}(S_j))) subject to, for every ranking r,\n  \u2211_{j}\u2211_{a\u2260\u03c0(j)} \u03bb_{j,a}(1[top_{S_j}(r)=a] \u2212 1[top_{S_j}(r)=\u03c0(j)]) \u2264 1, and \u03bb \u2265 0.\nSensitivity: v(b) = max_{\u03bb\u2208\u039b} b^T \u03bb is 1-Lipschitz in the dual norm: |v(b+\u0394) \u2212 v(b)| \u2264 (sup_{\u03bb\u2208\u039b} \u2225\u03bb\u2225_1) \u2225\u0394\u2225_\u221e. Bounding R_K := sup_{\u03bb\u2208\u039b} \u2225\u03bb\u2225_1 by poly(K) would yield a polynomial-in-K sample bound for certifying a fixed \u03c0. For K = 3, the two-type reduction collapses \u039b to two variables, giving R_3 \u2264 2. For general K, obtaining a good bound on R_K remains open; the per-constraint additive mass approach is invalid because a single added ranking can decrease other constraints when it tops the round-j loser.\n\n## Checklist / next steps\n- Formalize the K = 3 theorem and sampling corollary in output.md.\n- Keep general c-first certifier and uniform convergence in output.md; use the K = 3 exact result when K = 3.\n- Pursue a dual-based sensitivity bound sup_{\u03bb\u2208\u039b} \u2225\u03bb\u2225_1 = poly(K) or an approximate scheme with provable stability.\n- Investigate few-type reductions for K \u2265 4 when targeting specific first eliminations."
  },
  "output_update": {
    "mode": "append",
    "content_md": "Theorem 5 (K = 3: exact minimal augmentation to make a target c win under IRV).\nLet C = {a,b,c} and fix a target winner c. Write first-round shares p_x := t_x({a,b,c}) for x \u2208 {a,b,c}, and pairwise tallies t_x({b,c}) and t_x({a,c}). Fix a deterministic tie-breaking rule and introduce a slack parameter \u03b3 > 0 to enforce strict separations so that tie-breaking is irrelevant.\n\nDefine, for the strategy that eliminates a in round 1 and then pits c against b in the final,\n- A_\u03b3 := [p_a \u2212 p_c + \u03b3]_+,\n- B_\u03b3 := [p_a \u2212 p_b + \u03b3]_+,\n- D_\u03b3 := t_b({b,c}) \u2212 t_c({b,c}) + \u03b3.\nLet \u03b5_a^*(\u03b3) be the minimum total mass of added ballots required to realize this strategy. Then\n  \u03b5_a^*(\u03b3) = B_\u03b3 + max{A_\u03b3, B_\u03b3 + D_\u03b3}.\nSymmetrically, for the strategy that eliminates b first and then pits c against a, with\n- A'_\u03b3 := [p_b \u2212 p_c + \u03b3]_+,\n- B'_\u03b3 := [p_b \u2212 p_a + \u03b3]_+,\n- D'_\u03b3 := t_a({a,c}) \u2212 t_c({a,c}) + \u03b3,\nwe have\n  \u03b5_b^*(\u03b3) = B'_\u03b3 + max{A'_\u03b3, B'_\u03b3 + D'_\u03b3}.\nConsequently, the exact minimal total added mass to make c the IRV winner with strict margins \u03b3 is\n  \u03b5^*(\u03b3; c) = min{\u03b5_a^*(\u03b3), \u03b5_b^*(\u03b3)},\nand the exact minimal augmentation without slack is \u03b5^*(c) = lim_{\u03b3\u21920^+} \u03b5^*(\u03b3; c).\n\nProof.\nConsider the strategy targeting a\u2019s elimination in round 1 and a final between c and b. It suffices to consider added ballots of only two types: c-first ballots (total mass \u03b1 \u2265 0) and b-first ballots (total mass \u03b2 \u2265 0). Indeed, any added a-first ballot either ranks c \u227b b, in which case a c-first ballot strictly improves both first-round inequalities (it raises p_c and leaves p_b unchanged while an a-first raises p_a) and matches the bc final margin; or it ranks b \u227b c, in which case a b-first ballot strictly improves the relevant first-round inequality (it raises p_b while an a-first raises p_a) and matches the bc final margin. Thus a-first ballots are strictly dominated and never appear in an optimal solution.\nUnder \u03b1 and \u03b2, the first-round tallies become p'_a = p_a, p'_b = p_b + \u03b2, and p'_c = p_c + \u03b1. Enforcing that a is strictly below both b and c in round 1 yields \u03b1 \u2265 A_\u03b3 and \u03b2 \u2265 B_\u03b3. In the final between b and c, each added c-first ballot contributes 1 to t'_c({b,c}) and each added b-first ballot contributes 1 to t'_b({b,c}); hence t'_c({b,c}) \u2212 t'_b({b,c}) = (t_c({b,c}) \u2212 t_b({b,c})) + (\u03b1 \u2212 \u03b2). The strict final-round win requires \u03b1 \u2212 \u03b2 \u2265 D_\u03b3. Therefore the feasible region is exactly\n  { (\u03b1,\u03b2) \u2208 R_+^2 : \u03b1 \u2265 A_\u03b3, \u03b2 \u2265 B_\u03b3, \u03b1 \u2212 \u03b2 \u2265 D_\u03b3 }.\nMinimizing \u03b1 + \u03b2 over this polyhedron is achieved at \u03b2 = B_\u03b3 and \u03b1 = max{A_\u03b3, B_\u03b3 + D_\u03b3}, yielding \u03b5_a^*(\u03b3) = B_\u03b3 + max{A_\u03b3, B_\u03b3 + D_\u03b3}. The expression for \u03b5_b^*(\u03b3) follows symmetrically. Any winning IRV run with three candidates must eliminate either a or b in the first round and then elect c in the final; hence the minimal total added mass is the minimum of the two strategy optima. Finally, sending \u03b3 \u2192 0^+ gives \u03b5^*(c).\n\nCorollary 6 (Sampling complexity for K = 3 exact certifier).\nFix \u03b5, \u03b4 \u2208 (0,1). Let \\hat p_x, \\widehat{t}_x({b,c}), \\widehat{t}_x({a,c}) be empirical estimates of p_x and the pairwise tallies from m i.i.d. ballots. There exists a universal constant c such that if\n  m \u2265 c \u00b7 (log(5/\u03b4)) / \u03c4^2,\nthen with probability at least 1 \u2212 \u03b4 we have sup error \u2264 \u03c4 simultaneously for the five quantities {p_a, p_b, p_c, t_c({b,c}), t_c({a,c})}. The maps (p_a,p_b,p_c,t_c({b,c}),t_c({a,c})) \u21a6 \u03b5_a^*(\u03b3), \u03b5_b^*(\u03b3), and \u03b5^*(\u03b3; c) are Lipschitz with a universal constant (e.g., \u2264 6) under the sup norm. Consequently, the plug-in decision \u201cdeclare c an \u03b5-winner if \\min{\\widehat{\u03b5}_a^*(\u03b3), \\widehat{\u03b5}_b^*(\u03b3)} \u2264 \u03b5 \u2212 2L\u03c4\u201d is correct with probability at least 1 \u2212 \u03b4, where L is a Lipschitz constant (e.g., L = 6). Choosing \u03c4 = \u0398(\u03b5) yields m = \u0398((log(1/\u03b4))/\u03b5^2).\n\nRemarks.\n- This exact characterization for K = 3 strictly improves the c-first sufficient certificate (Theorem 2) and matches the counterexample in the notes.\n- For general K, an exact minimal-augmentation characterization for a fixed elimination order can be written as a linear program. A dual-based sensitivity analysis suggests that a polynomial-in-K sample bound per fixed order will follow from a poly(K) bound on sup_{\u03bb\u2208\u039b} \u2225\u03bb\u2225_1 over the dual feasible region; establishing such a bound remains open."
  }
}