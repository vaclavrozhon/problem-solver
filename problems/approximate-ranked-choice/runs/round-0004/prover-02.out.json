{
  "content": "Ideas\n- Prove a general-K \u201cchain-based two-type\u201d sufficient certificate formally, including a clean dominance/cleanup argument and the exact minimizer \u03b1+\u03b2 = B + max{A, B + D} for that chain. Why useful: gives an efficiently checkable sufficient condition using O(K) subset tallies and matches the K=3 exact formula when K=3.\n- Provide a sampling theorem for the chain-certificate under a verifiable chain-stability margin condition, using only O(K^2) quantities and Hoeffding bounds.\n- Record a special-case exactness result for K \u2265 4 under a strong \u201cmonotone minimality\u201d hypothesis along the chain.\n- Avoid the incorrect fixed-order dual-norm bound; instead, state a concrete obstruction and outline directions for bounding the dual norm or using repair arguments in restricted settings.\n\nTheorem A (Chain-based two-type sufficient certificate; general K).\nFix target c and pivot b \u2260 c. Let S_1 := C and, for j = 1,\u2026,K\u22122, define e_j := argmin_{e\u2208S_j\\{b,c}} t_e(S_j) with the election\u2019s deterministic tie-breaking, and S_{j+1} := S_j\\{e_j}. Define\nA_b(\u03b3) := max_{1\u2264j\u2264K\u22122} [t_{e_j}(S_j) \u2212 t_c(S_j) + \u03b3]_+,\nB_b(\u03b3) := max_{1\u2264j\u2264K\u22122} [t_{e_j}(S_j) \u2212 t_b(S_j) + \u03b3]_+,\nD_{b,c}(\u03b3) := t_b({b,c}) \u2212 t_c({b,c}) + \u03b3.\nIf we add \u03b1 \u2265 0 c-first and \u03b2 \u2265 0 b-first ballots with\n\u03b1 \u2265 A_b(\u03b3), \u03b2 \u2265 B_b(\u03b3), \u03b1 \u2212 \u03b2 \u2265 D_{b,c}(\u03b3),\nthen the IRV process eliminates e_1,\u2026,e_{K\u22122} in order, followed by a strict c-over-b final; hence c wins. Moreover, among augmentations restricted to only these two types, the minimal mass is \u03b5_spine(b;\u03b3) = B_b(\u03b3) + max{A_b(\u03b3), B_b(\u03b3) + D_{b,c}(\u03b3)}.\n\nProof.\nEffect of c-first and b-first on tallies: For any S containing c (resp. b), adding \u03b1 c-first (resp. \u03b2 b-first) increases t_c(S) (resp. t_b(S)) by \u03b1 (resp. \u03b2) and leaves all other t_x(S) unchanged. In particular, for each j, t'_{e_j}(S_j) = t_{e_j}(S_j), t'_c(S_j) = t_c(S_j) + \u03b1, and t'_b(S_j) = t_b(S_j) + \u03b2.\n- Chain eliminations: For each j and x \u2208 S_j\\{e_j}, baseline has t_{e_j}(S_j) \u2264 t_x(S_j). For x \u2208 S_j\\{b,c}, both sides are unchanged by the augmentation, preserving strict inequalities once we enforce slack \u03b3. For x = b,c, the constraints \u03b1 \u2265 A_b(\u03b3) and \u03b2 \u2265 B_b(\u03b3) ensure t'_{e_j}(S_j) \u2264 min{t'_b(S_j), t'_c(S_j)} \u2212 \u03b3. Hence, e_j remains the unique minimum of S_j and is eliminated (the strict margin removes tie-breaking dependence). Inductively, the chain S_1 \u228b S_2 \u228b \u22ef \u228b S_{K\u22121} is realized.\n- Final: In S_{K\u22121} = {b,c}, each added c-first (resp. b-first) ballot contributes +1 to t'_c \u2212 t'_b (resp. \u22121). The condition \u03b1 \u2212 \u03b2 \u2265 D_{b,c}(\u03b3) ensures t'_c({b,c}) \u2265 t'_b({b,c}) + \u03b3, so c defeats b strictly.\n- Optimality with two types: The feasible region for (\u03b1,\u03b2) is \n{(\u03b1,\u03b2) \u2208 R_+^2 : \u03b1 \u2265 A_b(\u03b3), \u03b2 \u2265 B_b(\u03b3), \u03b1 \u2212 \u03b2 \u2265 D_{b,c}(\u03b3)}.\nMinimizing \u03b1+\u03b2 over this polyhedron is attained at \u03b2 = B_b(\u03b3), \u03b1 = max{A_b(\u03b3), B_b(\u03b3) + D_{b,c}(\u03b3)}, giving \u03b5_spine(b;\u03b3).\n\nCleanup lemma (dominance of two-type ballots for this chain).\nLet y be any feasible augmentation realizing the chain e_1,\u2026,e_{K\u22122} and a c-over-b final with strict slack \u03b3. Then there exists another augmentation y\u2032 of no larger mass supported only on c-first and b-first ballots that also realizes the chain and the final.\n\nProof.\nPartition ballots r by their top among each S_j. If for some j, top_{S_j}(r) = e_j, then r increases t_{e_j}(S_j), pushing against feasibility; deleting such mass can only help the chain constraints. Let r be any remaining ballot. Its contribution to the final margin depends only on top_{\\{b,c\\}}(r). Replace r by an equal mass of c-first ballots if top_{\\{b,c\\}}(r) = c and b-first ballots if it equals b. For every S_j, the replacement affects t_b(S_j) and t_c(S_j) exactly as r does or improves them (since c-first raises only t_c and b-first raises only t_b, never raising any t_{e_j}); thus the chain constraints are preserved or slackened. The final margin is preserved by construction. Iterating over r yields a two-type augmentation with no larger total mass.\n\nCorollary A1 (K=3 exactness as a special case).\nWhen K = 3 and b is the sole opponent besides c, the chain has one element (the unique e_1), and \u03b5_spine(b;\u03b3) equals\nB_\u03b3 + max{A_\u03b3, B_\u03b3 + D_\u03b3}, with A_\u03b3 = [p_a \u2212 p_c + \u03b3]_+, B_\u03b3 = [p_a \u2212 p_b + \u03b3]_+, D_\u03b3 = t_b({b,c}) \u2212 t_c({b,c}) + \u03b3, reproducing the exact formula \u03b5^*(\u03b3;c) = min_b \u03b5_spine(b;\u03b3) and \u03b5^*(c) = lim_{\u03b3\u21920^+} \u03b5^*(\u03b3;c).\n\nTheorem B (Sampling for the chain certificate under stability).\nFix b and \u03b3 > 0. Let the true chain be S_1^*,\u2026,S_{K\u22121}^* with minima e_j^*. Define the empirical chain \\hat S_1,\u2026,\\hat S_{K\u22121} with minima \\hat e_j by replacing t with \\hat t (ties broken by the same rule). Let the empirical gaps\n\\hat g_j := min_{x\u2208\\hat S_j\\{\\hat e_j}} \\hat t_x(\\hat S_j) \u2212 \\hat t_{\\hat e_j}(\\hat S_j).\nSuppose m samples yield sup-norm error \u2264 \u03c4 simultaneously for all quantities \\hat t_x(S) that we evaluate below. If \\hat g_j \u2265 4\u03c4 for all j, then S_j^* = \\hat S_j and e_j^* = \\hat e_j for all j. Moreover, setting\n\\hat A_b(\u03b3) := max_j [\\hat t_{\\hat e_j}(\\hat S_j) \u2212 \\hat t_c(\\hat S_j) + \u03b3]_+,\n\\hat B_b(\u03b3) := max_j [\\hat t_{\\hat e_j}(\\hat S_j) \u2212 \\hat t_b(\\hat S_j) + \u03b3]_+,\n\\hat D_{b,c}(\u03b3) := \\hat t_b({b,c}) \u2212 \\hat t_c({b,c}) + \u03b3,\nand choosing \u03b1 = \\hat A_b(\u03b3) + 2\u03c4, \u03b2 = \\hat B_b(\u03b3) + 2\u03c4, and enforcing \u03b1 \u2212 \u03b2 \u2265 \\hat D_{b,c}(\u03b3) + 2\u03c4, we have that (\u03b1,\u03b2) satisfies the true chain constraints with slack \u2265 \u03b3 (and a final margin \u2265 \u03b3) with probability \u2265 1 \u2212 \u03b4. Consequently, if \\hat \u03b5_spine(b;\u03b3) := \\hat B_b(\u03b3) + max{\\hat A_b(\u03b3), \\hat B_b(\u03b3) + \\hat D_{b,c}(\u03b3)} \u2264 \u03b5 \u2212 4\u03c4, the decision \u201cc is an \u03b5-winner via b\u201d is correct with probability at least 1 \u2212 \u03b4.\n\nProof.\n- Chain stability: If sup error \u2264 \u03c4, then for each j the true minimal satisfies t_{e_j^*}(S_j^*) \u2264 \\hat t_{e_j^*}(\\hat S_j) + \u03c4 \u2264 \\hat t_{\\hat e_j}(\\hat S_j) + \u03c4, while any x \u2208 \\hat S_j\\{\\hat e_j} has t_x(S_j^*) \u2265 \\hat t_x(\\hat S_j) \u2212 \u03c4 \u2265 \\hat t_{\\hat e_j}(\\hat S_j) + (\\hat g_j \u2212 \u03c4) \u2265 \\hat t_{\\hat e_j}(\\hat S_j) + 3\u03c4. Hence t_{e_j^*}(S_j^*) < t_x(S_j^*) for all x \u2260 e_j^*, forcing e_j^* = \\hat e_j and S_j^* = \\hat S_j by induction on j.\n- Feasibility margin: For each j,\n[t_{e_j^*}(S_j^*) \u2212 t_c(S_j^*)] \u2212 [\\hat t_{\\hat e_j}(\\hat S_j) \u2212 \\hat t_c(\\hat S_j)] \u2264 2\u03c4,\n[t_{e_j^*}(S_j^*) \u2212 t_b(S_j^*)] \u2212 [\\hat t_{\\hat e_j}(\\hat S_j) \u2212 \\hat t_b(\\hat S_j)] \u2264 2\u03c4,\nand [t_b({b,c}) \u2212 t_c({b,c})] \u2212 [\\hat t_b({b,c}) \u2212 \\hat t_c({b,c})] \u2264 2\u03c4. Therefore, adding 2\u03c4 to \\hat A_b, \\hat B_b, and \\hat D_{b,c} ensures the true constraints hold with slack \u03b3. Minimizing \u03b1+\u03b2 at the empirical level and adding 2\u03c4 to each of \u03b1,\u03b2 yields a sound certificate margin 4\u03c4.\n- Sample size: We evaluate O(K^2) tallies: for each j, \\hat t_x(\\hat S_j) for x \u2208 \\hat S_j, and the final pair {b,c}. Hoeffding plus a union bound gives m = \u0398((log(K) + log(1/\u03b4))/\u03c4^2).\n\nRemark.\nThe stability condition \\hat g_j \u2265 4\u03c4 is checkable from data; when it holds, we avoid exponential union bounds. If it fails, we can fall back to the distribution-free c-first certificate or to evaluating a small menu of alternative pivots b.\n\nTheorem C (Exactness under monotone minimality; special case for K \u2265 4).\nFix b and assume the chain e_1,\u2026,e_{K\u22122} satisfies a uniform gap condition: for each j and each x \u2208 S_j\\{b,c,e_j}, t_x(S_j) \u2265 t_{e_j}(S_j) + \u03b8 for some \u03b8 > 0. Then for any \u03b1,\u03b2 \u2265 0, the identities of the minima in S_j remain e_j (i.e., minimality is monotone under \u03b1 c-first and \u03b2 b-first additions). Consequently, among all augmentations that realize this same elimination order and a c-over-b final with slack \u03b3, the minimal mass equals \u03b5_spine(b;\u03b3).\n\nProof.\nThe gap condition freezes the minima among candidates other than {b,c}; adding \u03b1,\u03b2 only raises t_b and t_c, so the unique minimal in S_j remains e_j regardless of \u03b1,\u03b2. By the cleanup lemma, any augmentation realizing this order can be replaced by a two-type augmentation of no larger mass. The two-type minimization was solved explicitly in Theorem A, yielding optimal mass \u03b5_spine(b;\u03b3).\n\nObstacles and clarifications\n- Fixed-order LP dual sensitivity: Previous attempts (including ours) to bound sup_{\u03bb\u2208\u039b} ||\u03bb||_1 by O(K) erroneously dropped the negative contributions at j = pos_\u03c0(x) in the dual constraints. Keeping them shows that summing \u201cchampion\u201d constraints cancels, giving no nontrivial bound. Bounding sup ||\u03bb||_1 remains open. Two avenues: (i) construct round-wise test rankings that upper bound ||\u03bb||_1 via a packing argument over constraints; (ii) primal \u201crepair\u201d schemes under strict feasibility margins for v(b), yielding local Lipschitzness without global dual bounds.\n- Two-type suboptimality for K \u2265 4 (global optimum): While Theorem A is sufficient (and exact in special cases), we expect instances where the global minimal augmentation uses \u2265 3 ballot types to steer the process into a cheaper elimination path not aligned with any pivot-b chain. Constructing such an explicit coherent example (consistent across all S) is left open.\n\nExamples (sketchable checks)\n- K = 3: The counterexample in the notes (a=0.38, b=0.35, c=0.27; c beats b by 0.10, loses to a by 0.20) yields A_0=0.11, B_0=0.03, D_0=\u22120.10, and \u03b5_a^*(0) = 0.03 + max{0.11, \u22120.07} = 0.14 < the c-first 0.20; this is captured by Theorem A with K=3.\n- Chain-stability diagnostic: In synthetic data, if empirical minima gaps along the chain exceed, say, 5\u03c4, the identities of e_j stabilize; plugging empirical A,B,D with a 4\u03c4 margin yields a valid certificate at sample size m \u2248 c (log K + log(1/\u03b4)) / \u03c4^2.\n\nNext steps\n- Add Theorem A (full statement, proof, cleanup lemma) and Theorem B (sampling under chain-stability) to proofs.md; a concise statement of \u03b5_spine(b;\u03b3) and its K=3 specialization goes to output.md.\n- Attempt to build a K=4 coherent counterexample where two-type certificates are loose by solving the fixed-order LP numerically and inspecting optimal supports.\n- Explore local sensitivity of v(b) at strictly feasible b via primal repair: quantify additional mass needed to restore \u03b3-slack after a perturbation of size \u03c4 in t_a(S_j) \u2212 t_{\u03c0(j)}(S_j).\n- Lower bounds: Formalize a Fano/packing family parameterized by the favorable pivot b \u2208 C\\{c}, with pairwise perturbations of magnitude \u0398(\u03b5) and KL distances O(\u03b5^2), to show \u03a9((log K)/\u03b5^2) samples are necessary to reliably identify a pivot leading to an \u03b5-winner.\n- Data-driven hybrid certifier: compute (i) c-first certificate, (ii) K=3 exact \u03b5^* for each triple {b,c,x}, (iii) chain-based \u03b5_spine(b;\u03b3) for pivots b passing the stability test; output the smallest. Prove a unified sampling guarantee via union bounds over O(K^2) quantities and data-dependent margins.\n\nMinor note on constants (K=3 plug-in): The map (p_a,p_b,p_c,t_c({b,c}),t_c({a,c})) \u21a6 \u03b5^*(\u03b3;c) is 6-Lipschitz under sup-norm perturbations. Choosing \u03c4 = \u03b5/12 yields m = \u0398((log(1/\u03b4))/\u03b5^2) for a safe plug-in decision with margin 2L\u03c4 = \u03b5."
}