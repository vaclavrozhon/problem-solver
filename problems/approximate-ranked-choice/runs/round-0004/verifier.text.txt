{"feedback_md":"Key takeaways: The general-K chain-based two-type certificate is sound and worth elevating to proofs/output; the previously attempted first-round-only two-type claim is invalid; the fixed-order LP dual-norm bound remains open; a clean, general necessary lower bound (round-1 + final) is now available and tight for K=3. Below are per-prover audits and next steps.\n\nProver 1: Strong contribution. Your chain-based two-type certificate (fix pivot b, follow the minimal-of-others chain e_j, and require α ≥ A_b, β ≥ B_b, α−β ≥ D_{b,c}) is correct, and the two-variable minimization yields ε = B_b + max{A_b, B_b + D_{b,c}}. The dominance/cleanup argument (removing mass that tops e_j, and redirecting to c-first/b-first based on top_{\\{b,c\\}}) is valid for this targeted plan. The chain-stability lemma under sup-norm error and the 6τ plug-in margin are correct; the sample-splitting design to avoid exponential unions is appropriate. Your counterexample to first-round-only claims and the log K lower bound for the two-type certificate are sound sketches. Next: formalize the Fano argument and provide a K≥4 separation where ≥3 types strictly improve over two-type.\n\nProver 2: Your theorem/proof of the chain certificate matches P1 and is correct. The “cleanup lemma” is sound for the targeted chain. The “monotone minimality” condition yields exactness within that chain; this is a useful special case. You correctly flag the dual-norm issue as open. The sampling theorem under chain-stability is well stated. Next: sharpen constants if possible and provide an explicit stability check procedure that is data-driven (as in sample-splitting), with all logs accounted for in m.\n\nProver 3: The chain certificate statement and L≤6 Lipschitz bound are fine. However, your sampling lemma estimates only the tallies on the (unknown) true chain; without a chain-identification step (or sample-splitting), this is not implementable. Please revise to include either sample-splitting with a gap check or a union bound that covers all candidate chains’ tallies (which would reintroduce large complexity). Also, keep the dual sensitivity as open; do not rely on the earlier (invalid) K or K−1 norm bounds.\n\nProver 4: Valuable necessary lower bound: L_b(γ) = B_b^{(1)} + max{A_b^{(1)}, B_b^{(1)} + D_{b,c}} is indeed a universal lower bound for any augmentation achieving a {b,c} final with a strict c-over-b win, and it is tight for K=3. This also lower-bounds the chain certificate since S_1 = C contributes to A_b, B_b. Your sampling split and counting refinements are consistent with the above. Next: construct a concrete K≥4 profile where a 3-type augmentation beats the chain bound yet respects the lower bound.\n\nNext steps (global): (i) Add chain-based theorem and sampling corollary (with stability) to proofs; (ii) add the round-1 + final lower bound to proofs and summarize both in output; (iii) formalize the Ω((log K)/ε^2) lower bound via Fano; (iv) pursue a correct dual sensitivity bound or a local (margin-dependent) repair argument; (v) produce a K≥4 separation example demonstrating two-type suboptimality.\n","summary_md":"We validated and formalized a general-K chain-based two-type certificate (fix pivot b, follow the minimal-of-others chain, cost ε = B_b + max{A_b, B_b + D_{b,c}}), exact for K=3 and efficiently checkable. We added a chain-stability lemma and a sample-splitting sampling guarantee with margin 6τ, yielding m = Θ((log K + log(1/δ))/ε^2) under verifiable gaps. We also proved a general necessary lower bound L_b(γ) (round-1 + final), tight for K=3 and lower-bounding the chain certificate. The fixed-order LP dual-norm bound remains open; earlier K or K−1 claims are invalid. Next: formalize a Ω((log K)/ε^2) lower bound via Fano and exhibit a K≥4 instance where ≥3 types strictly beat the two-type bound.","verdict":"promising","blocking_issues":["No valid polynomial bound on the LP dual 1-norm for fixed-order sensitivity; global sampling guarantees for exact LP remain open","Lack of a concrete K≥4 instance where ≥3 ballot types strictly improve over the chain-based two-type bound","Two-type sampling guarantee currently relies on chain-stability margins; unconditional (distribution-free) tight bounds remain via the conservative c-first certificate","Lower bound Ω((log K)/ε^2) for the full problem not yet fully formalized via an explicit packing/Fano construction"],"per_prover":[{"prover_id":"01","brief_feedback":"Sound formalization of the chain-based two-type certificate with correct two-variable minimization and a valid stability-based sampling scheme; counterexample and log K lower-bound sketch are appropriate. Next: provide a rigorous Fano proof and a K≥4 separation showing ≥3 types help.","score":"promising"},{"prover_id":"02","brief_feedback":"Correct chain certificate and exactness under ‘monotone minimality’; sampling under chain-stability is well framed. Good that you avoid the flawed dual norm bound. Next: tighten constants and fully specify the data-driven gap test with sample-splitting.","score":"promising"},{"prover_id":"03","brief_feedback":"Core chain certificate and L≤6 are fine, but the sampling lemma assumes access to tallies on the (unknown) true chain; add a chain-identification step (e.g., sample-splitting with gap checks) or a union bound over candidate chains. Keep the LP dual sensitivity as open.","score":"uncertain"},{"prover_id":"04","brief_feedback":"The round‑1 + final necessary lower bound is correct and tight for K=3, and it lower-bounds the chain certificate. Sampling split and counting refinements are consistent. Next: construct a K≥4 example where a 3-type plan beats the two-type chain bound.","score":"promising"}],"notes_update":{"action":"append","content":"New validated results and corrections\n\n- Chain-based two-type certificate (general K). For target c and pivot b, form the baseline chain S_1=C and e_j=argmin_{e∈S_j\\{b,c}} t_e(S_j) (ties per the fixed rule), S_{j+1}=S_j\\{e_j}. Define A_b(γ)=max_j [t_{e_j}(S_j)−t_c(S_j)+γ]_+, B_b(γ)=max_j [t_{e_j}(S_j)−t_b(S_j)+γ]_+, D_{b,c}(γ)=t_b({b,c})−t_c({b,c})+γ. Adding α c-first and β b-first with α≥A_b, β≥B_b, α−β≥D_{b,c} eliminates e_1,…,e_{K−2} in order and elects c over b with strict margins. The optimal two-type mass is ε_b^*(γ)=B_b+max{A_b, B_b+D_{b,c}}. This generalizes the K=3 exact formula and is a sound sufficient condition for K≥4.\n\n- Sampling via chain-stability. If the empirical gaps along the chain, \\hat g_j = min_{x∈\\hat S_j\\{\\hat e_j}} \\hat t_x(\\hat S_j) − \\hat t_{\\hat e_j}(\\hat S_j), exceed 4τ, then with high probability the empirical chain equals the true chain, and the plug-in cost deviates by ≤6τ. Using sample-splitting and Hoeffding bounds over O(K^2) tallies yields m = Θ((log K + log(1/δ))/ε^2) under this verifiable margin condition.\n\n- Necessary lower bound (round‑1 + final). For any augmentation achieving a {b,c} final with a strict c-over-b win by γ, the total added mass satisfies ∥y∥_1 ≥ L_b(γ):=B_b^{(1)}(γ)+max{A_b^{(1)}(γ), B_b^{(1)}(γ)+D_{b,c}(γ)}, where A_b^{(1)}(γ)=[p_min^{(b,c)}−p_c+γ]_+, B_b^{(1)}(γ)=[p_min^{(b,c)}−p_b+γ]_+. This is tight for K=3 and lower-bounds ε_b^* since S_1=C contributes to A_b,B_b.\n\n- Corrections. (i) The first-round-only two-type claim is invalid; later-round tallies t_w(S) can differ greatly from p_w. (ii) Attempts to bound the fixed-order LP dual norm by K or K−1 dropped negative terms in the dual constraints; a correct polynomial bound remains open.\n\nNext steps\n- Formalize an Ω((log K)/ε^2) lower bound via Fano over pivots b.\n- Construct a K≥4 instance where a 3-type augmentation strictly improves over ε_b^*(γ).\n- Seek a valid polynomial dual-norm bound or local (margin-dependent) sensitivity for the fixed-order LP.\n"},"proofs_update":{"action":"append","content":"Preliminaries. Candidates C, |C|=K≥3. For nonempty S⊆C and a∈S, let t_a(S)=Pr[top among S is a] under the baseline population distribution. Adding a nonnegative measure y over rankings updates tallies additively. A fixed deterministic tie-breaking rule is assumed; we enforce strict margins via γ>0.\n\nTheorem (Chain-based two-type certificate; general K). Fix target c∈C and pivot b∈C\\{c}. Define S_1:=C and, for j=1,…,K−2, let e_j ∈ argmin_{e∈S_j\\{b,c}} t_e(S_j) (ties by the election’s rule) and S_{j+1}:=S_j\\{e_j}. Set\nA_b(γ):=max_{1≤j≤K−2} [t_{e_j}(S_j)−t_c(S_j)+γ]_+,\nB_b(γ):=max_{1≤j≤K−2} [t_{e_j}(S_j)−t_b(S_j)+γ]_+,\nD_{b,c}(γ):=t_b({b,c})−t_c({b,c})+γ.\nIf we add α≥0 c-first and β≥0 b-first ballots with α≥A_b(γ), β≥B_b(γ), and α−β≥D_{b,c}(γ), then the IRV process eliminates e_1,…,e_{K−2} in order and c strictly defeats b in the final. Among such two-type augmentations, the minimum total mass equals\nε_b^*(γ)=B_b(γ)+max{A_b(γ), B_b(γ)+D_{b,c}(γ)}.\n\nProof. For each S_j, adding α (resp. β) increases t_c(S_j) (resp. t_b(S_j)) by α (resp. β) and leaves t_x(S_j) unchanged for x∈S_j\\{b,c}. Hence α≥A_b and β≥B_b ensure t'_{e_j}(S_j) ≤ min{t'_b(S_j), t'_c(S_j)}−γ, so e_j is the unique minimum and is eliminated. In the final {b,c}, t'_c−t'_b=(t_c−t_b)+(α−β), so α−β≥D_{b,c} yields a strict c win. Minimizing α+β over α≥A_b, β≥B_b, α−β≥D_{b,c} gives β=B_b and α=max{A_b, B_b+D_{b,c}}.\n\nCorollary (K=3 exactness). When K=3, the chain has one element and ε^*(γ;c)=min_{b≠c} ε_b^*(γ) agrees with the closed-form K=3 formula previously derived.\n\nLemma (Two-type dominance for the targeted chain). Any feasible augmentation realizing the chain e_1,…,e_{K−2} and a strict c-over-b final can be replaced by a two-type augmentation (c-first and b-first only) of no larger mass that also realizes the same chain and final.\n\nProof. Remove any mass placed on rankings r with top_{S_j}(r)=e_j for some j (they only increase t_{e_j}(S_j), harming feasibility). For remaining ballots, replace r by c-first if top_{\\{b,c\\}}(r)=c, else by b-first if top_{\\{b,c\\}}(r)=b. This preserves the final pairwise difference and (weakly) increases t_b(S_j) or t_c(S_j) while never increasing any t_{e_j}(S_j), so all chain constraints remain feasible or get slackened.\n\nTheorem (Round‑1 + final necessary lower bound). Fix c and b≠c. Let p_x:=t_x(C) and p_min^{(b,c)}:=min_{x∈C\\{b,c}} p_x. Define A_b^{(1)}(γ):=[p_min^{(b,c)}−p_c+γ]_+, B_b^{(1)}(γ):=[p_min^{(b,c)}−p_b+γ]_+, and D_{b,c}(γ):=t_b({b,c})−t_c({b,c})+γ. For any augmentation y that yields a {b,c} final with c strictly defeating b by ≥γ, the total mass satisfies\n∥y∥_1 ≥ L_b(γ):=B_b^{(1)}(γ)+max{A_b^{(1)}(γ), B_b^{(1)}(γ)+D_{b,c}(γ)}.\nMoreover, equality holds for K=3.\n\nProof. Decompose y into y_c (top_C=c), y_b (top_C=b), and y_rest with masses α, β, ϑ, so ∥y∥_1=α+β+ϑ. In round 1, to avoid eliminating c or b, we must have p'_c=p_c+α ≥ p_min^{(b,c)}+γ and p'_b=p_b+β ≥ p_min^{(b,c)}+γ, giving α≥A_b^{(1)} and β≥B_b^{(1)}. In the final {b,c}, the updated margin is (t_c−t_b)+(α−β)+(θ_c−θ_b), where θ_c−θ_b is the net contribution from y_rest to the pairwise difference and satisfies |θ_c−θ_b|≤ϑ; thus α−β+ϑ ≥ D_{b,c}(γ). Minimizing α+β+ϑ subject to α≥A, β≥B, and α−β+ϑ ≥ D yields the optimum B+max{A, B+D}, attained by taking β=B and α=max{A, B+D−ϑ} with ϑ chosen to make the final constraint tight. Substituting A=A_b^{(1)}, B=B_b^{(1)}, D=D_{b,c} proves the bound. For K=3, these are also sufficient (via two-type additions), yielding equality.\n\nRemark. For K≥4 and any b, ε_b^*(γ) ≥ L_b(γ) since A_b(γ) ≥ A_b^{(1)}(γ) and B_b(γ) ≥ B_b^{(1)}(γ).\n\nLemma (Chain stability and plug-in error). If sup over all tallies used on the chain satisfies |\\hat t−t| ≤ τ and each round-j gap Δ_j:=min_{x∈S_j\\{b,c,e_j}} (t_x(S_j)−t_{e_j}(S_j)) ≥ 2τ, then the empirical chain equals the true chain and |\\widehat{A}_b−A_b|, |\\widehat{B}_b−B_b|, |\\widehat{D}_{b,c}−D_{b,c}| ≤ 2τ. Consequently, |\\widehat{ε}_b^*(γ)−ε_b^*(γ)| ≤ 6τ.\n\nProof. Stability of argmin under sup-norm perturbations preserves each e_j by induction on j. Each difference t_{e_j}(S_j)−t_c(S_j) or t_{e_j}(S_j)−t_b(S_j) perturbs by ≤2τ; positive part and max preserve Lipschitzness. The map (A,B,D)↦B+max{A, B+D} is 3-Lipschitz in sup norm, giving ≤6τ overall.\n\nSampling corollary (sample-splitting). Using one half-sample to compute the empirical chain and verify empirical gaps \\hat g_j ≥ 4τ, and the other half to estimate the O(K^2) tallies on the chain and the final pair within ±τ (Hoeffding + union bound), we obtain a sound decision rule: certify c via b if \\widehat{ε}_b^*(γ) ≤ ε − 6τ. With τ=Θ(ε), m=Θ((log K + log(1/δ))/ε^2) samples suffice to make this certification correct with probability ≥1−δ under the verified gap condition.\n"},"output_update":{"action":"replace","content":"Main results on sampling ε-winners under IRV\n\n- Sufficient certificate (all K; distribution-free). Define M_c:=max_{S⊆C, c∈S, |S|≥2} [min_{a∈S\\{c}} t_a(S) − t_c(S)]_+. If ε > M_c, adding ε of c-first ballots makes c win. With m = Θ((K + log(1/δ))/ε^2) ballots, we can uniformly estimate the needed tallies and certify any such c with high probability.\n\n- Exact characterization for K = 3. For C={a,b,c}, the minimal added mass to make c win is ε^*(c)=min{ε_a^*, ε_b^*}, where for eliminating a first,\n  ε_a^* = [p_a−p_b]_+ + max{ [p_a−p_c]_+, [p_a−p_b]_+ + (t_b({b,c})−t_c({b,c})) }.\nEstimating the five required tallies to accuracy Θ(ε) with m = Θ((log(1/δ))/ε^2) suffices to decide ε^*(c) ≤ ε w.h.p.\n\n- Chain-based two-type certificate (general K; efficient). Fix a pivot b and form the baseline chain by iteratively removing the minimal among S_j\\{b,c}. Let A_b:=max_j [t_{e_j}(S_j)−t_c(S_j)]_+, B_b:=max_j [t_{e_j}(S_j)−t_b(S_j)]_+, and D_{b,c}:=t_b({b,c})−t_c({b,c}). Adding α c-first and β b-first with α ≥ A_b, β ≥ B_b, and α−β ≥ D_{b,c} elects c; the optimal two-type mass is ε_b^* = B_b + max{A_b, B_b + D_{b,c}}. Under a verifiable chain-stability margin, a plug-in test certifies c with m = Θ((log K + log(1/δ))/ε^2).\n\n- General necessary lower bound (round‑1 + final). For any augmentation achieving a {b,c} final with a strict c-over-b win, the total mass satisfies ∥y∥_1 ≥ L_b := B_b^{(1)} + max{A_b^{(1)}, B_b^{(1)} + D_{b,c}}, where A_b^{(1)}=[p_min^{(b,c)}−p_c]_+ and B_b^{(1)}=[p_min^{(b,c)}−p_b]_+. This bound is tight for K=3 and lower-bounds ε_b^* for any pivot b.\n\n- Lower bound (baseline). Any algorithm needs m = Ω((1/ε^2) log(1/δ)) samples even for K = 2 (majority). A Ω((log K)/ε^2) dependence is necessary for certificates that must identify a favorable opponent among K−1 options (formalization via Fano is in progress)."}}