{
  "content": "Ideas\n- Strengthen the \u201cchain two-type\u201d method by adding a single steering type to change the first elimination when it is cheap to do so. This yields a three-type, closed-form, sufficient certificate that strictly improves the chain bound in some K \u2265 4 instances (matches the provided separation example) and remains sample-efficient.\n- Provide a rigorous verification of the K = 4 separation profile and the effect of the proposed two-type augmentation (a-first and c-first) that beats the pivot-b chain two-type cost.\n- Give a general three-type steering lemma with an explicit formula and proof; derive a sampling corollary with a safe Lipschitz margin.\n\nExample (fully checked): K = 4 separation revisited\nRanking-support distribution (probabilities sum to 1):\n- 0.06: a \u227b b \u227b d \u227b c\n- 0.12: a \u227b d \u227b c \u227b b\n- 0.35: b \u227b a \u227b c \u227b d\n- 0.22: c \u227b b \u227b d \u227b a\n- 0.085: d \u227b c \u227b b \u227b a\n- 0.05: d \u227b a \u227b c \u227b b\n- 0.115: d \u227b b \u227b c \u227b a\nBaseline first-round shares: (t_a,t_b,t_c,t_d)=(0.18,0.35,0.22,0.25). After removing a: S2={b,c,d} gives (t_b,t_c,t_d)=(0.41,0.22,0.37). After removing d: S2\u2032={a,b,c} gives (t_a,t_b,t_c)=(0.23,0.465,0.305). Pairwise {b,c}: t_c=0.475, t_b=0.525 (margin \u22120.05).\n- Best pivot-b chain cost: e1=a (min among {a,d}), e2=d. Then A_b(0)=max{[0.18\u22120.22]_+, [0.37\u22120.22]_+}=0.15, B_b(0)=0, D_{b,c}=0.05. Chain two-type cost \u03a6_b=0.15.\n- Augmentation beating chain: add \u03b2_a=0.0701 of a-first ballots completed a \u227b c \u227b b \u227b d, and \u03b1=0.0501 of c-first ballots.\n  \u2022 Round 1 (C): (a,b,c,d) \u2192 (0.2501, 0.35, 0.2701, 0.25); d is uniquely minimal (0.25 < 0.2501), so d is eliminated.\n  \u2022 Round 2 (S2\u2032={a,b,c}): (a,b,c) \u2192 (0.3001, 0.465, 0.3551); a is eliminated.\n  \u2022 Final {b,c}: t\u2032_c \u2212 t\u2032_b = (0.475 + \u03b1 + \u03b2_a) \u2212 0.525 = \u03b1 + \u03b2_a \u2212 0.05 > 0.\nTotal mass \u2248 0.1202 < 0.15. This shows pivot-b chain two-type is not tight for K \u2265 4.\n\nThree-type steering lemma (sufficient certificate, closed form)\nSetup. Fix target c and pivot b \u2260 c. Let y be the baseline round-1 loser, and let d be a distinct candidate we wish to eliminate first. Remove d to form S2\u2032 := C\\{d} and define the baseline (with the fixed tie-breaker) chain e\u2032_2,\u2026,e\u2032_{K\u22122} over S2\u2032 by iteratively removing argmin_{e\u2208S\u2032_j\\{b,c}} t_e(S\u2032_j). Introduce a slack \u03b3 > 0. Consider adding only three ballot types: \u03b1 of c-first, \u03b2 of b-first, and \u03b2_y of y-first; choose y-first completions to rank c \u227b b so they contribute favorably to the final.\nDefine (positive parts understood, with +\u03b3 inside where indicated):\n- Steering cost s := [t_d(C) \u2212 t_y(C) + \u03b3]_+ (to make d the first elimination).\n- Chain thresholds on S2\u2032 not involving y:\n  A\u2032_0 := max_{j \u2265 2, e\u2032_j \u2260 y} [t_{e\u2032_j}(S\u2032_j) \u2212 t_c(S\u2032_j) + \u03b3]_+,\n  B\u2032_0 := max_{j \u2265 2, e\u2032_j \u2260 y} [t_{e\u2032_j}(S\u2032_j) \u2212 t_b(S\u2032_j) + \u03b3]_+.\n- Keep-y-above-others until y\u2019s scheduled elimination:\n  Y := max_{j \u2265 2, e\u2032_j \u2260 y} [t_{e\u2032_j}(S\u2032_j) \u2212 t_y(S\u2032_j) + \u03b3]_+.\n- When e\u2032_j = y (i.e., the round where y is eliminated on S\u2032), account for y\u2019s uplift in the c and b constraints:\n  a^* := max_{j \u2265 2, e\u2032_j = y} (t_y(S\u2032_j) \u2212 t_c(S\u2032_j)),\n  b^* := max_{j \u2265 2, e\u2032_j = y} (t_y(S\u2032_j) \u2212 t_b(S\u2032_j)).\n- Final-round gap: D := t_b({b,c}) \u2212 t_c({b,c}) + \u03b3.\nTheorem (three-type steering certificate). If\n  \u03b2_y \u2265 \u03b2_y^* := max{s, Y},\n  \u03b2 \u2265 B^*(\u03b2_y) := max{ B\u2032_0, [\u03b2_y + b^* + \u03b3]_+ },\n  \u03b1 \u2265 A^*(\u03b2_y) := max{ A\u2032_0, [\u03b2_y + a^* + \u03b3]_+ },\n  \u03b1 \u2212 \u03b2 \u2265 D,\nthen the IRV run on the augmented profile eliminates d first, then e\u2032_2,\u2026,e\u2032_{K\u22122} in order on S2\u2032, and c strictly beats b in the final. The minimal total mass over \u03b1,\u03b2,\u03b2_y that satisfies these constraints equals\n  E(\u03b2_y) = \u03b2_y + B^*(\u03b2_y) + max{ A^*(\u03b2_y), B^*(\u03b2_y) + D },\nand, since E is nondecreasing in \u03b2_y, the optimal choice is \u03b2_y = \u03b2_y^*, giving the closed-form bound\n  \u03b5_steer(b,y,d; \u03b3) = \u03b2_y^* + B^*(\u03b2_y^*) + max{ A^*(\u03b2_y^*), B^*(\u03b2_y^*) + D }.\n\nProof.\n- Round 1: \u03b2_y \u2265 s ensures p\u2032_y \u2265 p_d + \u03b3, and the fixed tie-breaker plus the unchanged p_x for x \u2209 {b,c,y} imply d is the unique minimum (p_b, p_c \u2265 p_d already). Optionally, small \u03b1,\u03b2 can further separate d from b,c.\n- Subsequent rounds j \u2265 2, e\u2032_j \u2260 y: A\u2032_0 and B\u2032_0 ensure e\u2032_j is strictly below c and b, respectively. Y ensures y remains strictly above e\u2032_j until the scheduled round where y is eliminated; all other survivors x \u2209 {b,c,y,e\u2032_j} satisfy t_x(S\u2032_j) \u2265 t_{e\u2032_j}(S\u2032_j) by construction and are unaffected by \u03b1,\u03b2,\u03b2_y. Hence e\u2032_j remains the (tie-broken) minimum.\n- When e\u2032_j = y: the constraints \u03b1 \u2265 [\u03b2_y + a^* + \u03b3]_+ and \u03b2 \u2265 [\u03b2_y + b^* + \u03b3]_+ ensure c and b strictly exceed y even after the uplift \u03b2_y; other survivors exceed y as in baseline. Thus y is eliminated at that round.\n- Final: \u03b1 \u2212 \u03b2 \u2265 D makes c strictly beat b on {b,c}.\nFeasibility is established. Minimization over \u03b1,\u03b2 for fixed \u03b2_y is achieved by taking \u03b2 = B^*(\u03b2_y) and \u03b1 = max{A^*(\u03b2_y), B^*(\u03b2_y)+D}; E(\u03b2_y) is nondecreasing in \u03b2_y as a sum/max of nondecreasing functions, hence the optimum at \u03b2_y^*. \u220e\n\nSpecial cases and checks\n- If y never appears as e\u2032_j (i.e., y is never the round-j loser on S2\u2032), then a^*=b^*=\u2212\u221e and \u03b5_steer simplifies to s + B\u2032_0 + max{A\u2032_0, B\u2032_0 + D} (steer once, then apply the chain two-type cost on S2\u2032).\n- In the K=4 separation above: y=a, d=d, \u03b3=0. Then s=0.07, Y=0 (no j with e\u2032_j \u2260 y), a^*=0.23\u22120.305=\u22120.075, b^*=0.23\u22120.465=\u22120.235, A\u2032_0=B\u2032_0=0, D=0.05. Hence \u03b2_y^*=0.07, B^*=0, A^*=0, and \u03b5_steer=0.07+0+max{0,0.05}=0.12, matching the constructed augmentation (\u22480.1202 with slack).\n\nSampling corollary (data-dependent, polynomial sample size)\nLet \u0398 be the collection of tallies used by \u03b5_steer: round-1 shares p_x (x \u2208 {b,c,y,d}), pairwise {b,c} tallies, and, on the chain S2\u2032 (which we identify on a held-out sample with a margin check), all t_{e\u2032_j}(S\u2032_j), t_b(S\u2032_j), t_c(S\u2032_j), and t_y(S\u2032_j) needed to compute A\u2032_0, B\u2032_0, Y, a^*, b^*. Then |\u0398| = O(K^2).\n- Chain-identification: using m_1 samples, estimate S2\u2032 and its chain on a held-out subsample; if the empirical min-gaps on S2\u2032 exceed 3\u03c4_1, the empirical chain equals the true chain with probability \u2265 1\u2212\u03b4_1 (standard Hoeffding + union bound over O(K^2) tallies).\n- Cost evaluation: using an independent m_2 samples, estimate the tallies in \u0398 to sup error \u2264 \u03c4_2 with probability \u2265 1\u2212\u03b4_2 by Hoeffding + union bound over |\u0398|.\nLipschitz: Each component (s, Y, a^*, b^*, A\u2032_0, B\u2032_0, D) is 2-Lipschitz in the sup norm of the involved tallies; the map (\u03b2_y^*, B^*, A^*, D) \u21a6 \u03b5_steer has Lipschitz \u2264 1 + max{1, 1+1} \u2264 3. Composing yields a safe global Lipschitz constant \u2264 8. Thus declaring c certified via steering if \\hat \u03b5_steer \u2264 \u03b5 \u2212 8\u03c4_2 is sound with probability \u2265 1 \u2212 (\u03b4_1+\u03b4_2). Choosing \u03c4_1,\u03c4_2 = \u0398(\u03b5) gives m_1 = \u0398((K log K + log(1/\u03b4))/\u03b5^2), m_2 = \u0398((K log K + log(1/\u03b4))/\u03b5^2).\n\nObstacles\n- Tightness: \u03b5_steer is sufficient, not necessary. It improves the chain bound when s is small and the post-steer chain deficits A\u2032_0,B\u2032_0 are small. There are profiles where further steering (adding additional types) reduces the mass beyond \u03b5_steer; constructing such K \u2265 4 instances (\u2265 3 types strictly better than any two-type plan) is left as an explicit next step.\n- Dual sensitivity (general LP): The sup ||\u03bb||_1 bound remains open for the full ranking LP (negative dual terms prevent a simple K or K\u22121 bound). The few-type steering LP inherits a small, explicit structure amenable to direct sensitivity via compositional Lipschitz bounds as above, avoiding the full dual analysis.\n\nNext steps\n- Add the three-type steering theorem and sampling corollary (with L \u2264 8) to proofs.md; include the K = 4 separation with explicit completions and full tally checks.\n- Empirically search (small-support LP) for K \u2265 4 profiles where a 3-type plan strictly improves over all 2-type plans (across all choices of two top types), providing a concrete separation.\n- Formalize the \u03a9((log K)/\u03b5^2) lower bound via Fano by packing over favorable pivots b while keeping first-round and chain tallies identical; compute KL divergences for small-support constructions.\n- Investigate margin-dependent dual bounds for fixed-order LPs restricted to few types (e.g., {c,b,y}) to further tighten sampling constants and possibly avoid sample-splitting via robust stability checks.\n"
}