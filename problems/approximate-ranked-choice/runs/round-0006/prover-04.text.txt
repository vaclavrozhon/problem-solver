# Ideas

- K=4 few-type steering scheme: Add three ballot types (c-first, b-first, and x-first for the remaining nonpivot a) to force a chosen candidate y to be eliminated in round 1, then ensure an eventual c-over-b final. This gives a small LP (3 variables) that can strictly beat the chain two-type bound.
- Correct and sharpen the K=4 separation example with a minimal mass close to 0.10 (improving the earlier 0.1202), and present the general 3-variable LP constraints explicitly.
- Sampling for K=4 steering LP: only nine tallies are needed (four first-round, three on {a,b,c}, and two pairwise for {b,c}), giving m = Θ((log(1/δ))/ε^2) via Hoeffding + union bound.

# K=4 three-type steering LP (target c, pivot b, force y eliminated first)

Setup. Let C = {a,b,c,y}, target winner c, pivot b (final opponent), and a the remaining nonpivot. Let first-round shares p_x := t_x(C). Let S_2 := {a,b,c} be the set after removing y, with tallies s_x := t_x(S_2) for x ∈ S_2. Let D_{b,c}(γ) := t_b({b,c}) − t_c({b,c}) + γ. We add three nonnegative amounts: α (c-first), β (b-first), η (a-first). All inequalities include a strictness slack γ > 0; we will let γ → 0^+ after deriving formulas.

Constraints.
- Round 1 (force y eliminated): for all x ∈ {a,b,c},
  p_x + inc_x ≥ p_y + γ, where inc_a = η, inc_b = β, inc_c = α.
Equivalently, α ≥ d_c, β ≥ d_b, η ≥ d_a, with
  d_c := [p_y − p_c + γ]_+, d_b := [p_y − p_b + γ]_+, d_a := [p_y − p_a + γ]_+.
- Round 2 on S_2 = {a,b,c} (ensure a is eliminated):
  s_a + η ≤ s_b + β − γ  and  s_a + η ≤ s_c + α − γ,
i.e., η − β ≤ s_b − s_a − γ and α − η ≥ s_a − s_c + γ.
- Final {b,c} (ensure c beats b):
  (t_c − t_b) + (α + η − β) ≥ γ ⇔ α − β + η ≥ D_{b,c}(γ).

Objective: minimize α + β + η subject to the five linear constraints above.

Proposition (sound K=4 certificate). Any feasible (α,β,η) for the above LP yields an augmentation that eliminates y in round 1, then eliminates a in round 2, and finally elects c over b by ≥γ. The LP optimum is a valid upper bound on the minimal augmentation ε^*(γ;c). Taking γ → 0^+ gives a sound certificate for ε^*(c).

Proof. Round-1 feasibility ensures y is strictly below a, b, c in S_1, hence is eliminated first. The S_2 constraints ensure a is strictly below b and c in S_2 and is eliminated second. The final {b,c} constraint ensures a strict c-over-b head-to-head win. The objective is total added mass; feasibility implies correctness.

Special case simplification. If d_b = 0 (b already above y in round 1) and s_b − s_a ≥ γ (so a is already below b in S_2), then (η − β ≤ s_b − s_a − γ) is slack for β ≥ 0 and small γ. In this case, the LP reduces to minimizing α + η subject to α ≥ d_c, η ≥ d_a, α − η ≥ s_a − s_c + γ, and α + η ≥ D_{b,c}(γ). The optimum is
  α + η = max{ d_a + d_c, D_{b,c}(γ), (s_a − s_c + γ) + 2 max{ d_a − (s_a − s_c + γ), 0 } }.
In particular, when s_c ≥ s_a + γ (so the second-round a-vs-c gap is nonnegative), this simplifies to α + η = max{ d_a + d_c, D_{b,c}(γ) }.

Remark. This reveals when steering pays off: if “the sum of first-round deficits to pass y” (d_a + d_c) is below the chain two-type A_b, the steering LP can beat the chain bound; if additionally D_{b,c} is small, the final constraint is slack.

# Corrected K=4 separation example (improved)

Profile (C = {a,b,c,d}). Ballot types and masses:
- 0.06: a ≻ b ≻ d ≻ c
- 0.12: a ≻ d ≻ c ≻ b
- 0.35: b ≻ a ≻ c ≻ d
- 0.22: c ≻ b ≻ d ≻ a
- 0.085: d ≻ c ≻ b ≻ a
- 0.05: d ≻ a ≻ c ≻ b
- 0.115: d ≻ b ≻ c ≻ a
First-round: (p_a,p_b,p_c,p_d)=(0.18,0.35,0.22,0.25). If a is removed: S={b,c,d}→(0.41,0.22,0.37). If d is removed: S={a,b,c}→(s_a,s_b,s_c)=(0.23,0.465,0.305). Pairwise {b,c}: t_c=0.475, t_b=0.525.

Chain two-type (pivot b). e_1=a (min of {a,d}), S_2={b,c,d}, e_2=c vs d: min is c? Given (0.41,0.22,0.37) the minimal is c at 0.22? Wait S={b,c,d} tallies provided are (0.41,0.22,0.37); so e_2=c. Then A_b(0)=max{[0.18−0.22]_+, [0.22−0.41]_+, [0.22−0.37]_+}=max{0, 0, 0}=0? This contradicts earlier summary that A_b(0)=0.15. The earlier chain computed via removing a then S2={b,c,d} tallies was (0.41,0.22,0.37). However the definition of A_b takes max_j [ t_{e_j}(S_j) − t_c(S_j) ]_+. Here c∈S_2 with tally 0.22 equals the loser; A_b must capture the round-1 deficit against a (S_1=C: t_a−t_c = 0.18−0.22 = −0.04→0) and round-2 deficit against e_2=c itself (t_{e_2}−t_c = 0.22−0.22 = 0). This yields A_b=0, contradicting the stated 0.15. The discrepancy stems from the chain being computed for pivot b with S_2={b,c,d}: the relevant “other” at round 2 is the minimal among S_2\{b,c}={d}, i.e., e_2=d, not c. Then A_b picks [t_d(S_2)−t_c(S_2)]_+ = 0.37−0.22=0.15. Hence the chain is e_1=a, e_2=d as stated in prior rounds, and A_b(0)=0.15, B_b(0)=0, D_{b,c}=0.05, total ε_b^*=0.15.

Improved steering plan. Target y=d first and then final {b,c} with c winner. Use two types:
- η of a-first ballots with completion a ≻ c ≻ b ≻ d (so they count towards c in {b,c}).
- α of c-first ballots.
Take γ→0 and choose minimal
  η ≥ d_a = p_d − p_a = 0.07,
  α ≥ d_c = p_d − p_c = 0.03,
  α + η ≥ D_{b,c} = 0.05.
A feasible choice is η = 0.0701, α = 0.0301, β=0, giving total mass 0.1002 < 0.15. Verify:
- Round 1: (a,b,c,d)→(0.2501, 0.35, 0.2501, 0.25); d is uniquely minimal.
- Round 2 on {a,b,c}: (a,b,c)→(0.3001, 0.465, 0.3351); a is eliminated.
- Final {b,c}: (t_c − t_b) + (α+η) = (0.475−0.525)+0.1002 = 0.0502 > 0, so c wins.
Thus the chain two-type bound 0.15 is not tight; the three-type steering LP yields ≤ 0.1002 (and in fact approaches 0.10 as γ→0^+).

# Sampling for the K=4 steering LP

Quantities to estimate (9 total): first-round p_a,p_b,p_c,p_y; S_2 tallies s_a,s_b,s_c; pairwise t_c({b,c}), t_b({b,c}). Hoeffding + union bound gives that m = Θ((log(9/δ))/τ^2) suffices to uniformly approximate these to ±τ. The LP value is piecewise-linear with a global sup-norm Lipschitz constant L ≤ 8 (each constraint involves at most two tallies; the objective is α+β+η), so the plug-in decision “declare c an ε-winner if the empirical LP optimum ≤ ε − Lτ” is correct with probability ≥ 1−δ. Choosing τ = Θ(ε) yields m = Θ((log(1/δ))/ε^2).

Remark (data-driven strictness). Use a small γ proportional to τ to enforce strict separations, e.g., γ = 3τ, so that sampling error does not flip the required inequalities.

# Relations to existing bounds

- Round‑1 + Final lower bound L_b(γ) applies here with pivot b and gives L_b(0) = max{d_b + max{d_a,d_c}, D_{b,c}} ≤ ε_b^{(chain)} and ≤ ε_{y}^{(steer)}. In the example, L_b(0) = max{0, 0.05} = 0.05, much below both constructive certificates.
- Chain two-type bound ε_b^*(γ) uses only c- and b-first ballots and the baseline chain; the K=4 steering LP augments with a-first to alter the early path, strictly improving the bound.

# Obstacles

- General closed form beyond the simple special case requires enumerating LP vertices; while tractable, the casework is messy. A clean necessary-and-sufficient symbolic expression (like K=3) may be impractical.
- Extending few-type steering beyond K=4 (e.g., forcing two early eliminations using ≤4 types) while keeping sampling polynomial and the analysis clean is nontrivial.
- Dual sensitivity for the fixed-order LP remains open; no new progress here.

# Next steps

- Formalize the K=4 steering LP theorem and the improved example in proofs.md; add a short routine to compute the LP value in closed form by checking a finite set of candidate vertices.
- Implement a hybrid certifier: for K=4, take the minimum among (i) c-first M_c, (ii) chain two-type for each pivot, and (iii) steering LP for each choice of y and pivot b. Sampling requires estimating a constant number of tallies per candidate pair (overall O(K^2)).
- Attempt a K≥4 construction where four types (c-first, b-first, and two steering types) are necessary to beat both chain and K=4 three-type bounds.
- Proceed with the Fano/packing lower bound: instantiate the “shielded blocks” so that only D_{b,c} varies across b, keeping p and S_2 tallies fixed, yielding m = Ω((log K)/ε^2) to identify a favorable pivot.
