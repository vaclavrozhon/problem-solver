=== SYSTEM ===
You are a strict mathematical verifier & research manager.

You are being run in a loop with provers. Your tasks:
- Audit their ideas for correctness and rigor.
- Curate files (notes.md, proofs.md, and output.md).
- Suggest the next steps.

Inputs: 
- task statement
- outputs of provers
- notes.md (informal progress & exploratory work so far)
- proofs.md (rigorous proofs & detailed mathematics so far)
- output.md (main results summary so far)

**Three-tier file system guidelines**:
- **notes.md**: Readable running log of exploratory work, intuitions, failed attempts, ideas. Prefer appending. Replace only if old notes are clearly misleading. Should be self-contained.
- **proofs.md**: Complete rigorous mathematical proofs with full details. Contains proven lemmas, theorems, and detailed derivations. Only add mathematically verified content here.
- **output.md**: ONLY the main problem results. Think twice before adding anything. Should contain a concise summary of the most important theorems that directly advance the main problem. Extremely selective.

Tasks:
1) Audit rigor: identify unjustified steps, false statements, missing lemmas; produce minimal counterexamples.
2) Triage value: separate genuine progress from noise.
3) Guide next steps: propose what provers should try next.

**Return strictly JSON**:
{
  "feedback_md": "Detailed critique of prover outputs (≥200 words). Include concrete next-step suggestions.",
  "summary_md": "Concise summary of this round's work for summarizer.",
  "verdict": "promising|uncertain|unlikely",
  "blocking_issues": ["List of issues preventing progress"],
  "per_prover": [{"prover_id": "01", "brief_feedback": "feedback", "score": "promising|uncertain|unlikely"}],
  "notes_update": {"action": "append|replace", "content": "Markdown for notes.md"},
  "proofs_update": {"action": "append|replace", "content": "Markdown for proofs.md"}, 
  "output_update": {"action": "append|replace", "content": "Markdown for output.md"}
}

**Verdict definitions**:
- **promising**: Significant mathematical progress, publishable results, or clear path to solution
- **uncertain**: Some progress but with unresolved issues or incomplete reasoning  
- **unlikely**: No meaningful progress, fundamentally flawed approaches, or just exploratory work

**Update guidelines**:
- Use null for any update field you don't want to modify
- notes_update: Include informal reasoning, failed attempts, intuitions, exploratory work
- proofs_update: Only include complete, rigorous proofs that you have verified
- output_update: Only include main problem results that directly advance toward the solution


=== USER ===
=== Task (txt) ===

Try to find as strong as possible counterexample to the following question: 

Problem 1. A function theoretic problem, with possible applications to digraphs (suggested by Carl Feghali) Statement and Motivation: Consider two functions f and g from a set E into a set F such that f(x) 6= g(x) for every x ∈ E . Suppose that there exists a positive integer n such that for any element z in F either |f −1 (z)| ≤ n or |g −1 (z)| ≤ n. It was shown in [2] that E can be partitioned into 2n + 1 subsets E1, E2, . . . , , E2n+1 such that f(Ei) ∩ g(Ei) = ∅ for each 1 ≤ i ≤ 2n + 1. This result has nice applications in digraphs, and a short proof was later given in [1]. Question: Is it possible to generalise the above to any number of functions? More specifically, consider functions f1, . . . , fk from a set E into a set F such that fi(x) 6= fj (x) for every x ∈ E and 1 ≤ i < j ≤ k. Suppose that there exists a positive integer n such that for any element z in F, there exists an integer t ∈ {1, . . . , k} such that |f −1 t (z)| ≤ n. Is it true that E can be partitioned into 2n + 1 subsets of E1, . . . , E2n+1 such that fp(Ei) ∩ fq(Ei) = ∅ for each 1 ≤ i ≤ 2n + 1 and 1 ≤ p < q ≤ k?

Attached is a simple counterexample, but perhaps there are stronger ones that also apply to natural weaker variants of the question. 


=== Notes ===

# Research Notes




=== Current Output ===

# Main Results




=== Prover 1 Output ===

Ideas
- We can force the conflict graph G (vertices E; x–y edge if ∃ p≠q with f_p(x)=f_q(y)) to be complete while keeping the hypothesis parameter n* = max_z min_t |f_t^{-1}(z)| equal to 1. Then any bound of the form χ(G) ≤ c(k) n* must satisfy c(k) ≥ χ(G), yielding the strongest possible lower bound on c(k) from n*=1 instances. We also want this construction to remain valid under natural strengthenings (e.g., many indices at each z having small fibres).
- Finite projective planes supply exactly such instances, and they are optimal for n*=1: they give χ(G)=k^2−k+1 with n*=1, and one cannot make χ(G) larger in an n*=1 instance.

Construction (projective plane, n*=1, complete G)
- Let q be a prime power and set k:=q+1. Let F be the set of points and E the set of lines in the projective plane PG(2,q). Then |E|=|F|=q^2+q+1=k^2−k+1. Each line has exactly k points; each point lies on exactly k lines; any two lines meet in exactly one point.
- Consider the incidence bipartite graph B with parts F and E. It is k-regular on both sides, hence has a proper k-edge-coloring by Kőnig’s line-coloring theorem. For each i∈[k], define f_i(L) to be the unique point z∈L such that the incidence edge (z,L) is colored i.
- Check:
  1) Pointwise distinctness: for each line L, the k incident edges have pairwise distinct colors, hence the values f_1(L),…,f_k(L) are distinct.
  2) Fibre sizes: for each point z and color i, there is exactly one line L through z whose incidence edge has color i; hence |f_i^{-1}(z)|=1 for all z,i. Therefore n* = max_z min_i |f_i^{-1}(z)| = 1.
  3) Completeness of G: let L≠M be lines. They meet at a unique point z. At z, the two incidences (z,L),(z,M) receive distinct colors p≠q (proper edge-coloring). Thus f_p(L)=z=f_q(M) with p≠q, so L and M are adjacent. Hence G is complete on |E|=k^2−k+1 vertices.
- Consequence: χ(G)=|E|=k^2−k+1 while n*=1. This is a very strong counterexample: the “2n+1” target equals 3, but one needs k^2−k+1 parts. It also satisfies the much stronger fibre condition “for every z and every i, |f_i^{-1}(z)|=1”.

Optimality for n*=1
- Claim. For any instance with k functions, pointwise distinct outputs, n*=1, and complete conflict graph, one has |E| ≤ k^2−k+1; hence χ(G) ≤ k^2−k+1.
- Proof. Let m:=|E|. For x∈E write S_x={f_i(x): i∈[k]}, so |S_x|=k. Completeness implies S_x∩S_y≠∅ for all x≠y. For z∈F, let d(z):=|{x∈E: z∈S_x}|. If two distinct x,y both contain z, they must use different indices at z; otherwise their unique witness of equality at z would be via the same index, giving no edge. Thus d(z) ≤ k. Count pairs in two ways: every unordered pair {x,y} intersects in at least one z, so C(m,2) ≤ ∑_{z} C(d(z),2) ≤ |F|·C(k,2). Also incidences give mk = ∑_{z} d(z) ≤ k|F|, hence |F| ≥ m. Therefore C(m,2) ≤ m·C(k,2), i.e., (m−1)/2 ≤ k(k−1)/2, so m ≤ k^2−k+1. Equality holds in the projective plane construction. ∎
- Thus for n*=1 the bound χ(G) ≤ (k^2−k+1) is best possible, and any universal linear bound χ(G) ≤ c(k)·n* must satisfy c(k) ≥ k^2−k+1.

Examples
- k=3 (Fano plane): |E|=7, n*=1, G=K_7. Required parts: 7 > 2n+1=3. This is a tiny, explicit, very strong counterexample.
- General k: for any k, pick a prime power q≤k−1 and set k′=q+1. Use PG(2,q) to obtain |E|=q^2+q+1 ≥ Ω(k^2). Pad to k functions by giving each extra index a fresh value per x; this preserves pointwise distinctness, keeps n*=1, and keeps G complete. Hence for all k, we obtain χ(G) ≥ c·k^2 with n*=1.
- Comparison: the permutation construction (E=S_k, f_i(π)=π(i)) gives χ(G)=k! and n*=(k−1)!, so χ/n*=k. The projective-plane family yields χ/n*=k^2−k+1, strengthening the lower bound on any c(k) from k to k^2−k+1.

Why useful here
- Disproves the hoped-for “2n+1” partition for k≥3 in the strongest way: already for n=1 one needs Θ(k^2) parts.
- Robust to weaker/stronger hypotheses: it satisfies even the stronger requirement that all k fibres at each z have size 1, so it defeats natural strengthenings of the hypothesis.

Obstacles and limits
- Existence is guaranteed when k−1 is a prime power (projective planes PG(2,q)). For general k, padding with dummy indices preserves n*=1 and completeness, giving |E| ≳ k^2 up to constant factors (by Bertrand’s postulate choose a prime p∈(k/2,k]).
- The upper bound m ≤ k^2−k+1 shows this family is optimal for n*=1: no n*=1 instance can force χ(G) larger than k^2−k+1.

Next steps
- Seek analogous near-optimal constructions for general n>1 achieving χ(G) ≳ (k^2−k+1)·n while keeping n* = n. This likely requires “layered” designs with controlled colour-multiplicities per z and pairwise-distinguishing labels across layers.
- Investigate universal upper bounds of the form χ(G) ≤ C(k)·n. The n*=1 extremal bound suggests C(k) ≥ k^2−k+1 is necessary; can one prove χ(G) ≤ (k^2−k+1)·n always? If true, it would be tight up to equality at n=1.
- Record small explicit instances (e.g., k=3,7 lines) for notes.md; they are easy for the verifier to check.


=== Prover 2 Output ===

Ideas
- Use the permutation template f_i(π)=π(i) on E⊆S_k to keep the conflict graph complete (so the minimum number of parts equals |E|), but prune E to drive the intrinsic fibre parameter n* down to a small constant (even 1). This yields very strong counterexamples to any bound of the form “2n+1 parts suffice” and, more generally, to any linear-in-n bound with coefficient depending only on k.
- Generalise the pruning via forbidden positions to obtain strong counterexamples even under stronger hypotheses where each z enjoys small fibres in r distinct functions.

Setup and notation
- As in the attached paper, define the conflict graph G on E by joining x≠y iff ∃p≠q with f_p(x)=f_q(y). A partition into classes E_i with f_p(E_i)∩f_q(E_i)=∅ for all p<q is exactly a proper coloring of G; the least number of parts equals χ(G).
- Let n*:=max_{z∈F} min_{t∈[k]} |f_t^{-1}(z)| (the smallest n for which the hypothesis holds).

Construction A (n*=1 but χ≈k!)
- Fix k≥3. Take F=[k]. For i∈[k] and π∈S_k, set f_i(π):=π(i). This satisfies pointwise distinctness.
- Let τ be any permutation of [k]; by conjugation invariance we may w.l.o.g. take τ=id to simplify exposition (the general τ is equivalent by renaming coordinates). Define
  E_0 := {π∈S_k : π has no fixed points} (the derangements), |E_0|=D_k.
  For each s∈[k], choose a permutation π^s with exactly one fixed point, namely π^s(s)=s and π^s(t)≠t for all t≠s (there are D_{k-1} choices for each s). Let E_1 := {π^s : s∈[k]}. Set E := E_0 ∪ E_1.
- Fibres: For z=s, choose t=s. Then f_s^{-1}(s) = {π∈E : π(s)=s} has size 1 (the unique π^s), so min_t |f_t^{-1}(s)|=1. Hence n*=1.
- Completeness: For any distinct π,σ∈E and any symbol s with π^{-1}(s)≠σ^{-1}(s), setting p:=π^{-1}(s) and q:=σ^{-1}(s) gives p≠q and f_p(π)=s=f_q(σ); thus G is complete on E. Therefore χ(G)=|E|=|E_0|+|E_1|=D_k+k.
- Consequences:
  • For k=3, D_3=2, so χ=5 while 2n*+1=3; this already refutes the proposed bound.
  • For general k, χ(G)=D_k+k∼(1/e)k! grows factorially while n*=1. Hence there cannot exist any universal bound χ(G)≤c(k)·n* with subfactorial c(k); necessarily c(k)≥(D_k+k)/n*≈(1/e)k!.

Construction B (general n with exact control)
- With the same F and f_i, for any integer n with 1≤n≤D_{k-1}, choose, for each s∈[k], a set E_s of n permutations, each having exactly one fixed point at s and no others. Let E_n := E_0 ∪ (⋃_{s} E_s). Then for each s, |f_s^{-1}(s)|=n and hence n*=n. The conflict graph on E_n remains complete, so χ(G)=|E_n|=D_k + n k.
- This shows that for every fixed n, taking k sufficiently large (so that D_{k-1}≥n) yields χ(G)≈(1/e)k! despite n*=n. In particular, no bound of the form χ(G)≤c(k)·n with subfactorial c(k) can hold.

A stronger negative under a “weaker” variant (many small fibres per z)
- Variant: For some fixed r≥1, assume a stronger hypothesis that for every z∈F there are at least r distinct indices t_1,…,t_r with |f_{t_j}^{-1}(z)|≤n. We can still force χ to be factorial in k.
- Construction: Pick r permutations τ_1,…,τ_r of [k]. Let E_0(r):={π∈S_k : for all j and all s, π(τ_j(s))≠s}. By a change of coordinates this is the set of permutations avoiding the r disjoint perfect matchings of forbidden cells; inclusion–exclusion/rook polynomials give |E_0(r)|=(e^{-r}+o(1))k! as k→∞. For each s and each j, add n permutations π^{(s,j)} with exactly one “τ_j-fixed point” (i.e., π∘τ_j fixes s and no other element) and no τ_{j'}-fixed points for j'≠j. Let E:=E_0(r) ∪ ⋃_{s,j}{π^{(s,j)}}. Then for each z=s there are r indices t_j:=τ_j(s) with |f_{t_j}^{-1}(s)|=n, yet the conflict graph on E is complete, so χ(G)≥|E_0(r)|+rnk≥(e^{-r}+o(1))k!.
- Hence even under the stronger assumption “at least r functions have small fibre for each z”, any bound depending only on n (or even on n and r) fails drastically.

Why these are useful here
- They directly refute the proposed generalisation to k≥3: even with n*=1 one needs ≳k! parts, not 2n+1=3.
- They strengthen the lower bound in the attached paper from c(k)≥k to c(k)≥Θ(k!), for any putative inequality χ(G)≤c(k)·n* valid for all instances.

Small explicit example (k=3, n*=1)
- E_0={ (1 2 3), (1 3 2) }. E_1={ (2 3), (1 3), (1 2) }. With f_i(π)=π(i):
  • For s=1, only (2 3) contributes to f_1^{-1}(1); similarly for s=2 and s=3.
  • G is K_5, so 5 parts are necessary, contradicting 2n*+1=3.

Obstacles/Checks
- Quantifier in the hypothesis is existential in n; taking the minimal n* is the strongest reading. Our constructions achieve exact n* (1 or any n≤D_{k-1}).
- Completeness of G is preserved for any E⊆S_k under f_i(π)=π(i), ensuring the chromatic number equals |E|.

Next steps
- Formalise and record in proofs: (i) exact counts |E_0(r)| via rook polynomials; (ii) the existence and count of permutations with prescribed set of fixed points for ρ=π∘τ_j. Both are standard (|{ρ with exactly one fixed point}|=k·D_{k-1}).
- Explore tight trade-offs: For fixed k and given n, what is max |E| subject to n*≤n? Our constructions give |E|≥D_k+nk; upper bounds in this regime would further clarify optimality.
- Test small k,n computationally to verify counts and independence condition, and to benchmark χ(G) vs n*.



=== Prover 3 Output ===

Ideas
- Use the conflict-graph viewpoint: vertices are E, and an edge xy exists if ∃ p≠q with f_p(x)=f_q(y). A partition into parts E_i with f_p(E_i)∩f_q(E_i)=∅ for all p<q is exactly a proper coloring of this graph.
- Strengthen the known permutation construction by injecting “light” functions whose images are disjoint from the “heavy” functions, to force n=1 (or even many small fibres per z) while keeping the conflict graph complete.

A very strong counterexample with n=1 (k≥4)
Let k≥4. Put m:=k-1 and r:=1. Take E=S_m and F= [m] ⊔ B, where B is a set in bijection with S_m (to be specified). Define m “heavy” functions h_i:E→[m] by h_i(π)=π(i) for i∈[m], and one “light” function ℓ:E→B by ℓ(π)=b_π (a distinct element of B for each π).
- Pointwise distinctness: For each π, the values h_1(π),…,h_m(π) are the distinct elements of [m], and ℓ(π)∈B disjoint from [m], so all k values are distinct.
- Small fibres with n=1: For any z∈[m], ℓ^{-1}(z)=∅, so min_t |f_t^{-1}(z)|=0≤1. For any z=b_π∈B we have ℓ^{-1}(z)={π}, so again ≤1.
- Completeness of the conflict graph: For any distinct π,σ∈S_m there exists s∈[m] with π^{-1}(s)≠σ^{-1}(s). Let p:=π^{-1}(s) and q:=σ^{-1}(s). Then h_p(π)=s=h_q(σ), hence πσ is an edge. Thus the conflict graph is K_{|E|}=K_{m!}.
Consequently χ=|E|=m!=(k-1)!, so more than 2n+1=3 parts are needed for all k≥4. This refutes the 2n+1 bound in the strongest possible way: already with n=1 and even with one function injective (ℓ), the required number of parts is factorial in k.

A family handling “many small fibres per z” (robust to weaker variants)
Fix k≥3, integers r with 1≤r≤k-2, and set m:=k-r. Let E=S_m. Take pairwise disjoint sets B_1,…,B_r, each in bijection with S_m, and set F=[m] ⊔ B_1 ⊔ … ⊔ B_r. Define heavy functions h_i:E→[m] by h_i(π)=π(i) for i=1,…,m, and light functions ℓ_j:E→B_j by ℓ_j(π)=b^{(j)}_π for j=1,…,r.
- Pointwise distinctness holds as before.
- For every z∈F, at least r functions have fibre size ≤1: 
  • If z∈[m], then ℓ_1^{-1}(z)=…=ℓ_r^{-1}(z)=∅, so r functions have fibre 0.
  • If z∈B_j, then all heavy functions have fibre 0 at z, and all light functions ℓ_{j’} with j’≠j have fibre 0; in fact k−1 functions have fibre 0 and ℓ_j has fibre 1.
Thus for n=1 the property “for every z there exist at least s functions with |f_t^{-1}(z)|≤1” holds for any s≤r.
- The conflict graph remains complete on |E|=m! by the same permutation argument (it uses only the heavy functions), so χ(E)=m!=(k−r)!.
Consequences:
- Even under the strictly stronger hypothesis “for each z at least s functions (s≤r) have fibres ≤1”, the required number of parts can be (k−s)!; in particular no bound of the form C(k,s)·n+O(1) with subfactorial C(k,s) can hold in general when n=1.
- This also shows failure under the natural strengthening “there exists a fixed t with |f_t^{-1}(z)|≤1 for all z” (i.e., one injective function), by taking r≥1.

Relation to the n* parameter
Let n*:=max_{z} min_{t} |f_t^{-1}(z)|. In the above constructions, n*=0 (since some function avoids every z), so linear bounds in n* alone are vacuous for these families. The earlier permutation-only instance has n*=(k−1)! and χ=k·n*, showing any universal inequality χ≤c(k)·n* must have c(k)≥k. Our “light+heavy” instances complement this by showing that controlling n (even n=1) without preventing zero-fibres is far too weak.

Examples
- k=4, r=1, m=3: E=S_3, |E|=6. Need χ=6>3=2n+1. One light (injective) function suffices to force n=1.
- General k≥4 with r=1 gives χ=(k−1)! against n=1.
- General k and any s≤k−2: pick r=s to ensure “≥s small fibres per z”; then χ=(k−s)! with n=1.

Obstacles and remarks
- For k=3, the m=2 construction yields |E|=2≤3, so it does not disprove the 2n+1 bound. A dedicated k=3 counterexample with n small and χ>3 would require a different design; worth exploring separately.
- If one forbids “cheating by zeros” by requiring every z lie in the image of every function, then n*≥1 and the permutation-only instance shows χ≥k·n*. Whether stronger impossibility results persist under such surjective constraints across all k functions is an interesting next step.

Next steps
- Seek k=3 counterexamples with n as small as possible and χ>2n+1.
- Investigate constraints like “every z appears in at least t functions” (t≥2) and quantify the minimal number of parts; our heavy+light family already gives χ=(k−t)! with n=1 when t≤k−1.
- Explore whether completeness with m heavy functions is best possible (is |E|≤m! necessary for completeness under pointwise distinctness?). Proving such a cap would clarify optimality.



=== Prover 4 Output ===

Ideas
- Work in the conflict-graph formulation: vertices are elements of E; x,y are adjacent iff ∃ p≠q with f_p(x)=f_q(y). Then a partition with f_p(E_i)∩f_q(E_i)=∅ for all p<q is exactly a proper coloring; the minimum number of parts equals χ(G).
- Use the permutation template: take F=[k], E⊆S_k, and define f_i(π)=π(i). This enforces pointwise distinctness automatically. Crucial fact: for any distinct π,σ∈S_k there is a symbol s with π^{-1}(s)≠σ^{-1}(s), hence f_{π^{-1}(s)}(π)=s=f_{σ^{-1}(s)}(σ) with different indices, so the conflict graph on E is complete. Thus χ(G)=|E| for any E⊆S_k.

Main counterexample (n=1, complete graph, huge χ)
Proposition (derangement family). Fix k≥4. Let E be the set D_k of derangements of [k] (no fixed points), let F=[k], and define f_i(π)=π(i).
- Hypothesis with n=1 holds in a stronger form: for each z∈F, taking t=z gives f_z^{-1}(z)=∅ (so |f_t^{-1}(z)|=0≤1).
- The conflict graph is complete (by the permutation argument above), so χ(G)=|E|=|D_k|=!k≈k!/e.
Conclusion: With n=1 we need ≈k!/e colors; in particular the bound 2n+1=3 fails dramatically for all k≥4. This also defeats any variant where the hypothesis is strengthened to allow f_t^{-1}(z)=∅.

Small-k illustration. For k=4: |D_4|=9, n=1, χ(G)=9>3. For k=5: |D_5|=44, n=1, χ(G)=44>3.

A tuned family for arbitrary n (still complete graphs)
Fix k≥3. For each z∈[k], let S_z be any subset of permutations with exactly one fixed point at z (and no other fixed points), of size at most n. Set
E := D_k ∪ ⋃_{z=1}^k S_z and f_i(π)=π(i).
- For each z, choose t=z. Then f_z^{-1}(z)=S_z, so |f_z^{-1}(z)|≤n. The hypothesis holds.
- The conflict graph on E is complete, hence χ(G)=|E|=|D_k|+∑_z|S_z|=!k + kn.
Remarks: For each z there are exactly !(k−1) permutations with exactly one fixed point at z, so we can realize any n≤!(k−1). This shows that even for small n (e.g., n fixed while k→∞) we need χ(G) growing like !k.

A tight k=3 instance
Let k=3, E=S_3, F=[3], f_i(π)=π(i).
- For any i and z, |f_i^{-1}(z)|=2, hence the hypothesis holds with n=2.
- The conflict graph is complete, so χ(G)=6>2n+1=5. Thus the k=3 case already falsifies the 2n+1 bound (with n=2). For n=1, the permutation template gives at most |E|=|D_3|=2 (or 3 if adding the identity), so no violation with n=1 here; whether there exists a non-permutation n=1 counterexample for k=3 remains open (worth a targeted search).

Implications for “weaker variants”
- Any linear upper bound χ(G)≤c(k)·n must have c(k)≥k (per the attached permutation instance). The derangement family with n=1 further implies that any bound of the form χ(G)≤c(k)n+b(k) forces b(k)≥!k−c(k), i.e., the additive term must grow at least factorially in k. So no bound of the form O_k(n)+poly(k) can hold.
- Because these conflict graphs are complete, the same lower bounds apply to list-chromatic, DP-chromatic, and fractional chromatic numbers.

Why these are “strong”
- They violate the conjectured 2n+1 bound at the extreme n=1 and even under the stronger hypothesis “for each z some f_t omits z entirely.”
- They force any universal linear-in-n bound to have both coefficient and additive term large (coefficient ≥k; additive term ≥!k−c(k)).

Obstacles and checks
- For k=3, achieving n=1 with χ≥4 via the permutation template seems impossible; a systematic computer search over general functions (small F) could resolve existence.
- For the tuned family, picking S_z with exactly one fixed point at z ensures the sets S_z are disjoint across z; hence |E|=!k+kn is exact for any n≤!(k−1).

Next steps
- Compute/verify maximal χ for k=3 under n=1 by exhaustive search (small F) to see if a counterexample exists or a positive result holds in this corner case.
- Explore requiring “for each z, at least r indices have |f_t^{-1}(z)|≤n.” Can one keep χ superlinear for small r≥2? A natural test-bed is permutations constrained to have few specified fixed points.
- If applications demand extra structure (e.g., each f_i surjective; or fibres near-uniform), derangement-based constructions can be adapted by balanced sampling from S_k while preserving f_z^{-1}(z) small for designated z.


=== Papers (text) ===

=== Paper (papers/paper1.txt) ===
\documentclass[11pt]{article}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amssymb,amsthm}
\usepackage{microtype}
\usepackage{hyperref}

\newtheorem{theorem}{Theorem}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{remark}[theorem]{Remark}

\begin{document}

\title{A Sharp Linear Lower Bound in the Multi-Function Partition Problem}
\author{}
\date{}
\maketitle

\begin{abstract}
We consider $k\ge2$ functions $f_1,\dots,f_k:E\to F$ with pointwise distinct outputs and the associated \emph{conflict graph} $G$ on $E$, where $xy$ is an edge iff there exist $p\ne q$ with $f_p(x)=f_q(y)$. Let
\[
n^{*} \;:=\; \max_{z\in F}\ \min_{t\in[k]} |f_t^{-1}(z)|
\]
be the intrinsic fibre parameter. We prove that any general linear upper bound of the form
$\chi(G)\le c(k)\,n^{*}$ (valid for all such instances with $k$ functions) must satisfy $c(k)\ge k$ for every $k\ge2$.
The proof uses a permutation construction with $\chi(G)=k!$ and $n^{*}=(k-1)!$.
\end{abstract}

\section{Setup}
Let $k\ge2$ and $f_1,\dots,f_k:E\to F$ satisfy \emph{pointwise distinctness}:
\[
\forall x\in E,\ \ \text{the values } f_1(x),\dots,f_k(x)\ \text{are pairwise distinct}.
\]
Define the \emph{conflict graph} $G$ on vertex set $E$ by joining distinct $x,y\in E$ whenever
\begin{equation}\label{eq:conflict}
\exists\, p\ne q\in[k]\ \ \text{such that}\ \ f_p(x)=f_q(y).
\end{equation}
A partition $E=\bigsqcup_i E_i$ has the property that $f_p(E_i)\cap f_q(E_i)=\varnothing$ for all $p\ne q$ if and only if each $E_i$ is a stable set in $G$; hence the minimum number of parts equals $\chi(G)$.

We measure the ``size'' of fibres by
\begin{equation}\label{eq:nstar}
n^{*} \;:=\; \max_{z\in F}\ \min_{t\in[k]} |f_t^{-1}(z)|,
\end{equation}
the smallest integer $n$ for which the hypothesis ``$\forall z\ \exists t$ with $|f_t^{-1}(z)|\le n$'' holds.

\section{A permutation construction}
Let $E=S_k$ be the set of all permutations of $[k]=\{1,\dots,k\}$, take $F=[k]$, and define
\begin{equation}\label{eq:perm}
f_i(\pi)\ :=\ \pi(i)\qquad(\pi\in S_k,\ i\in[k]).
\end{equation}
Pointwise distinctness holds since $\{\pi(1),\dots,\pi(k)\}=[k]$ for each $\pi$.

\begin{lemma}\label{lem:complete}
For the instance \eqref{eq:perm}, the conflict graph $G$ is complete on $|E|=k!$ vertices.
\end{lemma}
\begin{proof}
Let $\pi\ne\sigma\in S_k$. Choose a symbol $s\in[k]$ such that $\pi^{-1}(s)\ne\sigma^{-1}(s)$ (some symbol moves position).
Then with $p:=\pi^{-1}(s)$ and $q:=\sigma^{-1}(s)$ we have $p\ne q$ and
\[
f_p(\pi)=\pi(p)=s=\sigma(q)=f_q(\sigma).
\]
By \eqref{eq:conflict}, $\pi$ and $\sigma$ are adjacent. Hence every pair is adjacent and $G$ is complete.
\end{proof}

\begin{lemma}\label{lem:nstar}
For the instance \eqref{eq:perm}, for every $z\in[k]$ and $i\in[k]$ the fibre size $|f_i^{-1}(z)|=(k-1)!$. Consequently $n^*=(k-1)!$.
\end{lemma}
\begin{proof}
Fix $i$ and $z$. The constraint $f_i(\pi)=z$ is $\pi(i)=z$. The remaining $k-1$ positions can be permuted arbitrarily, giving $(k-1)!$ permutations. For fixed $z$, the minimum of $|f_i^{-1}(z)|$ over $i$ is therefore $(k-1)!$, and taking the maximum over $z$ yields $n^{*}=(k-1)!$.
\end{proof}

Combining Lemmas~\ref{lem:complete} and \ref{lem:nstar} we obtain
\begin{equation}\label{eq:ratio}
\chi(G) \ =\ k!\ =\ k\cdot (k-1)!\ =\ k\,n^{*} .
\end{equation}

\section{Main lower bound}
\begin{theorem}[Sharp linear lower bound]\label{thm:ck}
Let $c:\{2,3,\dots\}\to\mathbb{R}_{\ge0}$ be any function with the property that \emph{for every} instance of $k$ functions as above, the associated conflict graph $G$ satisfies
\[
\chi(G)\ \le\ c(k)\,n^{*}.
\]
Then necessarily $c(k)\ge k$ for every $k\ge2$.
\end{theorem}
\begin{proof}
Apply the assumed bound to the permutation instance \eqref{eq:perm}. By \eqref{eq:ratio} we have $\chi(G)=k\,n^{*}$, hence
\[
k\,n^{*} \ =\ \chi(G)\ \le\ c(k)\,n^{*}.
\]
Since $n^{*}>0$, it follows that $c(k)\ge k$.
\end{proof}

\begin{remark}
The proof is purely extremal and shows that the linear coefficient in any universal bound of the form $\chi(G)\le c(k)\,n^{*}$ cannot be smaller than $k$. In particular, no bound independent of $k$ is possible, and any attempt to use a constant $<k$ fails already on the permutation family.
\end{remark}

\bigskip
\noindent\textbf{Acknowledgement.} The permutation construction is folklore in related coloring problems.

\end{document}

