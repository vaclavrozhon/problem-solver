Ideas
- Keep the conflict-graph view: a valid partition equals a proper coloring; the target 2n+1 bound asks for χ(G)≤2n+1. Strong counterexamples come from constructing complete G with small n.
- Strengthen two regimes:
  (A) Allow zero fibres: force χ to be factorial while preserving n=1 and even “at least r small fibres per z”.
  (B) Forbid zero fibres (all |f_i^{-1}(z)| equal or at least 1): show optimal quadratic ceiling and provide tight constructions (projective planes) with n=1.

New constructions and proofs
Proposition 1 (Factorial-size K_|E| with n=1 and ≥r small fibres per value).
Fix integers k≥3 and r∈{1,…,k−1}, and any n≥1. Let F=[k], E⊆S_k, and define f_i(π)=π(i) for i∈[k]. Choose r disjoint permutation matrices P_1,…,P_r on [k]×[k] (e.g., cyclic shifts). Let B:=P_1∪…∪P_r and A:=J−B (J all-ones). Define E_0(r):={π∈S_k: π avoids B}.
- For every distinct π,σ∈E_0(r), there exists s with π^{-1}(s)≠σ^{-1}(s), hence f_{π^{-1}(s)}(π)=s=f_{σ^{-1}(s)}(σ) with distinct indices, so the conflict graph on E_0(r) is complete.
- For each z∈F and each j∈[r], the unique row t_j(z) with P_j(t_j(z),z)=1 is forbidden in A; hence f_{t_j(z)}^{-1}(z)=∅ on E_0(r). Thus for every z there are ≥r indices with fibre size 0.
- van der Waerden bound: A has constant row/col sum k−r. After scaling A′:=A/(k−r) is doubly-stochastic, so per(A′)≥k!/k^k. Thus |E_0(r)|=per(A)≥(k−r)^k·k!/k^k = (1−r/k)^k k! ≈ e^{−r}k!.
Now, for each z and each j=1,…,r, add any n permutations π with π(t_j(z))=z (there are (k−1)! choices; pick any n). Let E:=E_0(r) ∪ ⋃_{z,j} E_{z,j} where |E_{z,j}|=n and each π∈E_{z,j} satisfies π(t_j(z))=z. Then:
- Completeness persists (adding vertices preserves the previously witnessed conflicts).
- For each z and each j, f_{t_j(z)}^{-1}(z) has size exactly n (E_0(r) contributed 0 on those cells by construction). Hence for every z there are r indices with fibre size exactly n, so the hypothesis holds with n.
- Therefore χ(G)=|E|≥(1−r/k)^k k! + rn k.
This yields factorial-size complete graphs already at n=1 and even under the strengthened requirement “for each z, at least r indices have |f_t^{-1}(z)|≤n”.

Lemma 2 (Bipartite template; all fibres 1, n=1, complete G).
Let H be a k-regular bipartite graph with parts (E,F) that admits a proper k-edge-coloring into perfect matchings M_1,…,M_k. Define f_i(x) as the unique neighbor of x via M_i. If any two distinct x,y∈E have a common neighbor in H, then:
- Distinctness: {f_1(x),…,f_k(x)}=N_H(x) are pairwise distinct.
- Uniform fibres: for all i,z, |f_i^{-1}(z)|=1 (each M_i is perfect), so n=1 and no zero fibres.
- Completeness: if z∈N(x)∩N(y), the incident colors at z are distinct, say p≠q, and f_p(x)=z=f_q(y), so G is complete.
Classical symmetric designs (PG(2,q), more generally PG(d,q)) supply H.

Proposition 3 (Quadratic ceiling in the bijective regime; tightness at planes).
Suppose |E|=|F|=v and each f_i is a bijection (|f_i^{-1}(z)|=1 ∀i,z). If G is complete, then v≤k^2−k+1, with equality iff every pair of x≠y has exactly one common image value (a symmetric 2-(v,k,1) design, i.e., a projective plane).
Proof. Let c_z be the number of preimages x with z among {f_1(x),…,f_k(x)}. Since each color is bijective and values at an x are distinct, c_z=k for all z. Double-count pairs (unordered) of E-vertices sharing some z: LHS = ∑_z C(c_z,2) = v·C(k,2) = v·k(k−1)/2. Completeness implies every pair is counted at least once, giving RHS ≥ C(v,2)=v(v−1)/2. Hence v≤k(k−1)+1. Equality forces each pair to meet at exactly one z; this is a symmetric 2-(v,k,1) design.
Corollary. For k=q+1 (q a prime power), taking lines vs points in PG(2,q) and applying Lemma 2 gives n=1 and χ(G)=v=k^2−k+1, which is best possible under bijectivity.

Extension 4 (Uniform r-to-1 fibres; upper bound).
Assume for some r≥1 that for all i,z we have |f_i^{-1}(z)|=r (so v=|E|=r|F|). If G is complete, then v≤kr(kr−1)+1.
Proof. For each z, the multiset of preimages across colors has size kr and values are all distinct across colors at fixed x, hence c_z=kr. Double-count: ∑_z C(kr,2) = |F|·kr(kr−1)/2 = (v/r)·kr(kr−1)/2 ≥ C(v,2) = v(v−1)/2. Rearranging gives v≤kr(kr−1)+1.
Remark. Cloning the projective-plane construction r-fold attains v=r(k^2−k+1), which respects but does not meet the bound.

Examples
- k=3 (Fano plane): v=7; f_1,f_2,f_3 bijections; n=1; G=K_7; χ=7>3.
- k=3, factorial family at n=1: E={(123),(132)}∪{(23),(13),(12)} gives G=K_5.
- General k, r=2, n=1: Proposition 1 yields χ≥(1−2/k)^k k! + 2k; for k=6 this is ≥ (4/6)^6·720 + 12 ≈ (0.0878)·720 + 12 ≈ 75 + 12 = 87.

Obstacles
- Near-tightness for Extension 4 (r>1) remains open: our r-fold blow-up preserves n=1 completeness but does not saturate the quadratic bound; constructing complete-G instances with uniform r-to-1 fibres approaching v≈kr(kr−1)+1 would be interesting.
- “Pinned completion” counts (choose permutations through a specific cell while avoiding others) are delicate; for our purposes, existence (abundant choices) suffices and was used without quantitative lower bounds beyond (k−1)!.

Next steps
- Record formal proofs of Propositions 1, 3, 4 and Lemma 2 in proofs.md, including the van der Waerden permanent argument.
- Explore constructions with uniform r-to-1 fibres that increase χ beyond r·(k^2−k+1), or prove stronger upper bounds in that regime.
- Catalog symmetric designs beyond projective planes (biplanes, Hadamard-derived) to widen the set of k with n=1, bijective fibres, and complete G; list explicit (k,v).
- For completeness-based lower bounds, analyze when completeness holds in general k-regular bipartite templates (pairwise co-neighborhood property) to systematize constructions.
