{
  "content": "# Goal and plan\nWe seek an analogue of the 2D theorem for the 3D coloring c3 on V=[n]^3: every nontrivial U\u2282[n]^3 spans an edge whose color appears exactly once in G[U]. I lay down a counting \u201cdictionary\u201d for all 13 types in 3D (anchored vs balanced cases), extract immediate corollaries that give uniqueness under simple witness conditions, and isolate a slicing lemma that lifts a 2D\u2013unique color in a single z\u2013plane to a 3D\u2013unique color provided a mild \u201cbase isolation\u201d holds. Then I outline a strategy to combine these ingredients toward the full 3D result.\n\nThroughout, for a vertex p=(x,y,z) write\nNE3(p):={q\u2208U: q_x>x, q_y>y, q_z>z}.\nFor a fixed z, let U_z={ (x,y): (x,y,z)\u2208U } and inside the slice define\nNE2^{(z)}(x,y):= { (x',y')\u2208U_z: x'>x, y'>y }.\nSimilarly, for a fixed pair (y,z) let the x\u2013fiber U_{y,z}={x: (x,y,z)\u2208U}, and analogously for other pairs.\n\n\nIdeas: anchored vs balanced types and multiplicity formulas\n\nFix a type T, whose support J(T)\u2286{x,y,z} is the set of coordinates where the endpoints differ, and whose sign pattern is taken up to global negation. I call T anchored if, on J(T), all nonzero signs are equal (so one endpoint is simultaneously the minimizer on all of J(T)); otherwise balanced.\n\nI. |J|=3 (all three coordinates differ)\n\n\u2022 Anchored (+++ up to \u00b1). Color is (T; \u03b1,\u03b2,\u03b3) with (\u03b1,\u03b2,\u03b3) the minima. Multiplicity:\nFact A3. For p=(\u03b1,\u03b2,\u03b3), the number of edges of color (T;\u03b1,\u03b2,\u03b3) equals 1_{p\u2208U}\u00b7|NE3(p)|.\nIn particular, uniqueness holds iff p\u2208U and |NE3(p)|=1.\nWhy useful: directly generalizes 2D Fact t1.\n\n\u2022 Balanced with one minus, say (+,+,\u2212) up to \u00b1. Then the minima are \u03b1 on x, \u03b2 on y, and \u03b3 on z, but these minima belong to two different endpoints. Define\na_{xy|z}(\u03b1,\u03b2,\u03b3):= #{ u\u2208U: x(u)=\u03b1, y(u)=\u03b2, z(u)>\u03b3 },\nb_{z|xy}(\u03b1,\u03b2,\u03b3):= #{ v\u2208U: z(v)=\u03b3, x(v)>\u03b1, y(v)>\u03b2 }.\nFact B3(+,+,\u2212). The multiplicity equals a_{xy|z}(\u03b1,\u03b2,\u03b3)\u00b7b_{z|xy}(\u03b1,\u03b2,\u03b3).\nProof sketch: Each unordered pair is uniquely oriented (x,y increase, z decreases). Then min x,y are realized at u with (\u03b1,\u03b2,\u00b7) and min z at v with (\u00b7,\u00b7,\u03b3); this gives a bijection between edges of that color and pairs u,v as above. The other two one-minus patterns are analogous with the obvious relabeling.\nWhy useful: reduces multiplicity to a product of two independent counts across perpendicular fibers, mirroring 2D Fact t2.\n\nII. |J|=2 (one coordinate equal, say z equal)\n\nWithin each z\u2013slice we are back in 2D. Let T_xy^= denote a type supported on {x,y} with z equal.\n\n\u2022 Anchored (same sign on x,y). Color is (T_xy^=; \u03b1,\u03b2). Multiplicity:\nFact A2(z\u2013slices). The total number of edges of this color equals\n\u2211_{z=1}^n 1_{(\u03b1,\u03b2,z)\u2208U} \u00b7 | NE2^{(z)}(\u03b1,\u03b2) |.\nWhy useful: decomposes across z\u2013slices; anchored forces a base vertex (\u03b1,\u03b2,z) inside the slice.\n\n\u2022 Balanced (opposite sign on x,y). Color is (T_xy^=; \u03b1,\u03b2). Put, for each z,\nr^{(z)}(\u03b1,\u03b2):= #{ (\u03b1,y,z)\u2208U: y>\u03b2 },  s^{(z)}(\u03b1,\u03b2):= #{ (x,\u03b2,z)\u2208U: x>\u03b1 }.\nFact B2(z\u2013slices). The multiplicity equals \u2211_{z=1}^n r^{(z)}(\u03b1,\u03b2)\u00b7s^{(z)}(\u03b1,\u03b2).\nWhy useful: again a product structure per slice, then summed over slices.\n\nThe two other choices of the equal coordinate are symmetric.\n\nIII. |J|=1 (only one coordinate differs)\n\nSay J={x}, y and z are equal. Color is (T_x; \u03b1) with \u03b1=min x. Define for each pair (y,z)\nt_{y,z}(\u03b1):= #{ x>\u03b1: (x,y,z)\u2208U }.\nFact A1. The multiplicity equals \u2211_{(y,z)} 1_{(\u03b1,y,z)\u2208U} \u00b7 t_{y,z}(\u03b1).\nSymmetric statements hold for J={y} and J={z}.\nWhy useful: reduces to 1D counts on lines (fibers).\n\n\nExamples (sanity checks)\n\n1) Two points u=(1,1,2), v=(2,2,1). Type is (+,+,\u2212) up to \u00b1 with minima (\u03b1,\u03b2,\u03b3)=(1,1,1). Here a_{xy|z}=#{(1,1,2)}=1 and b_{z|xy}=#{(2,2,1)}=1, hence multiplicity is 1.\n\n2) Anchored |J|=2 within a fixed z. Let U_{z0} contain p=(\u03b1,\u03b2,z0) and exactly one q=(x',y',z0) with x'>\u03b1,y'>\u03b2; assume no (\u03b1,\u03b2,z) exists for z\u2260z0. Then Fact A2 gives multiplicity 1 (one from z0, zero from other slices).\n\n\nRigorous lemmas extracted (immediate consequences)\n\nLemma 1 (anchored 3D win). If there exists p\u2208U with |NE3(p)|=1, then G[U] has a unique color, namely the anchored |J|=3 color (T=+++ up to \u00b1) with minima at p.\nProof: Fact A3.\n\nLemma 2 (anchored 2D-in-slice lift). Fix z0 and suppose there exist \u03b1,\u03b2 with (\u03b1,\u03b2,z0)\u2208U and |NE2^{(z0)}(\u03b1,\u03b2)|=1, and furthermore (\u03b1,\u03b2,z)=\u2209U for all z\u2260z0. Then the |J|=2 anchored color (x,y change, z equal) with minima (\u03b1,\u03b2) appears exactly once in G[U].\nProof: Fact A2 gives multiplicity 1 at z0 and 0 at z\u2260z0.\n\nLemma 3 (balanced 3D product). For (+,+,\u2212) up to \u00b1, if a_{xy|z}(\u03b1,\u03b2,\u03b3)=s=b_{z|xy}(\u03b1,\u03b2,\u03b3)=1, then the corresponding color is unique in G[U].\nProof: Fact B3.\n\nRemark (what each lemma buys): Lemma 1 is a direct 3D analogue of the 2D type\u20131 uniqueness trigger. Lemma 2 is a robust slicing tool: it turns a 2D anchored uniqueness inside one plane into a global uniqueness once the base pair (\u03b1,\u03b2) does not occur in other slices. Lemma 3 supplies a new 3D\u2013only uniqueness mechanism (balanced |J|=3), unavailable in 2D.\n\n\nLex-maximal eligible points in 3D and a local antichain\n\nDefine a point a\u2208U to be 3D\u2013eligible if NE3(a)\u2260\u2205. Order triples lex in (z,y,x). A lex\u2013max among 3D\u2013eligible points is any a maximizing (z(a),y(a),x(a)) among {p\u2208U: NE3(p)\u2260\u2205}.\n\nLemma 4 (3D lex antichain). If a is lex\u2013max among 3D\u2013eligible points, then NE3(q)=\u2205 for every q\u2208NE3(a).\nProof: If q\u2208NE3(a) had some r\u2208NE3(q), then r has (z(r),y(r),x(r))>(z(q),y(q),x(q))>(z(a),y(a),x(a)), so r would be 3D\u2013eligible and lex\u2013larger than a, a contradiction.\n\nCorollary 4.1. If |NE3(a)|=1, Lemma 1 applies and we are done.\n\nObstacle: In 2D, Lemma 4 implied that NE(a) was an antichain for the 2D NE order and powered the row/column \u201cpropagation.\u201d In 3D, Lemma 4 controls only the 3D\u2013NE order (strict in all three coordinates). It no longer prohibits 2D\u2013NE relations inside a fixed z\u2013slice (z equal), so the exact 2D propagation cannot be transplanted verbatim.\n\n\nA safe slicing lemma for anchored |J|=2 types\n\nDefinition (base\u2013isolation in a slice). Call (\u03b1,\u03b2) isolated at z0 if (\u03b1,\u03b2,z0)\u2208U and (\u03b1,\u03b2,z)=\u2209U for all z\u2260z0.\n\nLemma 5 (slice-to-global uniqueness). Let z0 be any slice with |U_{z0}|\u22652. If, inside the 2D graph on U_{z0} under the 2D coloring (types 1\u20134 as in the given 2D proof), there exists an anchored type\u20131 edge from a base (\u03b1,\u03b2) with |NE2^{(z0)}(\u03b1,\u03b2)|=1 and (\u03b1,\u03b2) isolated at z0, then G[U] has a unique color (the |J|=2 anchored xy\u2013type with minima (\u03b1,\u03b2)).\nProof: Precisely Lemma 2.\n\nRemark. The 2D theorem guarantees some unique color in U_{z0}, but it may be of type 2 (opposite signs) or a horizontal/vertical type, which is not directly safe to lift. Lemma 5 requires specifically a type\u20131 (anchored) uniqueness in the slice plus isolation of its base pair across slices.\n\n\nWhy these are useful here\n\n\u2022 The counting dictionary provides exact multiplicities for every color, turning the global uniqueness goal into concrete witness conditions, particularly the \u201c=1\u201d triggers in Facts A3, B3, A2, B2, A1.\n\n\u2022 Lemmas 1\u20133 enumerate three disjoint mechanisms that force a unique color: a 3D anchored NE\u2013singleton, a 3D balanced one\u2013minus product singleton, and an anchored 2D singleton safely lifted from a slice. Each can be checked locally (around one vertex, two perpendicular fibers, or one slice) and is independent of the rest of the graph.\n\n\u2022 Lemma 4 gives a disciplined way to pick a distinguished point a at which either Lemma 1 applies immediately (|NE3(a)|=1) or one tries to organize \u201cpropagation\u201d or a slice attack.\n\n\nObstacles identified\n\n1) Direct 2D propagation does not lift: Lemma 4 does not prevent 2D\u2013NE comparabilities in a fixed z\u2013slice, so the geometric exclusions used in the 2D propagation (e.g., \u201cc1 cannot be left of b2 else b2\u2208NE(c1)\u201d) need genuine 3D replacements.\n\n2) Lifting a 2D unique color from a slice is not automatic: horizontal/vertical (|J|=1 in 3D) and balanced slice\u2013types (|J|=2 opposite signs) can easily be replicated in other slices since the 3D color omits the equal coordinate\u2019s value. Hence isolation is needed (Lemma 5) or a different mechanism (Lemma 3).\n\n\nConcrete next steps\n\nStep A (balanced 3D trigger). Prove a 3D analogue of the 2D \u201cpropagation\u201d but aimed at balanced |J|=3 colors via Fact B3: starting from a lex\u2013max 3D\u2013eligible a, either we find q with |NE3(q)|=1 (Lemma 1), or we locate (\u03b1,\u03b2,\u03b3) with a_{xy|z}=b_{z|xy}=1 (or a symmetric variant), producing a unique balanced |J|=3 color (Lemma 3). The product structure is promising for a forcing argument because \u201cno uniqueness\u201d compels at least a second witness on one factor, which can be pushed to create a third on the other factor, leading to a contradiction with a suitable extremal choice (to be formalized).\n\nStep B (slice anchoring). Inside any slice U_{z0} with \u22652 points, the 2D proof actually constructs an anchored unique color (type 1 or a horizontal/vertical), not necessarily type 2. Isolate the case when the slice\u2019s unique color is type 1, and combine it with base\u2013isolation across slices (Lemma 5). If no slice admits such an isolated base (\u03b1,\u03b2), set up a descending chain of z\u2013levels forced by \u201cnon-uniqueness elsewhere\u201d and show it cannot continue indefinitely.\n\nStep C (fiber sparsity for |J|=1). Use Fact A1 to show: if some line fiber U_{y,z} has exactly two x\u2013points \u03b1<\u03b1' and no other line fiber contains \u03b1, then the color (T_x; \u03b1) is unique. Search for such sparse fibers via a simple extremal argument (e.g., fix \u03b1 minimal appearing in any fiber; if it appears in exactly one fiber, we are done; otherwise try to leverage the repetitions to produce a balanced |J|=3 singleton using Step A).\n\n\nSmall verifiable claims to extract now\n\nClaim 6 (complete multiplicity dictionary). The analogues of Facts A3/B3/A2/B2/A1 hold for every permutation of coordinates and for every sign class in |J|=3 balanced (exactly one minus), |J|=2 anchored/balanced, and |J|=1 anchored. The proofs are routine variants of the two model proofs above (anchored counts by anchoring at a base vertex/fiber; balanced counts factorize into a product along two perpendicular fibers), and the verifier can fill in the symmetric cases.\n\nClaim 7 (two quick-win criteria). If (i) there exists p with |NE3(p)|=1, or (ii) there exist \u03b1,\u03b2,\u03b3 with a_{xy|z}(\u03b1,\u03b2,\u03b3)=b_{z|xy}(\u03b1,\u03b2,\u03b3)=1, then G[U] contains a uniquely colored edge under c3.\n\nClaim 8 (safe slice lifting). If some slice z0 contains a 2D\u2013type\u20131 unique edge with base (\u03b1,\u03b2) that is isolated across slices, then G[U] has a unique color under c3 (anchored |J|=2 on x,y with z equal).\n\n\nSummary\n\n\u2022 I established explicit and general multiplicity formulas in 3D for all relevant type classes. These reduce uniqueness to checking simple local counts (NE\u2013sizes for anchored, and products of independent counts for balanced types).\n\n\u2022 Immediate uniqueness mechanisms (anchored 3D, balanced 3D, and slice-anchored 2D) are isolated as lemmas, with short proofs. These are testable on instances and will be useful subroutines in the full argument.\n\n\u2022 The main obstacle to porting the 2D proof is that the 3D lex\u2013antichain blocks only strict 3D increases, not 2D increases inside a slice. I outlined two viable routes: a new \u201cbalanced\u2013type propagation\u201d using the product counts (Step A), and a \u201cslice anchoring\u201d strategy combining 2D anchored uniqueness with cross-slice isolation (Step B), plus a fiber\u2013sparsity fallback for |J|=1 (Step C).\n\nThe next round will formalize Step A: a propagation lemma for the balanced (+,+,\u2212) class modelled on Fact B3, and a dichotomy showing that a lex\u2013max 3D\u2013eligible a either triggers Lemma 1 or forces a product\u2013singleton as in Lemma 3. This would settle the 3D statement or at least prove a substantial special case."
}