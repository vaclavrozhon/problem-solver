Ideas

- Reduce to a 2D slice when any coordinate fiber has size ≥2; the given d=2 theorem then supplies a unique color in the slice, and c3’s remembering of equal coordinates lifts uniqueness globally.
- Otherwise, U is coordinatewise-injective (no two points share x, y, or z). Then either there is a mixed-sign edge, whose color multiplicity factors into two 0–1 counts hence equals 1, or all edges are of [+++]-type (a chain), and the edge from the penultimate point has multiplicity 1 by a NE-count.

Lemma S (slice lifting)

Statement. If there exist t∈[n] and a coordinate c∈{x,y,z} such that |U∩{c=t}|≥2, then G[U] has an edge whose c3-color appears exactly once in G[U].

Proof. WLOG c=z. Let U_t={ (x,y) : (x,y,t)∈U }. By the d=2 theorem, G[U_t] contains an edge e_t with a 2D color unique in G[U_t]. Viewed in 3D, e_t has z∈E(T), and c3(e_t) records ℓ_z=t. If an edge e′ in G[U] had c3(e′)=c3(e_t), then T(e′)=T(e_t), so z∈E(T(e′)), and ℓ_z(e′)=t. Hence both endpoints of e′ lie in the plane z=t. Within that plane, equality of 3D colors implies equality of the 2D colors (the 3D label refines the 2D label), contradicting the 2D uniqueness of e_t. Thus c3(e_t) is unique in G[U]. ∎

Multiplicity facts in 3D (used in the injective case)

- Type [+++]. For α∈[n]^3, the number of edges colored ([+++],α) equals 1_{α∈U}·|NE_3(α)|, where NE_3(α)={q∈U: q_x>α_x, q_y>α_y, q_z>α_z}.
- Type with one negative sign, e.g. [+,+,−]. For α∈[n]^3, define
  r_{xy}(α)=|{ p∈U: p_x=α_x, p_y=α_y, p_z>α_z }|,
  s_{xy}(α)=|{ q∈U: q_x>α_x, q_y>α_y, q_z=α_z }|.
  Then the number of edges colored ([+,+,−],α) equals r_{xy}(α)·s_{xy}(α). Proof: every such edge is uniquely represented as an ordered pair (p,q) with p as above and q as above; conversely any such (p,q) yields color ([+,+,−],α).
- The analogous factorization holds for any fixed sign pattern on {x,y,z} with E(T)=∅ (two negatives swap roles of coordinates accordingly).

Lemma GP (general-position uniqueness)

Statement. Suppose U⊆[n]^3 is coordinatewise-injective: distinct points have distinct x-, y-, and z-coordinates. Then G[U] contains an edge with a unique c3-color.

Proof. Order U by increasing z: v_1,…,v_m with z_1<⋯<z_m, m≥2. Let v_m be top-z, and choose v_i among {v_1,…,v_{m-1}} with maximal x (uniquely determined by injectivity). Consider e={v_i,v_m}.

Any edge having the same color as e must match ℓ(e). Since z’s are all distinct, ℓ_z(e)=z_i forces the lower endpoint in z to have z=z_i; hence any duplicate must be {v_i,v_j} with j>i. Compare ℓ_x and ℓ_y:
- If x_m<x_i, then ℓ_x(e)=x_m. Injectivity gives no j with x_j=x_m, so no duplicate.
- If y_m<y_i, then ℓ_y(e)=y_m, and similarly no duplicate exists.
- If x_m>x_i and y_m>y_i, then ℓ_x(e)=x_i and ℓ_y(e)=y_i. A duplicate {v_i,v_j} would require x_j>x_i and y_j>y_i. But v_i was chosen with maximal x among j<m, hence no such j<m. Thus no duplicate.
In all cases c3(e) is unique. ∎

Corollary (mixed-sign uniqueness under injectivity). If U is coordinatewise-injective and admits any edge of mixed-sign type (i.e., not [+++]), then some realized color has multiplicity 1. Proof: use the r·s factorization above. Under injectivity, both factors are ≤1, and for a realized color both are 1, hence multiplicity 1.

Chain alternative. If U is coordinatewise-injective and has no mixed-sign edge, then U is a chain in the product order: sorting by z increases x and y as well. Then the [+++]-color at the penultimate vertex α has |NE_3(α)|=1, yielding a unique color.

Theorem (3D uniqueness). For every U⊆[n]^3 with |U|≥2, there exist u_1,u_2∈U such that u_1u_2 has a c3-color that appears exactly once in G[U].

Proof. If some coordinate slice has ≥2 points, apply Lemma S. Otherwise U is coordinatewise-injective; apply Lemma GP (or the mixed-sign/chain dichotomy). ∎

Examples

- U={(1,1,1),(2,3,4)}: single edge, unique color.
- U={(1,1,2),(2,3,1),(3,2,3)} (injective, mixed signs abound). Any realized [+,+,−]-color has multiplicity 1 by r·s=1.
- U={(1,1,1),(2,2,2),(3,3,3)} (injective chain). At α=(2,2,2), |NE_3(α)|=1, so ([+++],α) is unique.
- Slice: U contains two points at z=5. The 2D theorem gives a unique color within z=5; c3 records z=5, so no other edge matches it globally.

Obstacles/Checks

- Potential pitfall: confusing 2D vs 3D colors on a slice. Addressed: equality of 3D colors implies equality of the induced 2D colors; since 2D color is unique within the slice, no collision occurs.
- In the injective case, uniqueness was shown by ruling out matching ℓ; T matching is not needed once ℓ mismatch is established.

Next steps

- d-dimensional induction. Either a (d−1)-dimensional hyperplane slice has ≥2 points (reduce to d−1), or the set is coordinatewise-injective. For any mixed-sign type T, define P(T),N(T),E(T). With ℓ fixed, multiplicity equals R_T(ℓ)·S_T(ℓ), where R fixes ℓ on P∪E and goes up on N, S fixes ℓ on N∪E and goes up on P. Under injectivity, R,S≤1; any realized mixed-sign color has multiplicity 1. If no mixed-sign edges exist, U is a chain and a [+,…, +]-type at the penultimate element is unique. Formalizing this yields a clean proof for all d. 