{
  "content": "# Ideas\n- Prove a clean multiplicity formula in 3D for the color c_3, generalizing the d=2 Facts. This gives a direct way to certify uniqueness in structured cases.\n- Reduce to the known d=2 theorem on any coordinate slice that contains at least two points; because c_3 records equal coordinates in \u2113 and E(T), slice-uniqueness implies global uniqueness.\n- Handle the complementary \u201ccoordinatewise-injective\u201d case (no two points share any coordinate value): any mixed-sign type has multiplicity 1; if no mixed-sign edge exists, the set is a chain and a [+++]-type at the penultimate element is unique.\n- Outline the generalization to d dimensions by induction on d, using the same two-case split (slice or injective).\n\n# Multiplicity formula in 3D\nFix a type T and choose a representative sign vector s\u2208{\u22121,0,+1}^3\\{0} with support J(T)=\\{i: s_i\u22600\\} and equal set E(T)=\\{i: s_i=0\\}. For \u2113=(\u03b1,\u03b2,\u03b3)\u2208[n]^3 define\n- A_+(T,\u2113):= #{ v\u2208U : v_i=\u2113_i for i\u2208E(T); v_i>\u2113_i for i\u2208J(T) with s_i=+1; v_i=\u2113_i for i\u2208J(T) with s_i=\u22121 }.\n- A_\u2212(T,\u2113):= #{ u\u2208U : u_i=\u2113_i for i\u2208E(T); u_i=\u2113_i for i\u2208J(T) with s_i=+1; u_i>\u2113_i for i\u2208J(T) with s_i=\u22121 }.\n\nLemma (3D multiplicity). The number of edges e in G[U] with c_3(e)=(T,\u2113) equals A_+(T,\u2113)\u00b7A_\u2212(T,\u2113). The product is independent of the choice of representative s (flipping s\u21a6\u2212s swaps A_+ and A_\u2212).\n\nProof. Orient an edge {u,v} to an ordered pair (u\u2192v) so that for each i\u2208J(T), the sign of v_i\u2212u_i equals s_i (if s_i=+ then v_i>u_i; if s_i=\u2212 then u_i>v_i); for i\u2208E(T) we have u_i=v_i=\u2113_i. Then \u2113(u,v)=\u2113 and u, v satisfy the defining constraints of A_\u2212 and A_+, respectively. Conversely, any u counted by A_\u2212 and v counted by A_+ form an oriented edge with type T and lower corner \u2113. This is a bijection between oriented edges with color (T,\u2113) and A_\u2212\u00d7A_+, hence the number of unordered edges is A_+\u00b7A_\u2212 (each unordered edge admits exactly one orientation matching the fixed s). Changing s flips the roles, preserving the product.\n\nUseful specializations (for checks):\n- T=[+,+,+]: multiplicity = 1_{\u2113\u2208U}\u00b7|{v\u2208U: v_x>\u2113_x, v_y>\u2113_y, v_z>\u2113_z}|.\n- T=[+,-,0]: multiplicity = r(\u03b1,\u03b2,\u03b3)\u00b7s(\u03b1,\u03b2,\u03b3) with r= #{(\u03b1,y,\u03b3)\u2208U: y>\u03b2}, s= #{(x,\u03b2,\u03b3)\u2208U: x>\u03b1}.\n- T=[+,0,0]: multiplicity = 1_{(\u03b1,\u03b2,\u03b3)\u2208U}\u00b7#{(x,\u03b2,\u03b3)\u2208U: x>\u03b1}. Symmetric variants are analogous.\n\n# Slice-lifting lemma\nLemma (slice\u2192global). Fix a coordinate, say z. If a slice U_\u03b3:=U\u2229{z=\u03b3} has |U_\u03b3|\u22652 and G[U_\u03b3] contains an edge whose color is unique under the d=2 coloring on (x,y), then G[U] contains an edge whose color under c_3 is unique.\n\nProof. Any edge inside U_\u03b3 has E(T)\u2287{z} and \u2113_z=\u03b3 for c_3. If e on U_\u03b3 has unique 2D color (type on x,y with appropriate minima), then there is no other edge inside U_\u03b3 with the same (T restricted to x,y, \u2113_x,\u2113_y). Consequently no other edge inside U_\u03b3 has the same c_3 color (T,\u2113_x,\u2113_y,\u2113_z=\u03b3). No edge outside U_\u03b3 can share this c_3 label because \u2113_z appears and must equal \u03b3 while E(T) includes z; thus both endpoints would have z=\u03b3 and lie in U_\u03b3. Hence the color is unique in G[U].\n\n# Coordinatewise-injective case\nAssume every coordinate slice has size at most 1: for all \u03b1,\u03b2,\u03b3, we have |U[x=\u03b1]|,|U[y=\u03b2]|,|U[z=\u03b3]|\u22641. Equivalently, no two points in U agree in any coordinate.\n\nLemma (mixed-sign edges are unique). Let e have type T with J(T)={x,y,z} and with both + and \u2212 appearing in any representative s (i.e., T is not [+++] modulo sign). Then c_3(e) has multiplicity 1 in G[U].\n\nProof. By multiplicity, A_\u2212 counts u with u_i=\u2113_i for each i with s_i=+ and u_i>\u2113_i for each i with s_i=\u2212; in particular, u_i is fixed to \u2113_i on at least one coordinate, so by injectivity there is at most one such u. Since e realizes the color, A_\u2212=1. Similarly A_+ fixes v_i=\u2113_i on all s_i=\u2212 and v_i>\u2113_i on s_i=+, again at most one v and realized, so A_+=1. Thus the multiplicity is 1.\n\nLemma (no mixed sign \u21d2 chain \u21d2 unique [+++]). If every edge of G[U] has type [+++] modulo sign, then U is totally ordered by the product order: after relabeling p_1\u227ap_2\u227a\u22ef\u227ap_k (coordinatewise increasing). Then for \u2113=p_{k\u22121}, the [+++]-color has multiplicity 1.\n\nProof. If some pair were incomparable, their sign pattern would mix + and \u2212, contradiction. In a chain, the strict NE set of p_{k\u22121} is {p_k} and the [+++]-multiplicity specializes to 1_{\u2113\u2208U}\u00b7|NE(p_{k\u22121})|=1.\n\n# Main theorem in 3D\nTheorem. For every U\u2286[n]^3 with |U|\u22652, there exists an edge in G[U] whose color under c_3 appears exactly once in G[U].\n\nProof. If some slice U_\u03b3 has size \u22652, apply the d=2 theorem to G[U_\u03b3]; the slice-lifting lemma gives a globally unique color. Otherwise, U is coordinatewise-injective. If a mixed-sign edge exists, it is unique by the mixed-sign lemma. If not, U is a chain and the [+++]-edge from the penultimate element is unique. Hence in all cases a unique color exists.\n\n# Extension to general dimension d (outline with key lemmas)\nDefine c_d on [n]^d by c_d(uv)=(T(e),\u2113(u,v)), where T is the sign pattern in {\u22121,0,+1}^d modulo global sign and \u2113 the componentwise minimum. The 3D multiplicity lemma generalizes verbatim: choose a representative s, define A_\u00b1 analogously, and obtain multiplicity = A_+\u00b7A_\u2212 (proof identical). Induction on d\u22652:\n- Base d=2 is given.\n- Step d\u2192d+1: If a coordinate slice has \u22652 points, apply the induction hypothesis to that (d)-dimensional slice; the color lifts because c_{d+1} records \u2113_i for the equal coordinate and E(T) includes it. Otherwise, U is injective in each coordinate. If some edge has mixed signs (both + and \u2212) in its type, multiplicity is 1 by the A_+\u00b7A_\u2212 argument. If not, U is a chain in the product order and the [+,\u2026, +]-edge from the penultimate element has multiplicity 1. Thus the theorem holds in dimension d+1.\n\n# Examples\n- Slice case: U contains (2,3,5),(4,1,5),(3,4,5). Apply d=2 theorem on z=5 slice; the obtained unique 2D color lifts to a unique c_3 color globally.\n- Injective mixed: U={(1,5,7),(4,2,6)} yields a [+,\u2212,\u2212]-type; A_+=A_\u2212=1, multiplicity 1.\n- Injective chain: U={(1,1,1),(3,3,3),(6,6,6)}; the edge from (3,3,3) to (6,6,6) has unique [+++]-color.\n\n# Obstacles / checks\n- The lifting relies crucially on c_d remembering equal coordinates via E(T) and \u2113; without this, slice-uniqueness could be destroyed by edges off the slice.\n- Independence of the multiplicity count from the representative s is addressed by the oriented-edge bijection.\n\n# Next steps\n- Consolidate a formal write-up for d=3 in proofs.md using the multiplicity lemma and slice-lifting.\n- State and prove the full d-dimensional theorem via induction as outlined.\n- Quantitative: lower bounds on the number of unique colors in terms of |U|, and extremal constructions minimizing unique colors."
}