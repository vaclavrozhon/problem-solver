{
  "content": "Ideas\n\n- Two simple ingredients suffice for d=3: (i) a slice-lifting lemma from the provided d=2 theorem, and (ii) a top-two-levels lemma when every slice along a coordinate has size \u22641. Both are elementary and auditable.\n- These ingredients also extend verbatim to all dimensions d by a short induction: reduce on a (d\u22121)-slice if available; otherwise, use the last-coordinate top-two-levels uniqueness.\n\nLemma 1 (Slice lifting from d=2)\n\nStatement. Fix c\u2208{x,y,z} and t\u2208[n]. Let U_t:=U\u2229{c=t}. If |U_t|\u22652 and G[U_t] contains an edge e whose (2D) color under the d=2 map is unique in G[U_t], then c_3(e) appears exactly once in G[U].\n\nProof. WLOG c=z. For any in-slice edge e with z=t, c_3(e)=(T,\u2113) has z\u2208E(T) and \u2113_z=t. If an edge e\u2032 in G[U] had c_3(e\u2032)=c_3(e), then necessarily z\u2208E(T(e\u2032)) and \u2113_z(e\u2032)=t, so both endpoints of e\u2032 lie in the plane z=t. Equality of c_3-labels on that plane implies equality of the induced 2D color on (x,y) (c_3 refines the 2D label by including the same type on x,y and the same lower-corner entries). This contradicts the uniqueness of e in G[U_t]. Hence c_3(e) is unique in G[U]. \u220e\n\nLemma 2 (Top two levels when slices are singletons)\n\nStatement. Suppose every z-slice U\u2229{z=t} contains at most one point of U. Let U={v_1,\u2026,v_m} ordered by increasing z: z_1<\u22ef<z_m, m\u22652. Then the edge e=v_{m-1}v_m has a c_3-color that appears exactly once in G[U].\n\nProof. For any edge f, \u2113_z(f) is the smaller z-coordinate of its endpoints. If c_3(f)=c_3(e), then \u2113_z(f)=z_{m-1}. Thus one endpoint of f must have z=z_{m-1} and the other must have z>z_{m-1}. Since z_{m-1} is the second-largest realized z-value and each z-slice has \u22641 point, the only such pair is {v_{m-1},v_m}. Hence f=e, proving uniqueness of c_3(e). \u220e\n\nTheorem (3D uniqueness under c_3)\n\nStatement. For every U\u2286[n]^3 with |U|\u22652, there exists an edge of G[U] whose c_3-color appears exactly once in G[U].\n\nProof. If some z-slice U_t has |U_t|\u22652, apply the given d=2 theorem on U_t and lift by Lemma 1. Otherwise every z-slice has size \u22641, so Lemma 2 yields a unique color. \u220e\n\nExamples / sanity checks\n\n- U={(1,1,5),(2,3,5),(4,2,7)}: the slice z=5 has \u22652 points, so the 2D theorem gives an in-slice unique color; Lemma 1 lifts it.\n- U={(1,1,1),(3,2,4),(2,3,8)}: each z-level occurs once; the edge between z=4 and z=8 has unique color by Lemma 2.\n- U={(1,1,1),(2,2,2),(3,3,3)}: chain; Lemma 2 again applies.\n\nObstacles and checks\n\n- Potential confusion between 2D and 3D colors on a slice is ruled out: equality of c_3-labels in a fixed slice implies equality of the 2D label because c_3 records z\u2208E(T) and \u2113_z=t and matches type and lower-corner entries on x,y.\n- In the singleton-slice case, uniqueness of \u2113_z at z_{m-1} forces the endpoints; no additional type matching is needed once the pair is uniquely determined.\n\nExtension: dimension d\u22652 (concise induction)\n\nDefinitions. For u\u2260v in [n]^d, let \u03c3(u,v)\u2208{\u22121,0,+1}^d\\{0} be the sign vector, T=[\u03c3] modulo global sign, and \u2113(u,v)=componentwise min. Define c_d(uv)=(T,\u2113).\n\nTheorem (d-dimensional uniqueness). For every U\u2286[n]^d with |U|\u22652, some edge of G[U] has a c_d-color appearing exactly once in G[U].\n\nProof sketch. Induct on d. Base d=2 given. For the step d\u2192d+1, fix the last coordinate. If some slice {x_{d+1}=t} contains \u22652 points, apply the d-theorem on that slice and lift as in Lemma 1 (c_{d+1} records equality in the (d+1)-st coordinate and \u2113_{d+1}=t). Otherwise, every last-coordinate slice has size \u22641. Order points by that coordinate; the edge between the top two levels has \u2113_{d+1} equal to the second-largest realized value, which forces the endpoints uniquely, hence its c_{d+1}-color is unique (generalizing Lemma 2). \u220e\n\nNext steps\n\n- If desired, formalize the d-dimensional slice-lifting lemma and the top-two-level lemma with full details, to be added to proofs.md.\n- Quantitative question: lower bounds on the number of unique colors as a function of |U|; start with chains (many unique [+,\u2026, +]-colors) and sparse-slice configurations. "
}