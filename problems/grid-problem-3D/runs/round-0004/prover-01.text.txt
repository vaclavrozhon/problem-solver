Ideas

- Two simple ingredients suffice for d=3: (i) a slice-lifting lemma from the provided d=2 theorem, and (ii) a top-two-levels lemma when every slice along a coordinate has size ≤1. Both are elementary and auditable.
- These ingredients also extend verbatim to all dimensions d by a short induction: reduce on a (d−1)-slice if available; otherwise, use the last-coordinate top-two-levels uniqueness.

Lemma 1 (Slice lifting from d=2)

Statement. Fix c∈{x,y,z} and t∈[n]. Let U_t:=U∩{c=t}. If |U_t|≥2 and G[U_t] contains an edge e whose (2D) color under the d=2 map is unique in G[U_t], then c_3(e) appears exactly once in G[U].

Proof. WLOG c=z. For any in-slice edge e with z=t, c_3(e)=(T,ℓ) has z∈E(T) and ℓ_z=t. If an edge e′ in G[U] had c_3(e′)=c_3(e), then necessarily z∈E(T(e′)) and ℓ_z(e′)=t, so both endpoints of e′ lie in the plane z=t. Equality of c_3-labels on that plane implies equality of the induced 2D color on (x,y) (c_3 refines the 2D label by including the same type on x,y and the same lower-corner entries). This contradicts the uniqueness of e in G[U_t]. Hence c_3(e) is unique in G[U]. ∎

Lemma 2 (Top two levels when slices are singletons)

Statement. Suppose every z-slice U∩{z=t} contains at most one point of U. Let U={v_1,…,v_m} ordered by increasing z: z_1<⋯<z_m, m≥2. Then the edge e=v_{m-1}v_m has a c_3-color that appears exactly once in G[U].

Proof. For any edge f, ℓ_z(f) is the smaller z-coordinate of its endpoints. If c_3(f)=c_3(e), then ℓ_z(f)=z_{m-1}. Thus one endpoint of f must have z=z_{m-1} and the other must have z>z_{m-1}. Since z_{m-1} is the second-largest realized z-value and each z-slice has ≤1 point, the only such pair is {v_{m-1},v_m}. Hence f=e, proving uniqueness of c_3(e). ∎

Theorem (3D uniqueness under c_3)

Statement. For every U⊆[n]^3 with |U|≥2, there exists an edge of G[U] whose c_3-color appears exactly once in G[U].

Proof. If some z-slice U_t has |U_t|≥2, apply the given d=2 theorem on U_t and lift by Lemma 1. Otherwise every z-slice has size ≤1, so Lemma 2 yields a unique color. ∎

Examples / sanity checks

- U={(1,1,5),(2,3,5),(4,2,7)}: the slice z=5 has ≥2 points, so the 2D theorem gives an in-slice unique color; Lemma 1 lifts it.
- U={(1,1,1),(3,2,4),(2,3,8)}: each z-level occurs once; the edge between z=4 and z=8 has unique color by Lemma 2.
- U={(1,1,1),(2,2,2),(3,3,3)}: chain; Lemma 2 again applies.

Obstacles and checks

- Potential confusion between 2D and 3D colors on a slice is ruled out: equality of c_3-labels in a fixed slice implies equality of the 2D label because c_3 records z∈E(T) and ℓ_z=t and matches type and lower-corner entries on x,y.
- In the singleton-slice case, uniqueness of ℓ_z at z_{m-1} forces the endpoints; no additional type matching is needed once the pair is uniquely determined.

Extension: dimension d≥2 (concise induction)

Definitions. For u≠v in [n]^d, let σ(u,v)∈{−1,0,+1}^d\{0} be the sign vector, T=[σ] modulo global sign, and ℓ(u,v)=componentwise min. Define c_d(uv)=(T,ℓ).

Theorem (d-dimensional uniqueness). For every U⊆[n]^d with |U|≥2, some edge of G[U] has a c_d-color appearing exactly once in G[U].

Proof sketch. Induct on d. Base d=2 given. For the step d→d+1, fix the last coordinate. If some slice {x_{d+1}=t} contains ≥2 points, apply the d-theorem on that slice and lift as in Lemma 1 (c_{d+1} records equality in the (d+1)-st coordinate and ℓ_{d+1}=t). Otherwise, every last-coordinate slice has size ≤1. Order points by that coordinate; the edge between the top two levels has ℓ_{d+1} equal to the second-largest realized value, which forces the endpoints uniquely, hence its c_{d+1}-color is unique (generalizing Lemma 2). ∎

Next steps

- If desired, formalize the d-dimensional slice-lifting lemma and the top-two-level lemma with full details, to be added to proofs.md.
- Quantitative question: lower bounds on the number of unique colors as a function of |U|; start with chains (many unique [+,…, +]-colors) and sparse-slice configurations. 