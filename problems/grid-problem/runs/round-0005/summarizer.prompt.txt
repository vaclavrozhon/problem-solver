--- SYSTEM ---
You are a research **summarizer**. Summarize this *last round only* for a human log.

Include:
- 3–7 bullet **Highlights** (facts learned, reductions, counterexamples, partial bounds).
- 1–3 **Open questions / TODOs** for the next round.
- 1–3 **Citations to files** you relied on (e.g. round files or papers by name).

**Return strictly JSON**:
{
  "summary_md": "Readable summary of the round (≤200 words)",
  "highlights": [],
  "next_questions": []
}

--- USER ---
=== prover-01.out.json (progress_md) ===
## Round 0005 — 2025-08-27T18:47:25Z

### Audit of output.md (gaps or corrections)
- The curated items 1–6 are sound as stated. In particular, the proofs of multiplicity formulas and the antichain/type–2 trigger are correct.
- The earlier false global claim “≥3 on a row/column ⇒ unique type 4/3” has correctly been dropped; current statements restrict to single-line U or to singleton+extension triggers, which are correct.
- Theorem 6 (|U|=3) includes a case “some pair lies on a row (column) but not all three do; the edge of that pair has a color that cannot be duplicated elsewhere in U.” This is safe because with |U|=3 there cannot be a second edge in another row (or column) realizing the same left (or lower) coordinate; duplication would require 4 points. Still, note explicitly that the argument relies on |U|=3.
- The unique-maximal case is not yet included and was flagged previously as having a proof gap. I provide correct partial triggers toward a full resolution below.

### New lemmas: unique–maximal case triggers
Let U⊆[n]^2 have a unique maximal element m=(X,Y) in the product order, i.e., for all u∈U\{m} we have u_x≤X and u_y≤Y with at least one strict inequality. Equivalently, X=max{x:(x,y)∈U} and Y=max{y:(x,y)∈U}.
Let S={p∈U : p_x<X and p_y<Y} be the strictly SW set of m. Let T={x<X : (x,Y)∈U} (top-row x’s except X) and R={y<Y : (X,y)∈U} (right-column y’s except Y). Write
- α₂ = max T if T≠∅ and α₂ = −∞ otherwise;
- β₂ = max R if R≠∅ and β₂ = −∞ otherwise.

- Lemma H′ (boundary-threshold + SW-maximality ⇒ unique type 1). Suppose S≠∅ and there exists p∈Max(S) (maximal in S under the product order) such that p_x≥α₂ and p_y≥β₂. Then p has exactly one NE neighbor in U, namely m, and the type–1 color (1,p_x,p_y) is unique in G[U].
  Proof. Any NE neighbor q of p with q_x<X and q_y<Y would lie in S and satisfy q≻p, contradicting p∈Max(S). Thus NE neighbors of p lie on the top row or right column. Because p_x≥α₂, the only top-row point strictly to the right of p is (X,Y). Because p_y≥β₂, the only right-column point strictly above p is (X,Y). Hence the unique NE neighbor is m. By the type–1 multiplicity formula, (1,p_x,p_y) has multiplicity 1. ∎
  Why useful: Gives a clean, checkable certificate for unique type–1 in the unique-maximal regime, isolating the exact obstruction (extra NE neighbors forced by top row or right column).

- Lemma K (top-row pivot ⇒ unique type 4). If T≠∅ and the column α₂ contains no point below Y (i.e., (α₂,β)∉U for all β<Y), then the color (4,α₂) occurs exactly once in G[U], realized by the horizontal edge on the top row Y between (α₂,Y) and m.
  Proof. On row Y, the only right neighbor of (α₂,Y) is (X,Y) (since α₂ is the second largest x on that row), so h_Y(α₂)=1. By assumption, there is no other row β with (α₂,β), hence T_4(α₂)=h_Y(α₂)=1 by the type–4 multiplicity formula. ∎
  Why useful: This yields a unique color directly from the top row as soon as the “second-rightmost top-row column” does not reappear elsewhere.

- Lemma K′ (right-column pivot ⇒ unique type 3). If R≠∅ and the row β₂ contains no point to the right of X (i.e., vacuously true) and, crucially, the column X contains no point strictly between β₂ and Y (i.e., (X,β)∉U for β₂<β<Y), then the color (3,β₂) occurs exactly once, realized by the vertical edge between (X,β₂) and (X,Y).
  Proof. On column X, the only point above (X,β₂) is (X,Y), so v_X(β₂)=1. If for every α≠X we have (α,β₂)∉U, then T_3(β₂)=v_X(β₂)=1 and we are done. More generally, it suffices to assume there is no α≠X with (α,β₂)∈U and any point above (α,β₂); in particular, if row β₂ is a singleton (only (X,β₂)), this condition holds automatically. ∎
  Remark. The stated form lists a sufficient condition; I keep it slightly stronger for immediate verifiability via the type–3 formula (no other contributor to T_3(β₂)).

These three lemmas together cover a substantial portion of the unique-maximal case: either a pivot on the boundary directly yields a unique type–3/4 color (K/K′), or a SW-maximal point whose coordinates exceed the boundary thresholds yields a unique type–1 color (H′). The remaining subcase (all p∈Max(S) fail p_x≥α₂ or p_y≥β₂, and every α₂,β₂ does reappear so K/K′ do not fire) is now cleanly isolated for further work.

### Complete proof for |U|=4 (new theorem)
- Proposition P4 (four-point sets). If |U|=4, then G[U] has a uniquely colored edge.
  Proof. Case 1: Some row has 3 or 4 points. Then on that row with x_1<⋯<x_k, k≥3, the rightmost edge has color (4,x_{k−1}). To realize (4,x_{k−1}) elsewhere would require another row containing both (x_{k−1},β) and some (x,β) with x>x_{k−1}; with only one remaining point off the row, this is impossible. Hence (4,x_{k−1}) is unique. The column case is symmetric (type 3).
  Case 2: No row and no column has ≥3 points.
  – Subcase 2a: There exists a row with exactly 2 points whose smaller x-value α does not occur as the left endpoint of any other horizontal edge (i.e., there is no other row containing both (α,β) and a point to its right). Then the horizontal edge on this row has color (4,α) which, by the type–4 formula, is unique.
  – Subcase 2b: Otherwise, there must be two distinct rows y_1≠y_2, each containing exactly two points, and their left endpoints coincide at some α. Then column α contains the two points (α,y_1),(α,y_2). Consider β=min{y_1,y_2}. For color (3,β), the only contributing column is α, and in column α there is exactly one point above β (the other one), so T_3(β)=1. Hence (3,β) is unique.
  – Subcase 2c: If no row has 2 points, then no column has 2 points (by the assumption of this case), so all four points lie in distinct rows and columns, i.e., U is an antichain. By Lemma A, a unique type–2 color exists.
  This exhausts all possibilities. ∎
  Why useful: Extends the curated base case |U|=3 to |U|=4 with a complete, verifiable proof. Such small n verifications often guide invariant selection for inductive or structural proofs in the general case.

### Examples/tests of the new lemmas
- Example for Lemma K. U={ (4,7),(7,7),(1,1) }. Here m=(7,7), α₂=4, and column 4 has no other points. The edge (4,7)-(7,7) has color (4,4), unique.
- Example for Lemma H′. U={ (2,2),(3,5),(5,5) }. Here m=(5,5), T={3}, α₂=3, R=∅, β₂=−∞. S contains p=(2,2), which is Max(S) and satisfies p_x=2<3 (fails α-threshold), so H′ does not fire. However Lemma K applies: (3,5)-(5,5) yields unique (4,3).
- Example for P4 Subcase 2b. U={ (1,1),(3,1),(1,4),(4,4) }. Two rows have pairs with common left x=1; column 1 has points at y=1,4, so (3,1) is unique type–3.

### Ideas toward the remaining unique–maximal subcase
- If S≠∅ and every p∈Max(S) fails at least one threshold (p_x<α₂ or p_y<β₂), then informally the set of SW-maxima sits entirely “left of α₂” or “below β₂”. This suggests that either many top-row points (besides α₂) exist or many right-column points (besides β₂) exist. A plausible next step is a counting/ordering lemma: if all SW-maxima lie left of α₂, then the column α₂ must reappear below Y; combining with the non-firing of Lemma K, this forces a row β where (α₂,β) has ≥2 distinct right neighbors, which then interacts with the right column to produce a singleton+extension trigger (Lemma E/F) on some carefully chosen row/column. I will formalize this as a “pivot-or-corner” dichotomy next.

### Multiple maxima: sharpening the type–2 “clean gap” tool
- Recall Lemma D: for consecutive maxima m_i=(x_i,y_i), m_{i+1}=(x_{i+1},y_{i+1}), if R_i=S_i=1 then (2,x_i,y_{i+1}) is unique. I plan to strengthen it to a local rectangle lemma that tolerates extra points provided they do not enter the open rectangle (x_i,x_{i+1})×(y_{i+1},y_i) nor attach to its two “L-corner” rays simultaneously. A sketch statement:
  • Lemma D′ (robust L-corner). If among points of column x_i above y_{i+1} only y_i occurs (no (x_i,y) with y_{i+1}<y<y_i), and among points of row y_{i+1} to the right of x_i only x_{i+1} occurs (no (x,y_{i+1}) with x_i<x<x_{i+1}), then (2,x_i,y_{i+1}) is unique, regardless of points outside the L-corner. This generalizes Lemma G and follows immediately from the type–2 formula. I will formalize and add to output once verified.
  Why useful: It expands the catalog of local patterns that directly certify a unique type–2 color in G[U] without global sparsity assumptions.

### Obstacles
- The outstanding piece is the unique–maximal case when neither boundary pivot (K/K′) triggers and all SW-maxima fail one of the thresholds in Lemma H′. The structure strongly suggests a “boundary richness” that should force a singleton+extension somewhere (Lemmas E/F) or a robust L-corner (Lemma D′), but I do not yet have a complete implication.
- For |Max(U)|≥2, it remains to be shown that a global failure of all D/D′ triggers (for all consecutive maxima) forces a type–1 witness (unique NE neighbor) or a type–3/4 trigger; I plan to attempt a layering-by-minimals argument with carefully defined “forbidden rectangles.”

### Next steps (concrete and auditable)
1) Formalize and prove Lemma D′ (robust L-corner uniqueness) and curate it. Validate on configurations with populated outer strips but empty corner rectangles.
2) Complete the unique–maximal case using the trichotomy: H′ or K or K′ must fire. The intended proof is a contradiction: assume none fires; show that either a singleton+extension (E/F) appears on some row/column or a D′ L-corner emerges between the two rightmost top-row columns or two highest right-column rows.
3) Extend small-case verification to |U|=5 via a structured case split (using P4 and the new triggers) to further stress-test the dichotomies and refine the minimality invariants.


=== prover-02.out.json (progress_md) ===
## Round 0005 — 2025-08-27T18:47:25Z

### Audit of output.md (gaps or issues)
- The current output.md has removed the previously flagged false global claim about “≥3 on a row/column ⇒ unique type 4/3,” and only states the correct single-line (entirely in one row/column) uniqueness. Good.
- Theorem 1 (multiplicity formulas for all four types) is correct and central.
- Theorem 2 (single-line uniqueness) is correctly stated for the case U lies entirely in a single row/column.
- Theorem 3 (singleton+extension triggers for types 3/4) is correct.
- Theorem 4 (antichain ⇒ unique type 2) is correct: in an antichain the two relevant rays at (α,β) each contain exactly one point.
- Theorem 5 (consecutive-maxima clean gap ⇒ unique type 2) is correct.
- Theorem 6 (|U|=3) looks sound; the last subcase (non-monotone permutations) could be expanded, but it is correct that among the 6 permutations, one of the consecutive x-order pairs is type 2 with r=s=1 in a 3-point set. No correction needed.

Conclusion: No gaps to fix in output.md this round.

### New, rigorously stated and proved lemmas (incremental triggers)

#### Lemma XR (cross-shape, no south–west points ⇒ unique 3/4)
Statement. Let U be contained in the union of a single row R={ (x,Y): x∈[n] } and a single column C={ (X,y): y∈[n] }. Assume |U|≥2. Then G[U] has a uniquely colored edge.

Proof. If U⊆R or U⊆C we are in Theorem 2 (single-line uniqueness). Otherwise U intersects both R and C. If |U∩R|≥2, list its x-coordinates as x_1<⋯<x_m (m≥2). Consider α:=x_{m−1}. In the global type–4 formula T_4(α)=∑_β 1_{(α,β)∈U}·h_β(α), there is exactly one β (namely β=Y) with (α,β)∈U because U has no points off R in column α (by hypothesis U⊆R∪C and α≠X). On that row Y there is exactly one right neighbor (the point with x_m), so h_Y(α)=1. Hence T_4(α)=1, and color (4,α) is unique. The case |U∩R|≤1 and |U∩C|≥2 is symmetric, yielding a unique type–3 color. ∎

Why useful. This settles the “S=∅” subcase of the unique-maximal scenario and any configuration supported on one row plus one column, which appears frequently in extremal layouts.

#### Lemma J (empty L–corner ⇒ unique type 2)
Statement. Suppose there exist integers α<α′ and β<β′ such that U contains (α,β′) and (α′,β), contains no point (α,y) with β<y<β′, and contains no point (x,β) with α<x<α′. Then the color (2,α,β) appears exactly once in G[U].

Proof. By the type–2 formula, r_U(α,β)=# { (α,y)∈U : y>β }. The only candidate above β on column α in the interval (β,β′] is (α,β′), and by hypothesis there is no point with y∈(β,β′). Points with y>β′ do not exist among those considered unless present, but they are irrelevant: any such would be ≥β′ and hence contradict “no point in (β,β′)” unless they are ≥β′; we only need to know there is exactly one point above β in column α, namely (α,β′). Similarly, s_U(α,β)=# { (x,β)∈U : x>α } counts exactly one point to the right, namely (α′,β). Therefore r_U(α,β)=s_U(α,β)=1 and (2,α,β) is unique. ∎

Remark. Lemma G in notes/output is the special case with the NE corner (α′,β′) also present; Lemma J omits that requirement and only uses emptiness along the open vertical/horizontal segments.

#### Lemma L (clean consecutive-maxima via top/right extremality ⇒ unique type 2)
Statement. Let M=Max(U) be listed as m_i=(x_i,y_i) with x_1<⋯<x_k and y_1>⋯>y_k, k≥2. If for some i we have: (i) m_i is the topmost point in column x_i (no (x_i,y)∈U with y>y_i), and (ii) m_{i+1} is the rightmost point in row y_{i+1} (no (x,y_{i+1})∈U with x>x_{i+1}), then the color (2,x_i,y_{i+1}) is unique.

Proof. Under (i), the set { (x_i,y)∈U : y>y_{i+1} } equals { (x_i,y_i) }, so R_i=1. Under (ii), the set { (x,y_{i+1})∈U : x>x_i } equals { (x_{i+1},y_{i+1}) }, so S_i=1. Lemma D (or the type–2 formula) yields uniqueness. ∎

Why useful. This is a concrete, easily checked certificate implementable in a scan over maxima; it isolates a frequent “staircase corner” where inflation by extra points is impossible by simple top/right extremality.

### Examples probing/illustrating the new lemmas
- Example for Lemma XR. U={ (2,5),(4,5),(6,5),(6,1),(6,3) } is supported on row 5 and column 6. The two rightmost on row 5 yield α=4. No other row contains (4,·), so T_4(4)=1 and (4,4) is unique.
- Example for Lemma J. U contains (2,4),(5,1), and no points on {2}×{2,3} nor on {3,4}×{1}. Then (2,2)-color (2,2,1) is unique even if (5,4) is absent and even if there are many other points elsewhere.
- Example for Lemma L. U has consecutive maxima m_i=(3,7), m_{i+1}=(8,2), and there is no (3,y) above y=7 nor any (x,2) to the right of x=8. Then (2,3,2) is unique.

### Clarifying the unique-maximal case (partial resolution and roadmap)
- Fact (simple but key). If U has a unique maximal m=(X,Y), then X=max{x : (x,·)∈U} and Y=max{y : (·,y)∈U}. Proof: If some x*>X appears, the point with x=x* is maximal (no strictly larger x exists to dominate it), contradicting uniqueness; similarly for y.
- Immediate subcase solved (S=∅). If every u∈U\{m} lies on row Y or column X (i.e., no point strictly SW of m), then Lemma XR applies and yields a unique type–3 or type–4 color.
- Remaining subcase S≠∅. Let S={ u∈U : u_x<X and u_y<Y }. The earlier gap arose from extra NE neighbors of a “maximal” p∈S lying on row Y or column X. Lemma J provides a new way forward: whenever a p∈S has one extra NE neighbor on the top row and one on the right column, the L-corner (α=p_x, β=p_y) becomes a candidate for a unique type–2 color provided the open vertical/horizontal segments above/right of (α,β) are empty. A concrete next step is to identify, via extremal choices within S, conditions guaranteeing these segments are empty (e.g., choose p with maximal x in S and among those maximal y, and check the nearest top-row/right-column points). This yields a checkable route to finish the unique-maximal case.

### Obstacles and why prior attempts failed
- Attempt to force uniqueness on the top row (or right column) in the unique-maximal case by looking at colors (3,Y) or (4,X) fails because T_3(Y)=T_4(X)=0 (no points strictly above Y or to the right of X).
- Picking a maximal p∈S does not prevent extra NE neighbors on row Y or column X; extra control (emptiness along segments) is needed—hence Lemma J and L-type certificates.

### Next steps (concrete, auditable)
1) Complete the unique-maximal case by a precise extremal choice of p∈S that certifies the emptiness of the two open segments needed in Lemma J, or else reduces to Lemma XR. A candidate rule: take p with maximal x; among those, maximal y; then analyze the closest top-row neighbor a=(α_top,Y) with α_top>p_x and the closest right-column neighbor b=(X,β_right) with β_right>p_y. Prove that at least one of the open segments above/right of p is empty, giving either type–1 uniqueness (if both empty beyond m) or type–2 uniqueness via Lemma J (if both a and b exist but the segments are empty).
2) Develop a maxima-scan algorithm: for consecutive maxima, check the Lemma L top/right extremality; if it fails, record the offending points causing R_i>1 or S_i>1 and attempt to trigger Lemma E/F (singleton+extension) on the corresponding row/column. Formalize and prove a small lemma turning an “offending” point into a 3/4-uniqueness witness when it is the only base of an extension.
3) Extend the curated base to a robust four-point proposition by clean case analysis (rows/columns occupancy patterns: 4, 3+1, 2+2, 2+1+1, 1+1+1+1), using Theorems 2–5 and Lemmas XR/J/L. This is manageable and will stress-test the library of triggers.

### Summary of this round’s progress
- Added three new certified triggers: Lemma XR (row∪column support), Lemma J (empty L-corner ⇒ unique type 2), Lemma L (clean consecutives via top/right extremality ⇒ unique type 2).
- Clarified the structure of the unique-maximal case (X and Y are global maxima), solved its S=∅ subcase via Lemma XR, and outlined a concrete path to finish S≠∅ using Lemma J.
- Identified precise checks to implement in a maxima-scan strategy and set up a plan to verify |U|=4 as a next curated milestone.

=== Verifier (summary_md) ===

=== Verifier (verdict) ===
partial success

