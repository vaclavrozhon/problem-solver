--- SYSTEM ---
You are a strict mathematical verifier & research manager.

You are being run in a loop with provers. Your tasks:
- Audit their ideas for correctness and rigor.
- Curate files (notes.md and output.md).
- Suggest the next steps.

Inputs: 
- task statement
- outputs of provers
- notes.md (summary so far)
- output.md (rigorously proven results so far)

Guidelines:
- notes.md: should be a readable running log of interesting work. Prefer appending. Replace only if old notes are clearly misleading. Remember -- notes should be self-contained and should make sense even without seeing outputs of past provers. 
- output.md:  Think twice before you add something to this file. Everything here should be rigorous, almost publication-ready. It should contain only fully proven theorems that are clearly an interesting step towards the solution (or the solution itself). The beginning of the file is a clear list of interesting theorems you can prove, together with a discussion about why it is relevant. From the statement of the theorem it has to be clear that this constitutes nontrivial progress towards solution. The rest of the file contains a fully rigorous list of the proofs of the theorems. Keep only proven theorems with clear proofs. If a statement in that file is flawed / unprecise and you cannot fix it on the spot, remove it from output.md and instead add it to notes.md with explanation.
- Be careful with the booleans `new_notes_append` and `new_outputs_append`: default is True (append). Use False only when deliberately rewriting everything.

Tasks:
1) Audit rigor: identify unjustified steps, false statements, missing lemmas; produce minimal counterexamples.
2) Triage value: separate genuine progress from noise.
3) Guide next steps: propose what provers should try next.

**Return strictly JSON**:
{
  "feedback_md": "Detailed critique of prover outputs (≥200 words). Include concrete next-step suggestions. The next round of provers may not see last round outputs; ensure all valuable info is stored in notes.",
  "new_notes_md": "Markdown (KaTeX allowed). Usually appended to notes.",
  "new_notes_append": "True|False",
  "new_outputs_md": "Markdown (KaTeX allowed). Usually appended to output.md.",
  "new_outputs_append": "True|False",
  "verdict": "success|partial success|nothing so far"
}

**Verdict definitions**:
- **success**: Something that one could publish, even if it is not the full solution (e.g., significant theorem, key lemma, novel technique, partial solution with clear path forward)
- **partial success**: Something worthy enough to write into output.md (e.g., correct but preliminary results, useful technical lemmas, validated approaches that advance understanding)
- **nothing so far**: No meaningful mathematical progress or only exploratory work


--- USER ---
You receive multiple prover reports. Evaluate correctness, value, and pick promising directions. Update notes.md (append/replace) with useful ideas and update output.md (append/replace) ONLY with rigorously verified results.

Prover reports (JSON):
[{"prover_id": "01", "progress_md": "### Audit of output.md (this round)\n- No new gaps found in the currently curated Theorems 1\u201311 and auxiliary lemmas O1, UM1, R3, R4. The proof of Theorem 11 (|U|=4) is now sound after the fix via Theorem 7. \n- Minor note (not an error): Theorem 6\u2019s last bullet is still terse (the \u201cremaining permutations\u201d assertion). It is acceptable as curated, but could be expanded later by explicitly identifying the consecutive x-order pair yielding r=s=1.\n\n### New rigorous lemmas (ready to curate) \u2014 strengthening the unique\u2013maximal toolkit\n\n1) Lemma UM2\u2032 (SW-max with both boundary contacts \u21d2 unique type 2)\nStatement. Let U have a unique maximal element m=(X,Y). Let S={p\u2208U: p_x<X and p_y<Y} and let Max(S) be its product-order maximal elements. If p=(\u03b1,\u03b2)\u2208Max(S) and both boundary-aligned points (\u03b1,Y)\u2208U and (X,\u03b2)\u2208U exist, then the color (2,\u03b1,\u03b2) occurs exactly once in G[U].\nProof. By Lemma UM1 (in output.md), there is no (\u03b1,y) with \u03b2<y<Y and no (x,\u03b2) with \u03b1<x<X. Thus r_U(\u03b1,\u03b2)=1 (the unique point above \u03b2 in column \u03b1 is (\u03b1,Y)) and s_U(\u03b1,\u03b2)=1 (the unique point to the right of \u03b1 in row \u03b2 is (X,\u03b2)). By the type\u20132 multiplicity formula (Theorem 1), the color (2,\u03b1,\u03b2) is unique. \u220e\nWhy useful: This is a sharp, local certificate for unique type\u20132 in the unique\u2013maximal regime that does not require threshold conditions. It complements Theorem 9 (type\u20131 via thresholds) and Theorem 10 (top-row pivot), and is often easy to verify in practice.\n\n2) Theorem UM-single (unique maximal with a single SW-max \u21d2 a unique color)\nStatement. Suppose U has a unique maximal element m=(X,Y), and S={p\u2208U: p_x<X and p_y<Y} is nonempty but has a single product-order maximal element: Max(S)={p} with p=(\u03b1,\u03b2). Then G[U] has a uniquely colored edge.\nProof. Let T={x<X : (x,Y)\u2208U}, and if T\u2260\u2205 set \u03b1\u2082=max T; let R={y<Y : (X,y)\u2208U}, and if R\u2260\u2205 set \u03b2\u2082=max R. We split into cases.\n- Case A: T=\u2205 and R=\u2205. Then there are no top-row or right-column points other than m. By UM1, any NE neighbor of p must lie on the top row or right column; hence p\u2019s only NE neighbor is m, so the type\u20131 color (1,\u03b1,\u03b2) is unique by Theorem 1 (type 1 multiplicity).\n- Case B: T\u2260\u2205 and the top-row pivot fires. If column \u03b1\u2082 contains no point below Y, Theorem 10 gives a unique type\u20134 color; we are done.\n- Case C: R\u2260\u2205 and the safe column pivot fires. If row \u03b2\u2082 is a singleton {(X,\u03b2\u2082)}, then by Theorem 3 (singleton+extension) the color (3,\u03b2\u2082) is unique; we are done.\n- Case D: T\u2260\u2205, the top-row pivot fails (so column \u03b1\u2082 contains some (\u03b1\u2082,\u03b2\u2032) with \u03b2\u2032<Y), and R=\u2205. By Lemma UM\u2013X (proved in notes.md), since the pivot failed and Max(S)={p}, we have p_x\u2265\u03b1\u2082. Because R=\u2205, there is no (X,y) with y<Y. By UM1, any NE neighbor of p lies on the top row or right column; the right column contributes no NE neighbor (R=\u2205), and on the top row every point obeys x\u2264\u03b1\u2082\u2264p_x, so none lie strictly to the right of p. Thus p\u2019s only NE neighbor is m, and (1,\u03b1,\u03b2) is unique.\n- Case E: R\u2260\u2205, the safe column pivot fails (row \u03b2\u2082 has an additional point (\u03b1\u2032,\u03b2\u2082) with \u03b1\u2032<X), and T=\u2205. By Lemma UM\u2013Y (proved in notes.md), since the pivot failed and Max(S)={p}, we have p_y\u2265\u03b2\u2082. Because T=\u2205, there are no top-row points other than m. By UM1, all NE neighbors of p must lie on the top row or right column; the top row contributes none (T=\u2205), and the right column has no point strictly above p_y other than m because p_y\u2265\u03b2\u2082=max{y<Y:(X,y)\u2208U}. Hence p\u2019s only NE neighbor is m, and (1,\u03b1,\u03b2) is unique.\n- Case F: T\u2260\u2205 and R\u2260\u2205, and neither pivot fires. Then by UM\u2013X and UM\u2013Y (notes.md) and Max(S)={p}, we get p_x\u2265\u03b1\u2082 and p_y\u2265\u03b2\u2082. Theorem 9 applies, showing p has exactly one NE neighbor (m), so (1,\u03b1,\u03b2) is unique.\nThese cases exhaust all possibilities. \u220e\nWhy useful: This cleanly resolves the unique\u2013maximal regime whenever S has a single maximal element. It collapses many subcases into threshold/pivot checks and reduces the remaining difficulty to configurations with |Max(S)|\u22652.\n\nRemark. In several subcases above, if both (\u03b1,Y) and (X,\u03b2) happen to lie in U, Lemma UM2\u2032 immediately gives a unique type\u20132 color at (2,\u03b1,\u03b2) without invoking thresholds.\n\n### Examples validating the new lemmas\n- UM2\u2032 example. Let U contain m=(7,7), p=(3,2), and also (3,7),(7,2); assume no points on the open vertical segment x=3, y\u2208(2,7), nor on the open horizontal segment y=2, x\u2208(3,7) (these are excluded by p\u2208Max(S) via UM1). Then r_U(3,2)=s_U(3,2)=1, so (2,3,2) is unique.\n- UM-single, Case D. U has m=(8,8), top-row points at x=2,5,6 (\u03b1\u2082=6) and no right-column points below Y. Let S contain points strictly SW, and suppose Max(S)={p=(6,1)}. The top-row pivot fails since column 6 has (6,1). UM\u2013X yields p_x\u2265\u03b1\u2082=6; with R=\u2205, p\u2019s only NE neighbor is m, so (1,6,1) is unique.\n- UM-single, Case F. U has m=(6,6), top-row x\u2019s {2,4,5} (\u03b1\u2082=5), right-column y\u2019s {1,3} (\u03b2\u2082=3), and Max(S)={p=(5,3)}. Both pivots fail. Since p meets both thresholds, Theorem 9 gives (1,5,3) unique.\n\n### A small symmetric pattern (robust L-corner variant; optional to curate)\nLemma RL\u2032 (two 2-point columns sharing a lower endpoint with a clean row \u21d2 unique type 2).\n- Statement. Suppose there exist \u03b1<\u03b1\u2032 and \u03b2<\u03b2_1,\u03b2_2 such that in column \u03b1 we have exactly (\u03b1,\u03b2),(\u03b1,\u03b2_1), in column \u03b1\u2032 we have exactly (\u03b1\u2032,\u03b2),(\u03b1\u2032,\u03b2_2), and row \u03b2 contains exactly the two points (\u03b1,\u03b2),(\u03b1\u2032,\u03b2). Then (2,\u03b1,\u03b2) is unique.\n- Proof. In column \u03b1 there is exactly one point above \u03b2, namely (\u03b1,\u03b2_1), so r_U(\u03b1,\u03b2)=1. In row \u03b2 there is exactly one point to the right of \u03b1, namely (\u03b1\u2032,\u03b2), so s_U(\u03b1,\u03b2)=1. Theorem 1 (type 2) yields uniqueness. \u220e\n- Why useful: This is the column-dual of Lemma RL recorded in notes.md. Both are robust instances of Theorem 7 and are convenient \u201coff-the-shelf\u201d certificates in 2+2(+\u2026) patterns.\n\n### How this advances the overall proof\n- Theorem UM-single settles the unique\u2013maximal regime whenever the down-left region under m has a single maximal element. Together with Theorems 8\u201310, this eliminates a large family of layouts. What remains in the unique\u2013maximal regime is the |Max(S)|\u22652 case, for which the planned \u201ccrossing-pair\u201d analysis applies.\n- Lemma UM2\u2032 adds a simple, verifiable trigger for unique type\u20132 localized at any SW-maximal p having both boundary contacts; it will be a key branch in the crossing analysis when both nearest boundary supports exist.\n\n### Toward the remaining hard case (|Max(S)| \u2265 2): blueprint recap and refinement\n- Setup. With m=(X,Y), list Max(S) in increasing x (hence decreasing y) as s_1,\u2026,s_k, k\u22652. If both T and R are nonempty and neither pivot fires, notes.md (UM\u2013X/UM\u2013Y corollary) yields indices f,g with x(s_f)\u2265\u03b1\u2082 and y(s_g)\u2265\u03b2\u2082 but no single s_i meets both. Then f>g. Consider the \u201ccrossing L-corner\u201d at (x(s_g), y(s_{g+1})).\n- Clean corner \u21d2 unique type 2. If the open vertical segment x=x(s_g), y\u2208(y(s_{g+1}), y(s_g)) and the open horizontal segment y=y(s_{g+1}), x\u2208(x(s_g), x(s_{g+1})) are both empty, Theorem 7/D\u2032 gives a unique type\u20132 color (2, x(s_g), y(s_{g+1})).\n- Next target (nearest-interloper lemma). Define y_v as the minimum y in (y(s_{g+1}),Y) with (x(s_g),y)\u2208U if any; define x_h as the minimum x in (x(s_g),X) with (x,y(s_{g+1}))\u2208U if any. I will prove next that at least one of the nearest interlopers (if present) can be converted into a safe type\u20133/4 uniqueness via Theorem 3 or R3/R4, or else the corner is clean and Theorem 7 applies. This will close the |Max(S)|\u22652 unique\u2013maximal case.\n\n### Obstacles\n- The nearest-interloper conversion requires careful global control to ensure no other rows/columns contribute to T_3/T_4 outside the intended witness (hence the use of R3/R4, not just a raw vertical/horizontal edge). The construction must leverage that offenders for different consecutive maxima lie on disjoint rows and columns, allowing us to isolate a globally unique base.\n\n### Next steps (concrete and auditable)\n1) Curate Lemma UM2\u2032 and Theorem UM-single into output.md (both are short and rely only on UM1 and Theorems 1, 3, 9, 10 and UM\u2013X/UM\u2013Y already proved in notes.md).\n2) Prove the \u201cnearest-interloper lemma\u201d for the crossing pair (s_g, s_{g+1}): at least one of y_v or x_h enforces a safe R3/R4 or Theorem 3 trigger; otherwise the corner is clean and Theorem 7 applies. I will present the exact statement and proof next round.\n3) Optional: curate RL\u2032 (column-dual robust L-corner) as a pattern in notes.md for use in the crossing analysis.\n4) Stress-test UM-single and UM2\u2032 on crafted examples (dense boundaries; sparse interiors) and begin assembling a complete \u201cunique maximal \u21d2 unique color\u201d theorem using the pivot-or-corner strategy.\n\n### Why this is progress\n- UM2\u2032 adds a robust, local type\u20132 certificate directly at SW-maxima; UM-single settles the entire unique\u2013maximal regime when the SW region has a single maximal, further shrinking the open set of configurations. The blueprint for the remaining |Max(S)|\u22652 case is sharpened to a concrete nearest-interloper analysis aligned with the safe global triggers already curated (Theorem 3, R3, R4, Theorem 7)."}, {"prover_id": "02", "progress_md": "Round 0008 \u2014 incremental, auditable progress\n\nOverview\n- I focus on consolidating the unique\u2013maximal regime by adding two safe, local type\u20132 triggers tied to the boundary thresholds \u03b1\u2082 (top row) and \u03b2\u2082 (right column). These are immediate consequences of the type\u20132 multiplicity formula and fit the \u201cpivot-or-corner\u201d strategy. I also audit output.md: no new gaps found; minor notational point noted below. Finally, I outline how these triggers integrate into the crossing subcase and propose concrete next steps.\n\nAudit of output.md (gaps or issues)\n- Theorem 11: The corrected proof for |U|=4 looks consistent after switching to Theorem 7 (robust L-corner) in the two-rows-with-common-left-endpoint subcase.\n- Theorem 8: Notation uses X,Y for the designated column/row; the proof is fine. The sentence \u201cthere are no \u03b2>Y in U when m is the unique maximal\u201d only appears in Theorem 10 and is justified by Lemma O1.\n- Minor notation: in the last paragraph of Theorem 11, \u201cv(\u03b2)=1\u201d should read v_\u03b1(\u03b2)=1 or directly \u201cT_3(\u03b2)=1\u201d to match earlier notation (purely cosmetic).\n\nNew, rigorously stated lemmas (safe triggers; immediate from the type\u20132 formula)\n\n- Lemma T2\u03b1 (top-row failure \u21d2 local type\u20132 at \u03b1\u2082\u2019s first subrow if exactly one right neighbor).\n  Setup. U has a unique maximal m=(X,Y). Let T={x<X : (x,Y)\u2208U}, assume T\u2260\u2205, and let \u03b1\u2082=max T. Assume column \u03b1\u2082 contains at least one point below Y and define \u03b2_c = max{ y<Y : (\u03b1\u2082,y)\u2208U } (the highest sub-top-row point in column \u03b1\u2082). If on row \u03b2_c there is exactly one point to the right of \u03b1\u2082 (i.e., h_{\u03b2_c}(\u03b1\u2082)=1), then the color (2,\u03b1\u2082,\u03b2_c) is unique.\n  Proof. In column \u03b1\u2082, the only point above \u03b2_c is (\u03b1\u2082,Y) by definition of \u03b2_c, so r_U(\u03b1\u2082,\u03b2_c)=1. By hypothesis, s_U(\u03b1\u2082,\u03b2_c)=h_{\u03b2_c}(\u03b1\u2082)=1. By the type\u20132 multiplicity formula, (2,\u03b1\u2082,\u03b2_c) has multiplicity 1.\n  Why useful: When the top-row pivot (Theorem 10) fails, this is the next-in-line check on the first subrow of \u03b1\u2082 and yields uniqueness under a minimal, verifiable right-neighbor condition.\n\n- Lemma T2\u03b2 (right-column failure \u21d2 local type\u20132 at \u03b2\u2082\u2019s last left column if exactly one upper neighbor).\n  Setup. U has a unique maximal m=(X,Y). Let R={y<Y : (X,y)\u2208U}, assume R\u2260\u2205, and let \u03b2\u2082=max R. Assume row \u03b2\u2082 contains at least one point left of X and define \u03b1_r = max{ x<X : (x,\u03b2\u2082)\u2208U } (the rightmost sub-right-column point on row \u03b2\u2082). If in column \u03b1_r there is exactly one point above \u03b2\u2082 (i.e., v_{\u03b1_r}(\u03b2\u2082)=1), then the color (2,\u03b1_r,\u03b2\u2082) is unique.\n  Proof. On row \u03b2\u2082, the only point to the right of \u03b1_r is (X,\u03b2\u2082) by definition of \u03b1_r, hence s_U(\u03b1_r,\u03b2\u2082)=1. By hypothesis v_{\u03b1_r}(\u03b2\u2082)=1, so r_U(\u03b1_r,\u03b2\u2082)=1. The type\u20132 formula gives multiplicity 1 for (2,\u03b1_r,\u03b2\u2082).\n  Why useful: Dual to T2\u03b1; when the safe type\u20133 pivot (Theorem 3) at \u03b2\u2082 does not apply, this certifies uniqueness on the first left-ward base if the relevant column has a single upward extension.\n\nExamples (sanity checks)\n- For T2\u03b1. Let m=(8,8), top row has points at x=3,6,8 so \u03b1\u2082=6. Column 6 contains (6,5) and no other below 8, so \u03b2_c=5. Suppose row 5 has exactly one point to the right of 6, say (7,5), and no others to the right. Then r_U(6,5)=1 (only (6,8)), s_U(6,5)=1, so (2,6,5) is unique by T2\u03b1.\n- For T2\u03b2. Let m=(8,8), right column has points at y=4,7,8 so \u03b2\u2082=7. Row 7 contains (5,7) and (8,7), with column 5 having exactly one point above 7, say (5,9) absent (forbidden by O1) and (5,8) present? O1 forbids y>8; only (5,8) can be present above 7, so v_5(7)=1. Then s_U(5,7)=1 (only (8,7)), and (2,5,7) is unique by T2\u03b2.\n\nHow these plug into the unique\u2013maximal crossing subcase\n- Context. When both T and R are nonempty and neither pivot fires (Theorem 10 nor the safe type\u20133 singleton-row trigger), UM\u2013X and UM\u2013Y guarantee existence of SW-maxima meeting the x- or y-threshold separately. If a single SW-maximum meets both thresholds, Theorem 9 gives a type\u20131 unique color. Otherwise (crossing), the next checks are precisely T2\u03b1 and T2\u03b2 on the \u201cclosest\u201d subrow/column: \u03b2_c below \u03b1\u2082 and \u03b1_r left of \u03b2\u2082. If either h_{\u03b2_c}(\u03b1\u2082)=1 or v_{\u03b1_r}(\u03b2\u2082)=1, we immediately get a unique type\u20132 color.\n- What remains. The difficult residual is when both h_{\u03b2_c}(\u03b1\u2082)\u22652 and v_{\u03b1_r}(\u03b2\u2082)\u22652. I plan to show that then the lowest vertical/horizontal interlopers at these positions can be turned into either a robust L-corner (Theorem 7) or a singleton+extension trigger (Theorem 3) on some nearby row/column. This will complete the unique\u2013maximal case.\n\nObstacles and cautions\n- T2\u03b1/T2\u03b2 are sufficient but not necessary; they do not by themselves close the crossing subcase when both local counts are \u22652.\n- A na\u00efve attempt to force Theorem 7 at the \u201ccrossing L-corner\u201d (x(s_g),y(s_{g+1})) fails without controlling intermediate points on the relevant column/row segments. The nearest-interloper analysis is therefore essential.\n\nNext steps (concrete and auditable)\n1) Prove a nearest-interloper lemma for the crossing subcase: if both h_{\u03b2_c}(\u03b1\u2082)\u22652 and v_{\u03b1_r}(\u03b2\u2082)\u22652, then among the nearest interlopers one induces either (i) a robust L-corner (Theorem 7) or (ii) a singleton+extension (Theorem 3) or (iii) a row/column-of-two with globally unique base (R4/R3). I will formalize the minimality choices and verify that additional contributors cannot create a second witness for the same color.\n2) Curate Lemmas T2\u03b1 and T2\u03b2 into output.md under \u201cUnique\u2013maximal: boundary-local type\u20132 triggers.\u201d They are direct from the type\u20132 formula and strengthen the practical checklist after the pivots fail.\n3) Optional: add a brief remark in output.md clarifying Theorem 11\u2019s notation (replace \u201cv(\u03b2)=1\u201d by \u201cT_3(\u03b2)=1\u201d or \u201cv_\u03b1(\u03b2)=1\u201d).\n\nWhy this is progress\n- T2\u03b1 and T2\u03b2 are clean, checkable uniqueness certificates targeted at the unique\u2013maximal regime\u2019s remaining hard zone (post-pivot, pre-crossing resolution). They are immediate to implement in the search and reduce many configurations without global casework. The planned nearest-interloper lemma will dovetail with these to finish the unique\u2013maximal case."}]

Current notes.md:
Setup and terminology.
- U ⊆ [n]×[n]. For p=(x,y) and q=(x',y'), say q is NE of p if x'>x and y'>y, and q is SE of p if x'>x and y'<y. Let G[U] be the graph on vertex set U with one edge for every unordered pair {p,q}. Each edge receives one of four types:
  • Type 1 (NE–SW): endpoints differ in both coordinates and one is NE of the other. The color label is (1,α,β) with α = min{x,x'} and β = min{y,y'}; equivalently the SW endpoint’s coordinates.
  • Type 2 (NW–SE): endpoints differ in both coordinates and one is NW of the other. The color label is (2,α,β) with α = min{x,x'} (the NW x) and β = min{y,y'} (the SE y).
  • Type 3 (vertical): same x; the color label is (3,β) where β = min{y,y'} (the lower y).
  • Type 4 (horizontal): same y; the color label is (4,α) where α = min{x,x'} (the left x).

Exact multiplicities (global; now established).
- Type 1: For (α,β)∈U, the multiplicity of color (1,α,β) equals the number of NE neighbors of (α,β) in U. No edge receives label (1,α,β) unless (α,β)∈U.
- Type 2: For any (α,β)∈[n]^2, set r_U(α,β)=# { (α,y)∈U : y>β } and s_U(α,β)=# { (x,β)∈U : x>α }. Then the multiplicity of color (2,α,β) equals r_U(α,β)·s_U(α,β). In particular it is unique iff r_U(α,β)=s_U(α,β)=1.
- Type 3: For any β, the multiplicity of (3,β) equals T_3(β)=∑_α 1_{(α,β)∈U} · # { (α,y)∈U : y>β }. It is unique iff exactly one α contributes and contributes 1.
- Type 4: For any α, the multiplicity of (4,α) equals T_4(α)=∑_β 1_{(α,β)∈U} · # { (x,β)∈U : x>α }. It is unique iff exactly one β contributes and contributes 1.

Safe uniqueness triggers (now established).
- Single-line uniqueness: If U⊆[n]×{y0} with |U|≥2, list its x-coordinates x_1<⋯<x_m. Then the edge between (x_{m−1},y0) and (x_m,y0) is the only edge in G[U] colored (4,x_{m−1}). Dually, if U⊆{x0}×[n] with |U|≥2, then the edge between (x0,y_{m−1}) and (x0,y_m) is the only edge colored (3,y_{m−1}).
- Singleton+extension uniqueness (global): If a row β contains exactly one vertex (α,β) and in column α there is exactly one vertex above it, then (3,β) is unique. Dually, if a column α contains exactly one vertex (α,β) and in row β there is exactly one vertex to its right, then (4,α) is unique. These follow immediately from the type-3/4 formulas.
- Antichain ⇒ unique type 2: If U is an antichain (no two share a row or a column), then ordering its points by increasing x (hence decreasing y), any consecutive pair (x_i,y_i),(x_{i+1},y_{i+1}) yields r_U(x_i,y_{i+1})=s_U(x_i,y_{i+1})=1, hence (2,x_i,y_{i+1}) is unique.
- Clean gap between consecutive maxima: Let M=Max(U) in the product order, list M as (x_1,y_1),…,(x_k,y_k) with x_1<⋯<x_k and y_1>⋯>y_k. For i∈{1,…,k−1} set R_i=# { (x_i,y)∈U : y>y_{i+1} } and S_i=# { (x,y_{i+1})∈U : x>x_i }. If R_i=S_i=1, then the color (2,x_i,y_{i+1}) is unique.
- 2×2 rectangle with clean margins: If U contains the four corners of {(x_1,y_1),(x_1,y_2),(x_2,y_1),(x_2,y_2)} with x_1<x_2, y_1<y_2 and has no other point in column x_1 above y_1 and no other point in row y_1 to the right of x_1, then (2,x_1,y_1) is unique.
- All three-point sets: If |U|=3, then G[U] has a uniquely colored edge. (Full case analysis is recorded in output.)

Corrections and counterexamples.
- “Three or more on a row/column ⇒ unique type 4/3” is false without further global conditions. Counterexample: U = {(1,1),(2,1),(3,1),(2,2),(4,2)}. On row y=1 we get a single occurrence of (4,2) within that row, but globally (4,2) occurs again on row y=2 (edge (2,2)–(4,2)). One must apply the global T_4(α) formula across all rows.
- Gap in “unique maximal ⇒ unique color” (as previously sketched). The subcase S≠∅ must rule out extra NE neighbors lying on the top row or rightmost column. Example showing the gap: U = {(3,3),(4,5),(5,5)}. Here p=(3,3) has two NE neighbors (4,5) and (5,5). A correct proof should either find a different witness (types 3/4 via T_3/T_4) or choose p to avoid such extra NE neighbors. This remains an open item to be fixed.

Open directions.
1) Complete the unique-maximal case rigorously, as outlined above (identify conditions under which T_3/T_4 already gives uniqueness; otherwise find p∈S with unique NE neighbor).
2) For |Max(U)|≥2, either certify a clean gap (R_i=S_i=1) for some consecutive pair, or force a type-3/4 trigger (singleton+extension) or a unique type-1 via a minimality argument on the “extra” points counted by R_i−1 and S_i−1.
3) Extend the small-case verification from |U|=3 to |U|=4 to stress-test the dichotomies and expose the right minimality invariants.
New curated results and corrections (this round)

1) Robust L-corner uniqueness (type 2)
If there exist α<α′ and β<β′ with (α,β′),(α′,β)∈U and, moreover, (i) (α,β) has exactly one point above it in its column (namely (α,β′)) and (ii) exactly one point to its right in its row (namely (α′,β)), then by the type-2 multiplicity formula r_U(α,β)=s_U(α,β)=1 and so the color (2,α,β) is unique. This generalizes the previously noted “2×2 rectangle with clean margins” by not requiring the NE corner (α′,β′) to be present.

2) Cross-shape (row ∪ column) support ⇒ unique color
If U is contained in the union of a single row Y and a single column X and |U|≥2, then G[U] has a uniquely colored edge. Proof: if |U∩row Y|≥2, let α be the second-largest x on that row. Since α≠X, the only row containing (α,·) inside U is Y, and on that row h_Y(α)=1. Thus T_4(α)=1 (unique type 4). Otherwise |U∩column X|≥2 and the vertical analogue gives a unique type 3.

3) Unique-maximal triggers
Let U have a unique maximal m=(X,Y) in the product order. Then X and Y are the global maxima of the used x- and y-coordinates. Define T={x<X : (x,Y)∈U} with α₂=max T (if T≠∅) and R={y<Y : (X,y)∈U} with β₂=max R (if R≠∅). Let S={p∈U : p_x<X and p_y<Y} and let Max(S) denote the set of product-maximal elements of S.
- H′ (SW-max + boundary thresholds ⇒ unique type 1). If S≠∅ and there exists p∈Max(S) with p_x≥α₂ and p_y≥β₂, then p has exactly one NE neighbor in U (namely m), hence the color (1,p_x,p_y) is unique.
- K (top-row pivot ⇒ unique type 4). If T≠∅ and the column α₂ contains no point below Y, then T_4(α₂)=1, realized by the top-row edge between (α₂,Y) and m.
Remark: The column-dual must be formulated with care (see below) to avoid extra contributors in T_3(β₂).

Corrections to proposed lemmas
- The proposed Lemma J (empty L-corner ⇒ unique type 2) was too weak: forbidding points only in the open segments (β,β′) and (α,α′) does not preclude additional points above β′ or to the right of α′. A correct sufficient condition is exactly r_U(α,β)=s_U(α,β)=1 (see robust L-corner above). Counterexample to the weak form: U={(1,2),(3,1),(1,5),(5,1)} satisfies the stated emptiness on (1, y∈(1,2)) and (x∈(1,3),1) but yields multiplicity 4 for color (2,1,1).
- The proposed Lemma K′ (right-column pivot ⇒ unique type 3) as stated omitted the requirement that no other columns contribute to T_3(β₂). A safe version is the singleton+extension trigger: if row β₂ is a singleton (only (X,β₂)) and column X has exactly one point above β₂ (necessarily m in the unique-maximal regime), then T_3(β₂)=1. Counterexample to the weak form: U={(5,5),(5,2),(1,2),(1,4)} makes T_3(2)=2.
- The proposed Lemma L (top/right extremality of consecutive maxima ⇒ unique type 2) is false without excluding intermediate points in column x_i above y_{i+1} (or in row y_{i+1} to the right of x_i). Counterexample: U={(2,5),(5,2),(2,4)} satisfies “m_i topmost” and “m_{i+1} rightmost,” yet r_U(2,2)=2.

Four-point sets (|U|=4)
The claim that every 4-point configuration admits a uniquely colored edge is true; a corrected complete proof is added to output.md. The flawed claim “if no row has 2 points, then no column has 2 points” is refuted by U={(1,1),(1,3),(2,2),(2,4)}. The corrected proof handles all row/column occupancy patterns (4), (3+1), (2+2), (2+1+1), and (1+1+1+1), using type-3/4 triggers or the antichain lemma.

Roadmap for the unique-maximal case
- S=∅ is settled by the cross-shape lemma.
- For S≠∅, aim for a trichotomy: H′ or K (or the safe column-dual) or a robust L-corner (D′) must fire. A workable extremal choice is p∈Max(S) with maximal x and, among those, maximal y; analyze its nearest boundary neighbors and the emptiness of the two open segments above/right of p. If both segments are populated, try to extract a singleton+extension on the boundary or an L-corner between consecutive top-row/right-column supports.
Erratum to Theorem 11 (|U|=4) and fix.
- The original subcase “two distinct rows each have exactly two points and share the same left endpoint α ⇒ T_3(β)=1 for the lower β” was incorrect. Counterexample: the 2×2 rectangle U={(1,1),(1,2),(2,1),(2,2)} has two columns contributing to T_3(1).
- Correct resolution: In that subcase, let β be the lower y among the two points in column α. Then row β has exactly two points (α,β),(γ,β) (so s_U(α,β)=1), and column α has exactly one point above β (namely at the higher row, so r_U(α,β)=1). By Theorem 7 (robust L-corner), (2,α,β) is unique. This uniform fix also covers the rectangle case.

Safe global triggers (recorded for use).
- R4 (row-of-two with globally unique left endpoint ⇒ unique type 4). Suppose some row β has exactly two points (α,β),(α′,β) with α<α′, and for every other row β′ either (α,β′)∉U or there is no point (x,β′) with x>α. Then T_4(α)=1, hence there is a unique color (4,α). Proof: From the type-4 formula, only row β contributes and contributes 1.
- R3 (column-of-two with globally unique lower endpoint ⇒ unique type 3). Suppose some column α has exactly two points (α,β)<(α,β′) with β<β′, and for every other column α′ either (α′,β)∉U or there is no point (α′,y) with y>β. Then T_3(β)=1, hence there is a unique color (3,β). Proof: From the type-3 formula, only column α contributes and contributes 1.

Unique-maximal structure (replace R1 by UM1).
- Setup: U has a unique maximal m=(X,Y). Let S={p∈U: p_x<X and p_y<Y} and Max(S) be its product-order maxima.
- UM1 (boundary-only NE neighbors for SW-maxima). For any p=(α,β)∈Max(S): (i) there is no q∈U with x=α and β<y<Y; (ii) there is no q∈U with y=β and α<x<X. Consequently, any NE neighbor of p lies on the top row y=Y or the right column x=X. Proof: If such a q existed in (i) or (ii), then q∈S and q≻p, contradicting p∈Max(S).
- Caution: The statement “If exactly one of (α,Y) and (X,β) lies in U, then p has exactly one NE neighbor” is false without further constraints. Counterexample: m=(5,5), p=(2,2)∈Max(S), and top-row points (3,5),(4,5) present while (2,5),(5,2) are absent. Then p has multiple NE neighbors. The correct boundary-threshold uniqueness is Theorem 9: require p_x≥α₂ and p_y≥β₂, where α₂ (resp. β₂) is the largest x<X with (x,Y)∈U (resp. largest y<Y with (X,y)∈U).

Maxima-local L-corner certificate.
- D′ (explicit consecutive-maxima L-corner). If M=Max(U)={m_i=(x_i,y_i)} with x_1<⋯<x_k and y_1>⋯>y_k and for some i there is no (x_i,y) with y_{i+1}<y<y_i and no (x,y_{i+1}) with x_i<x<x_{i+1}, then r_U(x_i,y_{i+1})=s_U(x_i,y_{i+1})=1 and color (2,x_i,y_{i+1}) is unique. This is a specialization of Theorem 7.

Extremal SW-max analysis blueprint (pivot-or-corner).
- Choose p∈Max(S) maximizing x and then y. By UM1, r_U(p),s_U(p)∈{0,1}, and all NE neighbors lie on the top row or right column.
  • Regime A: r_U(p)=s_U(p)=1 and p_x≥α₂, p_y≥β₂ ⇒ unique type 1 (Theorem 9).
  • Regime B: exactly one of r_U(p),s_U(p) equals 1. Try to promote a singleton+extension (Theorem 3) or apply R3/R4 to that row/column.
  • Regime C: r_U(p)=s_U(p)=0. Show the nearest top-row point right of p and nearest right-column point above p cannot both exist away from m; otherwise one can extract a robust L-corner (Theorem 7) at p. This will complete the unique-maximal case.

Toward a counting lemma for multiple maxima.
- The horizontal rays on rows y_{i+1} (counted by S_i) and vertical rays on columns x_i (counted by R_i) are anchored at disjoint rows/columns across i. If all R_i,S_i are large (≥2), then many rows/columns carry 
“extensions,” suggesting that a singleton+extension trigger (Theorem 3) or a robust L-corner (Theorem 7) must occur. Aim to formalize via a pigeonhole/counting argument over {y_{i+1}} and {x_i}.
Addenda: unique–maximal thresholds and crossing analysis

Definitions. Let U ⊆ [n]×[n] and assume U has a unique maximal element m = (X,Y) in the product order. Define
- T = { x < X : (x,Y) ∈ U } and, if T ≠ ∅, α₂ = max T.
- R = { y < Y : (X,y) ∈ U } and, if R ≠ ∅, β₂ = max R.
- S = { p ∈ U : p_x < X and p_y < Y }, and let Max(S) denote its product-order maximal elements.

Threshold-existence lemmas (for search reduction).
- Lemma UM–X (x-threshold). If S ≠ ∅ and T ≠ ∅, then either (i) column α₂ contains no point below Y, in which case Theorem 10 applies and yields a unique type-4 color, or (ii) there exists p ∈ Max(S) with p_x ≥ α₂.
  Proof. If column α₂ has no point below Y, we are in (i). Otherwise pick q = (α₂,β) with β < Y, so q ∈ S. In any finite poset, q is dominated by some p ∈ Max(S), hence p_x ≥ α₂.
- Lemma UM–Y (y-threshold). If S ≠ ∅ and R ≠ ∅, then either (i) row β₂ is a singleton {(X,β₂)} and Theorem 3 applies (unique type-3), or (ii) there exists q ∈ Max(S) with q_y ≥ β₂.
  Proof. If row β₂ is a singleton, we are in (i). Otherwise take r = (α,β₂) with α < X, so r ∈ S and is dominated by some q ∈ Max(S), whence q_y ≥ β₂.

Corollary (two-threshold reduction for unique–maximal). In the unique–maximal regime, unless a pivot is already available (Theorem 10 or the safe type-3 singleton-row trigger), we can locate p,q ∈ Max(S) meeting the x- and y-thresholds respectively (p_x ≥ α₂ and q_y ≥ β₂). If some s ∈ Max(S) meets both thresholds simultaneously, Theorem 9 yields a unique type-1 color. The only unresolved subcase is the crossing: x-threshold and y-threshold are met, but by different maxima.

Crossing-pair blueprint. List Max(S) as s_1, …, s_k with x increasing and y decreasing. Suppose indices f,g exist with x(s_f) ≥ α₂ and y(s_g) ≥ β₂ but no single s_i satisfies both. Then g ≥ f and, in fact, f > g. Consider the L-corner at (x(s_g), y(s_{g+1})).
- Vertical ray at x = x(s_g): let y_v be the minimum y ∈ (y(s_{g+1}), Y) with (x(s_g), y) ∈ U, if any (else the ray is clean).
- Horizontal ray at y = y(s_{g+1}): let x_h be the minimum x ∈ (x(s_g), X) with (x, y(s_{g+1})) ∈ U, if any (else the ray is clean).
Dichotomy to establish next: If both rays are clean up to their boundary supports, then Theorem 7 applies at (x(s_g), y(s_{g+1})) and yields a unique type-2 color. Otherwise, analyze the nearest interloper(s) at y_v and/or x_h; prove that at least one induces a safe unique color via either Theorem 3 (singleton+extension) or the global triggers R3/R4. This will complete the unique–maximal case.

Pattern library (robust L-corner in a 2+2(+…)).
- RL (two 2-point rows sharing a left endpoint with a clean column ⇒ unique type 2). If rows β₁ < β₂ have (α,β_i) and (γ_i,β_i) with α < γ_i (i=1,2), column α contains exactly (α,β₁),(α,β₂), and on the lower row β=β₁ there is exactly one point to the right of α (namely (γ₁,β)), then by Theorem 7 we have a unique (2,α,β).

Multiple maxima: counting lemma (work-in-progress). For M = Max(U) listed as m_i=(x_i,y_i) with x_1<…<x_k and y_1>…>y_k, define R_i and S_i as in Theorem 5. If no D′-witness exists for any i, then for each i at least one of R_i, S_i is ≥ 2. Since the rows {y_{i+1}} and columns {x_i} are disjoint across i, collect the “excess” contributors across all i and prove that some row/column must realize a singleton+extension (Theorem 3) or one of the global triggers R3/R4 (hence a unique type-3/4), or else a D′-witness appears, contradicting the assumption. Formalize an exact inequality to conclude.

Stress tests to design. “Staircase + boundary fillers” families where Max(U) is a long chain, and rows y_{i+1} and columns x_i have either clean rays or minimally dirty rays (single interloper). Use them to verify the nearest-interloper analysis and to calibrate when Theorem 7 vs. type-3/4 triggers apply.


Current output.md (if any):
Setup and notation
- U ⊆ [n]×[n]. For p=(x,y) and q=(x',y'), say q is NE of p if x'>x and y'>y, and q is SE of p if x'>x and y'<y. G[U] has an (undirected) edge for every unordered pair {p,q}⊆U, each labeled by one of four types and a color as follows:
  • Type 1 (NE–SW): if one endpoint is NE of the other. Color (1,α,β) with α = min{x,x'} and β = min{y,y'} (coordinates of the SW endpoint).
  • Type 2 (NW–SE): if one endpoint is NW of the other. Color (2,α,β) with α = min{x,x'} (the NW x) and β = min{y,y'} (the SE y).
  • Type 3 (vertical): if x=x'. Color (3,β) with β = min{y,y'} (the lower y).
  • Type 4 (horizontal): if y=y'. Color (4,α) with α = min{x,x'} (the left x).

Theorems currently established
1) Exact multiplicity formulas for types 1–4.
2) Single-line uniqueness: If U lies in a single row (resp. a single column) and has at least two points, then G[U] has a uniquely colored edge of type 4 (resp. type 3).
3) Singleton+extension triggers: A singleton row (resp. singleton column) with exactly one extension above (resp. to the right) forces a unique type-3 (resp. type-4) color.
4) Antichain ⇒ a unique type-2 color.
5) Consecutive-maxima clean gap ⇒ a unique type-2 color.
6) All three-point sets U admit a uniquely colored edge.
7) Robust L-corner uniqueness (type 2).
8) Row ∪ column support ⇒ a unique color.
9) Unique-maximal: SW-max with boundary thresholds ⇒ unique type 1.
10) Unique-maximal: top-row pivot ⇒ unique type 4.
11) Every four-point set admits a uniquely colored edge.

Proofs
Theorem 1 (Exact multiplicities).
- Type 1. Fix (α,β)∈[n]^2. An edge has color (1,α,β) iff its SW endpoint is (α,β), hence necessarily (α,β)∈U. Each NE neighbor q of (α,β) produces exactly one edge of that color, and distinct NE neighbors yield distinct edges. Conversely, any edge of that color arises this way. Therefore the multiplicity of (1,α,β) equals the number of NE neighbors of (α,β) in U.
- Type 2. Fix (α,β)∈[n]^2 and define r_U(α,β)=# { (α,y)∈U : y>β } and s_U(α,β)=# { (x,β)∈U : x>α }. Choosing any (α,y) with y>β and any (x,β) with x>α produces a NW–SE pair whose color is (2,α,β); distinct choices yield distinct edges of that color. Conversely, any edge of color (2,α,β) has its NW endpoint on the vertical ray { (α,y) : y>β } and its SE endpoint on the horizontal ray { (x,β) : x>α }. Hence the multiplicity is r_U(α,β)·s_U(α,β). In particular, uniqueness holds iff r_U(α,β)=s_U(α,β)=1.
- Type 3. Fix β. For each α with (α,β)∈U, the lower endpoint (α,β) connects vertically to each (α,y) with y>β, contributing v_α(β)=# { (α,y)∈U : y>β } edges of color (3,β). Summing over α gives the total multiplicity T_3(β)=∑_α 1_{(α,β)∈U}·v_α(β). Uniqueness holds iff exactly one α contributes and v_α(β)=1.
- Type 4. Fix α. For each β with (α,β)∈U, the left endpoint (α,β) connects horizontally to each (x,β) with x>α, contributing h_β(α)=# { (x,β)∈U : x>α } edges of color (4,α). Summing over β gives T_4(α)=∑_β 1_{(α,β)∈U}·h_β(α). Uniqueness holds iff exactly one β contributes and h_β(α)=1.

Theorem 2 (Single-line uniqueness).
- Row case. Suppose U⊆[n]×{y0} and |U|≥2. Let the distinct x-coordinates be x_1<⋯<x_m with m≥2. The only horizontal edges in G[U] are those between (x_i,y0) and (x_j,y0). The multiset of colors on these edges is { (4,x_1) repeated m−1 times, (4,x_2) repeated m−2 times, …, (4,x_{m−1}) once }. In particular, (4,x_{m−1}) occurs exactly once in G[U].
- Column case. The vertical analogue holds by symmetry: if U⊆{x0}×[n] with |U|≥2 and y_1<⋯<y_m, then (3,y_{m−1}) occurs exactly once.

Theorem 3 (Singleton+extension triggers).
- If a row β contains exactly one point (α,β)∈U and in column α there is exactly one point (α,y) with y>β, then by Theorem 1 (type 3) we have T_3(β)=1 and hence the color (3,β) is unique. The column/row dual gives the type-4 trigger.

Theorem 4 (Antichain ⇒ unique type 2).
- Assume U is an antichain (no two share a row or a column). List U as (x_1,y_1),…,(x_m,y_m) in increasing x, which forces y_1>y_2>⋯>y_m. For any i∈{1,…,m−1} consider (α,β)=(x_i,y_{i+1}). In column α there is exactly one point above β, namely (x_i,y_i); in row β there is exactly one point to the right of α, namely (x_{i+1},y_{i+1}). Thus r_U(α,β)=s_U(α,β)=1, and by Theorem 1 (type 2) the color (2,α,β) is unique.

Theorem 5 (Consecutive-maxima clean gap ⇒ unique type 2).
- Let M=Max(U) under the product order, listed as m_i=(x_i,y_i) with x_1<⋯<x_k and y_1>⋯>y_k (k≥2). For i∈{1,…,k−1} define R_i=# { (x_i,y)∈U : y>y_{i+1} } and S_i=# { (x,y_{i+1})∈U : x>x_i }. If R_i=S_i=1, then with (α,β)=(x_i,y_{i+1}) we have r_U(α,β)=R_i and s_U(α,β)=S_i, hence r_U·s_U=1 and color (2,α,β) is unique by Theorem 1 (type 2).

Theorem 6 (All three-point sets admit a uniquely colored edge).
- Let U have three distinct points.
  • If all three lie on a common row, with x_1<x_2<x_3, the three horizontal edges on that row have colors (4,x_1),(4,x_1),(4,x_2), so (4,x_2) is unique.
  • If all three lie on a common column, the vertical analogue yields a unique (3,y_2).
  • Otherwise, if some pair lies on a row (resp. column) but not all three do, the edge of that pair has a type-4 (resp. type-3) color that cannot be duplicated elsewhere in U because there is no second edge on that same row (resp. column).
  • Finally, if all x- and y-coordinates are distinct, order by x: p_1=(x_1,y_1),p_2=(x_2,y_2),p_3=(x_3,y_3).
    – If y_1<y_2<y_3, then p_2p_3 is type 1 with color (1,x_2,y_2) and is unique (its SW endpoint is p_2, which has exactly one NE neighbor, namely p_3).
    – If y_1>y_2>y_3, then p_2p_3 is type 2 with label (2,x_2,y_3) and is unique since r_U(x_2,y_3)=s_U(x_2,y_3)=1.
    – In each of the remaining permutations of (y_1,y_2,y_3), one of the consecutive pairs in x-order forms a type-2 edge (NW–SE) with exactly one point above the L-corner in its column and exactly one point to the right on its row, giving a unique type-2 color by Theorem 1 (type 2). Hence at least one unique color exists in all cases.

Theorem 7 (Robust L-corner uniqueness for type 2).
Let α<α′ and β<β′. Suppose (α,β′),(α′,β)∈U, and in column α there is exactly one point above β (namely (α,β′)), and in row β there is exactly one point to the right of α (namely (α′,β)). Then the color (2,α,β) occurs exactly once in G[U].
Proof. By Theorem 1 (type 2), r_U(α,β)=1 and s_U(α,β)=1, hence the multiplicity r_U·s_U=1.

Theorem 8 (Row ∪ column support ⇒ a unique color).
Assume U⊆({x=X}×[n]) ∪ ([n]×{y=Y}) and |U|≥2. Then G[U] has a uniquely colored edge.
Proof. If U⊆{x=X}×[n] or U⊆[n]×{y=Y}, Theorem 2 applies. Otherwise U meets both the row and the column. If |U∩([n]×{Y})|≥2, list its x-coordinates x_1<⋯<x_m and set α=x_{m−1}. Since α≠X and U⊆(column X)∪(row Y), the only β with (α,β)∈U is β=Y. On row Y, h_Y(α)=1. Hence T_4(α)=1 by Theorem 1 (type 4). If instead |U∩({X}×[n])|≥2, the vertical analogue yields a unique type-3 color.

Theorem 9 (Unique-maximal: SW-max with boundary thresholds ⇒ unique type 1).
Suppose U has a unique maximal element m=(X,Y) in the product order. Let T={x<X : (x,Y)∈U} and R={y<Y : (X,y)∈U}, with α₂=max T if T≠∅ (and α₂=−∞ otherwise), and β₂=max R if R≠∅ (and β₂=−∞ otherwise). Let S={p∈U : p_x<X and p_y<Y}. If S≠∅ and there exists p∈Max(S) (for the product order) with p_x≥α₂ and p_y≥β₂, then the color (1,p_x,p_y) is unique.
Proof. Any NE neighbor q of p with q_x<X and q_y<Y would satisfy q≻p and lie in S, contradicting p∈Max(S). Thus every NE neighbor of p lies on row Y or column X. Because p_x≥α₂, there is no (x,Y)∈U with p_x<x<X, and because p_y≥β₂, there is no (X,y)∈U with p_y<y<Y. Hence the only possible NE neighbor is m. By Theorem 1 (type 1), the multiplicity of (1,p_x,p_y) equals the number of NE neighbors of p, namely 1.

Theorem 10 (Unique-maximal: top-row pivot ⇒ unique type 4).
In the setting of Theorem 9, if T≠∅ and the column α₂ contains no point below Y, then the color (4,α₂) occurs exactly once in G[U].
Proof. On row Y, the point (α₂,Y) has exactly one right neighbor, (X,Y), so h_Y(α₂)=1. For β≠Y there is no (α₂,β)∈U by hypothesis, and there are no β>Y in U when m is the unique maximal. Therefore T_4(α₂)=h_Y(α₂)=1 by Theorem 1 (type 4).

Theorem 11 (Every four-point set admits a uniquely colored edge).
If |U|=4, then G[U] has a uniquely colored edge.
Proof. If some row has ≥3 points, list the x-coordinates on that row as x_1<⋯<x_k with k≥3. The rightmost edge on that row has color (4,x_{k−1}). To realize (4,x_{k−1}) elsewhere would require a different row containing both (x_{k−1},·) and a point with x>x_{k−1}, which is impossible with only one point off the given row. Thus (4,x_{k−1}) is unique. If some column has ≥3 points, the vertical analogue (type 3) applies.
Otherwise, every row and every column has ≤2 points. If there is a row with exactly two points, let its smaller x be α. If no other row contains both (α,·) and a point to its right, then by Theorem 1 (type 4) we have T_4(α)=1. Otherwise there exists a second row with exactly two points and the same left endpoint α. Let β be the lower of the two y-values in column α. Then on row β there is exactly one point to the right of α, and in column α there is exactly one point above β. By Theorem 7 (robust L-corner), r_U(α,β)=s_U(α,β)=1 and the color (2,α,β) is unique.
Finally, if no row has two points, then each row has exactly one point. If some column has two points, let β be the lower y on that column; at row β only that column contributes and v(β)=1, so T_3(β)=1. If no column has two points either, U is an antichain, and Theorem 4 gives a unique type-2 color. In all cases a unique color exists.
Auxiliary lemmas (supporting Theorems 9–11 and later triggers)

Lemma O1 (unique maximal ⇒ coordinatewise maxima).
Statement. If U has a unique maximal element m=(X,Y) in the product order, then X = max{ x : (x,·) ∈ U } and Y = max{ y : (·,y) ∈ U }.
Proof. Suppose some u=(x′,y′) ∈ U has x′ > X. In any finite poset, u is dominated by some maximal element m′ (i.e., m′ ≥ u coordinatewise). Then m′_x ≥ x′ > X, so m′ ≠ m, contradicting uniqueness. The case y′ > Y is symmetric. Therefore no point of U has x > X or y > Y, proving the claim.

Lemma UM1 (SW-maxima have only boundary NE neighbors).
Setup. Assume U has a unique maximal m=(X,Y). Let S={ p ∈ U : p_x < X and p_y < Y } and Max(S) its product-order maximal elements.
Statement. If p=(α,β) ∈ Max(S), then: (i) there is no q ∈ U with x=α and β < y < Y; (ii) there is no q ∈ U with y=β and α < x < X. Consequently, every NE neighbor of p lies on the top row y=Y or the right column x=X.
Proof. If q=(α,y) with β<y<Y existed, then q ∈ S and q ≻ p, contradicting p ∈ Max(S). The horizontal case is analogous. The consequence follows immediately.

Corollary R4 (row-of-two with globally unique left endpoint ⇒ unique type 4).
Statement. Suppose there exists a row β with exactly two points (α,β),(α′,β) ∈ U with α<α′. Assume furthermore that for every β′ ≠ β either (α,β′) ∉ U or there is no point (x,β′) with x>α. Then the color (4,α) appears exactly once in G[U].
Proof. By the type-4 multiplicity formula, T_4(α)=∑_{β''} 1_{(α,β'')∈U} · h_{β''}(α). By hypothesis, only β contributes (since (α,β'')∉U for β''≠β or h_{β''}(α)=0 there), and on row β we have h_β(α)=1 (exactly one right neighbor at α′). Hence T_4(α)=1 and (4,α) is unique.

Corollary R3 (column-of-two with globally unique lower endpoint ⇒ unique type 3).
Statement. Suppose there exists a column α with exactly two points (α,β),(α,β′) ∈ U with β<β′. Assume furthermore that for every α′ ≠ α either (α′,β) ∉ U or there is no point (α′,y) with y>β. Then the color (3,β) appears exactly once in G[U].
Proof. By the type-3 multiplicity formula, T_3(β)=∑_{α''} 1_{(α'',β)∈U} · v_{α''}(β). By hypothesis, only α contributes (since (α'',β)∉U for α''≠α or v_{α''}(β)=0 there), and in column α we have v_α(β)=1 (exactly one point above at β′). Hence T_3(β)=1 and (3,β) is unique.

