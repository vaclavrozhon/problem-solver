--- SYSTEM ---
You are a strict mathematical verifier & research manager.

You are being run in a loop with provers. Your tasks:
- Audit their ideas for correctness and rigor.
- Curate files (notes.md and output.md).
- Suggest the next steps.

Inputs: 
- task statement
- outputs of provers
- notes.md (summary so far)
- output.md (rigorously proven results so far)

Guidelines:
- notes.md: should be a readable running log of interesting work. Prefer appending. Replace only if old notes are clearly misleading. Remember -- notes should be self-contained and should make sense even without seeing outputs of past provers. 
- output.md: should be concise and rigorous. It should contain only fully proven theorems that are clearly an interesting step towards the solution (or the solution itself). The beginning of the file is a clear list of interesting theorems you can prove. From the statement of the theorem it has to be clear that this constitutes nontrivial progress towards solution. The rest of the file contains a fully rigorous list of the proofs of the theorems. Keep only proven theorems with clear proofs. If a statement is flawed and you cannot fix it, remove it from output.md and instead add it to notes.md with explanation.
- Be careful with the booleans `new_notes_append` and `new_outputs_append`: default is True (append). Use False only when deliberately rewriting everything.

Tasks:
1) Audit rigor: identify unjustified steps, false statements, missing lemmas; produce minimal counterexamples.
2) Triage value: separate genuine progress from noise.
3) Guide next steps: propose what provers should try next.

**Return strictly JSON**:
{
  "feedback_md": "Detailed critique of prover outputs (≥200 words). Include concrete next-step suggestions. The next round of provers may not see last round outputs; ensure all valuable info is stored in notes.",
  "new_notes_md": "Markdown (KaTeX allowed). Usually appended to notes.",
  "new_notes_append": "True|False",
  "new_outputs_md": "Markdown (KaTeX allowed). Usually appended to output.md.",
  "new_outputs_append": "True|False",
  "verdict": "success|uncertain|nothing so far"
}


--- USER ---
You receive multiple prover reports. Evaluate correctness, value, and pick promising directions. Update notes.md (append/replace) with useful ideas and update output.md (append/replace) ONLY with rigorously verified results.

Prover reports (JSON):
[{"prover_id": "01", "progress_md": "Headlines for this round\n- Critical observation: the current geometry-aware non-signaling LP in Definition 6 is too weak to certify any nontrivial bound in the two-way model (with or without entanglement). In fact, for every r \u2265 1 and k \u2265 1 one can construct a feasible distribution with success 1. Hence q(r,k) = 1 under Definition 6, and the LP as stated cannot yield the desired constant-error lower bound. We give an explicit feasible \u201cstationary proper Markov chain\u201d witness and verify it satisfies all geometry-aware placement-invariance constraints while assigning probability 1 to proper colorings. This reveals a gap in output.md: constant-error bounds cannot be extracted from this LP for two-way algorithms.\n- Implication: to obtain any nontrivial bound for 2\u20133 rounds, we must strengthen the constraint system beyond geometry-aware invariance. For product initial states, independence across sets whose 2r-neighborhoods are disjoint is valid, but it is nonlinear (factorization) and thus does not fit directly in a linear program. For the entanglement-allowed regime, no such independence holds, so even stronger difficulty arises\u2014non-signaling alone is insufficient.\n- We propose two corrective directions: (A) independence-augmented constraints for the product-state regime (leading to a non-linear, or lifted, formulation); (B) switch to ring-level \u201cexperiment\u201d arguments tailored for two-way (rather than the segment-LP), or to LCL-round-elimination style arguments yielding constant-error lower bounds for fixed r.\n\nGap in output.md (and why)\n- Definition 6 + Lemma 5 (geometry-aware invariance within automorphism classes) are correct and sound. However, the discussion that suggests solving this LP for r = 2,3 and extracting q < 1 (progress.md Round 0001\u20130003; output.md Constant-error bound, Corollary 10, \u201csegment LP\u201d as the vehicle) is too optimistic: the LP feasible region is broad enough to include measures supported entirely on proper strings.\n- Concrete witness (feasibility with objective 1). Consider the order-1 Markov chain on \u03a3 = {1,2,3} with stationary distribution u(\u03c3) = 1/3 and transition matrix P with P(\u03c3\u2192\u03c3) = 0 and P(\u03c3\u2192\u03c4) = 1/2 for all \u03c4 \u2260 \u03c3. Let p_k be the induced distribution on \u03a3^k generated by (X_1,\u2026,X_k) with X_1 \u223c u and X_{i+1} | X_i \u223c P. Then:\n  \u2022 Support: p_k(\u03c8) = 0 whenever \u03c8 has any equal adjacent colors; thus \u2211_\u03c8 p_k(\u03c8)\u00b71{proper(\u03c8)} = 1.\n  \u2022 Interior single-core invariance: For any core length s and any interior position i (with r-buffers inside [1..k]), the marginal law of (X_i,\u2026,X_{i+s-1}) is the stationary s-block law of the chain, independent of i. Hence all single-core equalities across interior translations are satisfied.\n  \u2022 Geometry-aware multi-core invariance: For any geometry (s,\u03b4) and two r-gapped placements \u03c9, \u03c9\u2032 of (s,\u03b4) inside [1..k], the joint law of the blocks (centered at the cores) depends only on (s,\u03b4) (i.e., on inter-core separations), and not on absolute position. Therefore all geometry-aware multi-core constraints in Definition 6 hold. (The only admissibility requirement is \u03b4_j \u2265 2r, which we respect by picking placements with disjoint r-buffers; stationarity ensures invariance across interior translations for each fixed geometry.)\n- Since p_k is feasible and achieves objective value 1, we have q(r,k) = 1 for all r,k under Definition 6. Thus, the (segment) LP cannot witness q < 1 in the two-way model and provides no constant-error bound in Corollary 10 beyond the trivial bound 1. This should be clearly stated in output.md, and the current plan \u201csolve the LP for r = 2,3 to get q < 1\u201d should be revised.\n\nConsequences and revised modeling proposals\n- Product-state (no entanglement) regime:\n  \u2022 Valid extra structure: independence across regions whose r-neighborhoods are disjoint (in our setting: beyond 2r for two-way). This implies that, for any geometry (s,\u03b4) with pairwise \u03b4_j \u2265 2r and placements \u03c9, the joint law on the cores factorizes across connected components of the union of r-buffers. Unfortunately, factorization constraints are multiplicative (bilinear if expressed in terms of probabilities); hence the natural feasible set is not a polytope. Adding \u201cindependence\u201d to Definition 6 transforms the LP into a non-linear (and non-convex) program.\n  \u2022 Auditable alternative (still linear, but stronger than Definition 6): Introduce auxiliary variables for joint marginals on tuples of cores and impose linear consistency across overlaps together with linear \u201cbounds\u201d implied by independence (e.g., all 2\u00d72 minors nonnegative inequalities, union/intersection bounds). These are necessary but not sufficient for independence; they cut off some (but not all) spurious feasible points such as the Markov-chain witness. The hope is that a sufficiently rich hierarchy of such linear constraints (e.g., k-local consistency with lifted variables) already forces q(r,k) < 1 for small k,r. This is akin to local-consistency/Sherali\u2013Adams lift-and-project. We propose to instantiate the first 1\u20132 lift levels and test.\n  \u2022 Nonlinear route (exact): Enforce true factorization for disjoint unions by constraints of the form P(A\u2229B) = P(A)P(B), where A,B are cylinder events on disjoint r-buffers. This yields a polynomial system (bilinear equalities). One can attack it with algebraic or mixed-integer programming tools, or via iterative convex relaxations (e.g., log-likelihood parametrization) \u2014 at least for small k. A negative certificate (infeasibility at value 1) would give the desired q(r,k) < 1.\n- Entanglement-allowed regime:\n  \u2022 No independence is valid; only non-signaling and geometry-aware invariance hold. As the Markov-chain witness shows, these are insufficient to rule out perfect (segment-level) properness. Consequently, our prior plan to get a constant-error bound via the segment LP is not viable.\n  \u2022 For ring-level bounds, one-way r = 1 enjoyed special non-signaling equalities collapsing dependence on distance, which powered LGR\u2019s bias method. In two-way, pair laws explicitly depend on distance, so that collapse is unavailable. This strongly suggests that non-signaling-only methods cannot give nontrivial constant-error bounds for 3-coloring in small two-way rounds.\n\nAlternative analytic avenues for small fixed rounds (r = 2,3)\n- Classical LCL lower bounds (no entanglement) imply that 3-coloring cycles needs \u03c9(1) rounds (\u0398(log* n)) in the LOCAL model. In particular, no 2- or 3-round (randomized) classical algorithm can succeed with probability 1. However, these results do not immediately give a uniform n-independent constant error lower bound. We suggest to target the following more modest, but auditable, goal:\n  \u2022 Claim (target): For any fixed r, there exists \u03b5(r) > 0 and k = k(r) such that any r-round classical algorithm (hence any quantum w/o entanglement) on C_n has P_success \u2264 1 \u2212 \u03b5(r) for all n \u2265 k.\n  \u2022 Sketch of route: Use the round-elimination/indistinguishability toolkit to construct, for large enough n, two inputs (e.g., two rotations of a sparse \u201cseed\u201d pattern) whose r-views are locally indistinguishable at a positive fraction of nodes, yet whose global constraints force inconsistent local choices. A counting/averaging argument (e.g., via the hard-core potential method) yields a constant gap. This can be adapted to randomized algorithms by conditioning on a typical event of the private randomness. We will prototype this for r = 2.\n- \u03d5-LOCAL approach: In the \u03c6-LOCAL model (Gavoille\u2013Kosowski\u2013Markiewicz 2009), strong view-based lower bounds hold (e.g., for MIS, 2-coloring); for 3-coloring cycles in small rounds the situation is open. We suggest to explore whether \u03c6-LOCAL prohibits perfect 3-coloring in r = 2, by constructing two inputs with identical V_r-views at a positive fraction of edges but globally incompatible under properness. Any such lower bound would automatically apply to quantum models by Theorem 2 in their paper.\n\nConcrete items for the verifier (auditable)\n1) Insert into output.md an explicit Proposition: Under Definition 6, q(r,k) = 1 for all r \u2265 1, k \u2265 1; include the stationary proper Markov chain witness and a short verification of feasibility and objective = 1. This corrects the current suggestion that the LP may yield q < 1 in two-way.\n2) State explicitly that, consequently, the segment LP cannot certify any constant-error lower bound in the two-way model (with or without entanglement). Corollary 10 remains formally correct, but vacuous with this LP (it upper-bounds by 1).\n3) Fork the plan into two tracks:\n   - Track A (product state): develop independence-augmented formulations. Start with a lifted linear relaxation (Sherali\u2013Adams level-1/2) that adds auxiliary joint variables for disjoint cores and imposes linear consistency; test r = 2, k \u2208 {10,\u2026,16}. If any such relaxation already yields q < 1, extract a dual certificate (linear inequality). In parallel, set up a small non-linear system encoding exact factorization for a few geometries and solve by algebraic tools for k \u2272 12.\n   - Track B (entanglement allowed): pivot away from segment LP; attempt direct two-way analogues of LGR\u2019s ring-level \u201cexperiment\u201d method tailored to r = 2 (design mixes of distances leveraging light-cone symmetries that must equalize certain expectations), or use \u03c6-LOCAL/view indistinguishability to obtain constant-error lower bounds for fixed r.\n4) Document a minimal analytic example showing how the stationary proper Markov chain satisfies the geometry-aware equality constraints (single-core, two-core, and t = 3 cores) for arbitrary placements with fixed (s,\u03b4). This serves as a counter-model to avoid future regressions.\n\nMinor clarifications to add in output.md\n- Corollary 10: emphasize its scope is only as strong as the segment certificate; with Definition 6 alone, the bound is 1. Note the necessity of rotation (and potentially reflection) invariance in the initial state.\n- Assumptions about uniformity: clarify that \u201cuniform algorithm\u201d implies the same local CPTP maps at each vertex and that rotations/reflections act covariantly; otherwise even geometry-aware equalities need not hold.\n\nNext steps (short horizon)\n- Formalize and insert the \u201cq(r,k) = 1\u201d proposition in output.md with the stationary Markov chain witness.\n- Draft the lifted (Sherali\u2013Adams type) linear relaxation for independence across two disjoint cores (t = 2) and their blocks, and implement constraint generation for r = 2, k up to 12; empirically test whether this already forces q < 1.\n- Begin drafting a ring-level indistinguishability argument for r = 2: identify a finite family of local views and a probabilistic planting that forces a constant fraction of edges to be \u201clocally ambiguous\u201d in a way incompatible with 3-coloring.\n"}]

Current notes.md:
Scope and goal
We seek lower bounds for 2–3 round quantum LOCAL algorithms that 3-color an n-cycle. We separate two resource regimes: (i) no initial shared entanglement (initial product state across vertices), and (ii) arbitrary initial shared entanglement. Our strategy follows and extends Le Gall–Rosmanis (LGR, 2022): reduce to a line-segment optimization under r-local non-signaling constraints, then lift to cycles. Two technical pillars are (A) light-cone localization of measurements in r rounds (implying r-non-signaling), and (B) independence across well-separated regions when the initial state is a product.

Key corrections/new facts
- Independence threshold is 2r, not r, in the two-way model without entanglement. After reversing r communication layers, any measurement on a block depends only on the block’s r-neighborhood. Thus independence of multiple blocks requires their r-neighborhoods to be disjoint, i.e., pairwise distances > 2r. Counterexample to “> r” for r = 1: on a path 0–1–2, one round suffices for node 1 to broadcast a private random bit to nodes 0 and 2, correlating their outputs at distance 2.
- Non-signaling beyond r holds with or without shared entanglement: the marginal on a set S depends only on the initial state on N_r(S). This follows from Heisenberg-picture localization of effects under depth-r local circuits/channels.

Amplification templates
- No entanglement (product initial state): If there exists k and q < 1 such that every r-non-signaling distribution on a length-k segment makes the segment proper with probability at most q, then on cycles C_n the success probability is at most q^{⌊n/(k+2r)⌋}. Partition C_n into ⌊n/(k+2r)⌋ disjoint windows of length k separated by gaps of size 2r; window events are independent by the 2r-separation lemma; ring proper implies all windows are proper.
- With entanglement allowed: For any fixed window W of length k, ring proper implies W is proper. The distribution on W (restricted to placements with r-buffers inside W) is feasible for the r-non-signaling LP, hence P[ring proper] ≤ P[W proper] ≤ q. There is no improvement from packing without independence; the optimal general bound is the n-independent constant q.

LP plan for r = 2, 3
- Variables: probabilities over colorings on r-gapped placements (collections of frames) inside [1..k]. Placements include cores and r-buffers fully contained in [1..k].
- Constraints: non-signaling equalities enforcing that the marginal distribution on a given core is independent of the surrounding placement context as long as r-buffers are intact (equalities of marginals across placements that agree on the core).
- Objective: maximize P[all k − 1 edges inside [1..k] are properly 3-colored].
- Symmetries: quotient by S3 color permutations; translations (and reflections, if used). It is safe (as a relaxation) to enforce only a generating set of non-signaling constraints; for the final certificate, include all placements that respect the segment.
- Execution: sweep k ≈ 10–16 for r = 2 (then smaller k for r = 3), solve numerically, and extract dual certificates for any instance with optimum < 1.

What remains to be computed
- A concrete (r, k, q) with q < 1 via the LP. Once obtained, immediately plug into the amplification templates above. Note the stride is k + 2r (not k + r) in the independence-based exponential bound.

Reference counterexample (to avoid regression)
- Two-way, r = 1, no entanglement: path 0–1–2. Node 1 samples b ∈ {0,1}, sends b to 0 and 2, both output b. Outputs at distance 2 are perfectly correlated; independence beyond r = 1 fails. Independence holds only when r-neighborhoods are disjoint (distance > 2r).
Additional clarifications and refinements

1) Interior placement invariance: correct assumptions and a counterexample
- Valid regimes. For an r-round uniform LOCAL algorithm on a cycle C_n, invariance of interior placements (i.e., equality of core marginals for all gap-r placements whose r-buffers lie within a window W) holds under either of the following assumptions:
  (a) No shared entanglement and identical local initial states (product initial state ⊗_v ρ, with the same ρ at every vertex).
  (b) Shared entanglement is allowed, but the global initial state ρ_0 is invariant under the automorphisms of C_n (rotations and reflections). Uniformity of the local channels across vertices is also required.
- Why. In the Heisenberg picture, the effect for a core event depends only on the union of r-neighborhoods of the cores. Two interior placements of the same frame family induce isomorphic unions; the corresponding effects are related by a permutation of registers. If ρ_0 is invariant under that permutation (true in (a) and (b)), the probabilities coincide.
- Necessity of the symmetry assumption with entanglement. Without (b), the statement can fail. Counterexample (r = 0): prepare EPR pairs on disjoint edges (1,2), (3,4), … around the cycle, and have each vertex measure Z and output a color that is a function of its bit. Then the joint distribution on two adjacent cores depends on whether the placement coincides with a paired edge (correlated) or straddles a pair boundary (independent). Hence, equality across placements fails.

2) Segment LP (precise, and what it models)
- Alphabet Σ = {1,2,3}. Fix r ≥ 1 and k ≥ 1. Let a frame family F = ({{s_1}}, …, {{s_t}}), each {{s_j}} a contiguous core of length s_j.
- An r-gapped placement ω of F inside [1..k] is a t-tuple of start positions (ω_1,…,ω_t) such that the r-buffers [[ω_j − r .. ω_j + s_j − 1 + r]] are subsets of [1..k] and pairwise disjoint. The cores are C_j = [[ω_j .. ω_j + s_j − 1]].
- Variables: p_ψ for ψ ∈ Σ^k, with p_ψ ≥ 0 and ∑_ψ p_ψ = 1.
- Objective: maximize ∑_ψ p_ψ · 1{ψ has no equal-color adjacencies on edges (i, i+1), i = 1..k−1}.
- Constraints (interior placement invariance): For every family F and every core assignment ζ = (ζ_1,…,ζ_t), the marginal probability ∑_{ψ: ∀j ψ|_{C_j} = ζ_j} p_ψ is the same for all gap-r placements ω of F (whose r-buffers lie in [1..k]).
- Soundness: These constraints are necessary for distributions induced by r-round uniform algorithms in regimes (1a) or (1b). Dropping some equalities yields a relaxation (weaker constraints and thus a larger feasible set); any optimum < 1 for a relaxation implies the true optimum < 1 as well.

3) Monotonicity in segment length
Let q(r,k) denote the LP optimum at parameters (r,k) as above. Then q(r,k+1) ≤ q(r,k). Proof idea: Any feasible distribution on Σ^{k+1} marginalizes to a feasible distribution on Σ^k (equalities on interior placements survive marginalization), and 1{proper on k+1} ≤ 1{proper on first k} pointwise.

4) Why a point mass on a proper coloring violates the constraints
Under the single-core placement-invariance constraints, the distribution of s-blocks (e.g., s ∈ {1,2}) must be identical for all interior positions. A point mass on a single proper ψ has position-dependent s-blocks unless ψ is constant (impossible if ψ is proper). Hence a Dirac mass cannot be feasible—this is a useful solver sanity check.

5) Amplification stride and regimes
- No entanglement (product initial state): independence requires gaps of size 2r (not r). The exponential amplification stride is k + 2r. This is tight in general (see r = 1 path 0–1–2 counterexample).
- With entanglement: constant-error bounds via the LP above are valid if the initial shared state is automorphism-invariant; without that symmetry, the placement-equality constraints need not hold (cf. the counterexample in item 1).

6) Computational plan (r = 2)
- Variables: p_ψ, ψ ∈ Σ^k. For k = 10, |Σ^k| = 59,049; for k = 12, |Σ^k| = 531,441.
- Symmetry/useful reductions: quotient by S_3 (color permutations) and reflection; treat translation of placements via equality constraints.
- Constraints to start with: all single-core families with s ∈ {1,2,3}; then add two-core families (1,1), (2,1), (2,2) at several separations, over all interior placements.
- Certification: if optimum < 1, extract a dual certificate (constraint multipliers) that verifies the bound.
Important correction: geometry-aware interior placement invariance
- The equalities we enforce must respect automorphism classes of placements. Two placements of t cores are guaranteed to have equal core marginals only if they are related by a cycle automorphism (rotation; reflection only if the model is reflection-invariant). Equating placements with different inter-core distances is not justified by light-cone localization plus uniformity.
- Minimal counterexample (r = 0, entangled, rotation-invariant): let ρ0 be the 1/2-mixture of the two perfect matchings of EPR pairs around the cycle. Adjacent vertices have Z-correlations (EPR half the time); vertices at distance 2 are uncorrelated. Thus, two singleton cores at distance 1 vs distance 2 have different joint marginals, defeating geometry-agnostic equality constraints.
- Fix: Parameterize multi-core constraints by geometry (core lengths s = (s1,…,st) and inter-core gaps δ = (δ1,…,δt−1), where δj is the number of vertices between cores j and j+1). Require equality only across translations inside [1..k] (and optionally reflections) for the same (s, δ), with the additional admissibility condition δj ≥ 2r ensuring disjoint r-buffers.

Monotonicity in r (new)
- Let q(r,k) be the (revised, geometry-aware) LP optimum. Then q(r+1,k) ≥ q(r,k). Reason: when r increases, fewer placements are admissible, so fewer equalities are enforced; the feasible region enlarges and the optimum cannot decrease.

Extreme-point structure (new)
- The feasible set is a nonempty polytope in R^{3^k} (uniform distribution is feasible), defined by linear equalities (geometry-aware invariance), nonnegativity, and normalization. Hence an optimal distribution exists and can be taken at an extreme point (basic feasible solution). This supports sparse-support searches and dual-certificate extraction.

Amplification reminders (unchanged)
- No entanglement: independence requires gaps of size 2r, so the exponential stride is k+2r. The r = 1 path 0–1–2 counterexample shows smaller gaps are insufficient.
- With entanglement: constant-error bounds require automorphism-invariant initial states (or an admissible public random rotation to enforce it). Without that symmetry, interior-placement equalities need not hold.

Computation plan (r = 2), updated to geometry-aware constraints
- Variables: p_ψ, ψ ∈ Σ^k. Quotient by S3 color permutations; do not assume reflection unless explicitly imposed.
- Constraints (progressive):
  • Single-core: s ∈ {1,2,3}, equality across all interior translations.
  • Two-core: (s1,s2) ∈ {(1,1),(2,1),(2,2)}, at several admissible separations δ ≥ 2r; enforce equality across translations for each fixed δ.
  • If needed, add t = 3 families similarly.
- Certification: For any q < 1, extract a dual and archive (r,k), the (s,δ) list, the dual vector, and the inequality certifying ∑_ψ p_ψ·1{proper} ≤ q.

Transfer-matrix/Markov cross-check
- Restricting to stationary Markov chains (order d) is a subset of the LP-feasible set; maximizing properness yields a lower bound on q(r,k), useful for catching modeling/solver errors but not a certifying upper bound.

Pitfalls and checks
- Do not equate placements with different δ. Keep separate runs with and without reflection constraints. Validate symmetry reductions on small k against the full (unreduced) LP.
- Ensure all placements counted in constraints have r-buffers fully inside [1..k].

Current output.md (if any):
Main theorems proved in this file
- Light-cone localization and r-non-signaling for r-round LOCAL algorithms (with or without initial entanglement).
- Independence beyond 2r for two-way r-round LOCAL algorithms with product initial states (no shared entanglement).
- Exponential amplification without entanglement given a segment-level bound q(r,k) < 1.
- Automorphism-covariant interior placement invariance within fixed geometry classes.
- Segment LP with geometry-aware interior invariance; structural lemmas: monotonicity in k, monotonicity in r, extreme-point optimality.
- Constant-error bound with entanglement under automorphism invariance.

Preliminaries
Let G = (V, E) be a graph (cycles are of primary interest). An r-round quantum LOCAL algorithm consists of r synchronous layers of local channels acting on vertex/edge registers, followed by local measurements at the vertices that output colors in {1,2,3}. Each round is modeled as a product of CPTP maps localized on vertices/edges (purifiable to local unitaries by Stinespring dilation). For S ⊆ V, let N_r(S) = {v ∈ V : dist(v, S) ≤ r} denote the r-neighborhood of S.

Theorem 1 (Light-cone localization and r-non-signaling)
Fix an r-round quantum LOCAL algorithm. Let S ⊆ V, and let M_S be any POVM element that depends only on the final local measurements in S. Then there exists a positive operator X_S supported only on the registers associated with N_r(S) (and ancillas therein) such that, for every initial global state ρ (possibly entangled), the probability of M_S is Tr[ρ X_S]. Consequently, if two initial states ρ and ρ′ agree on N_r(S), then the output marginal on S is the same under ρ and ρ′.

Proof sketch (standard): Purify to a depth-r circuit of local unitaries. In the Heisenberg picture, conjugating M_S backward through each round enlarges its support by at most one graph hop. After r rounds, the evolved effect X_S is supported on N_r(S). For any ρ, P[M_S] = Tr[ρ X_S]. If ρ and ρ′ coincide on N_r(S), then Tr[ρ X_S] = Tr[ρ′ X_S].

Theorem 2 (Independence beyond 2r without initial entanglement)
Assume the initial state is a product across vertices, ρ = ⊗_{v∈V} ρ_v. Let S_1, …, S_m ⊆ V have pairwise disjoint r-neighborhoods (equivalently, dist(S_i, S_j) > 2r for i ≠ j). For each i, let M_{S_i} be any event depending only on measurements in S_i, and let X_{S_i} be its Heisenberg-evolved effect from Theorem 1. Then the random outcomes on S_1, …, S_m are mutually independent; in particular,
Tr[ρ X_{S_1} ⋯ X_{S_m}] = ∏_{i=1}^m Tr[ρ_{N_r(S_i)} X_{S_i}].

Proof: Each X_{S_i} acts only on N_r(S_i); these supports are disjoint, and ρ factors across them. The trace of the product factors, which is precisely independence.

Corollary 3 (Exponential amplification without entanglement)
Let r ≥ 1. Fix k ≥ 1 and suppose there exists q < 1 such that, for every distribution on a length-k path segment that satisfies the LP constraints in Definition 6 (below), the probability the segment is internally proper is at most q. Then, for any r-round two-way quantum LOCAL algorithm on the n-cycle with product initial state, the success probability satisfies
P_success(C_n) ≤ q^{⌊n / (k + 2r)⌋}.

Proof: Partition the cycle into m = ⌊n / (k + 2r)⌋ disjoint windows of length k separated by gaps of size 2r. If the cycle is proper, each window is internally proper. Let E_i be “window i is internally proper,” and X_i its Heisenberg-evolved effect. Supports N_r(W_i) are disjoint, so E_i are independent by Theorem 2. By the segment-level bound, P[E_i] ≤ q. Hence P_success(C_n) ≤ ∏_i P[E_i] ≤ q^m.

Remark 4 (Necessity of the 2r separation)
For r = 1 on a path 0–1–2, one round suffices for node 1 to correlate nodes 0 and 2 (e.g., by broadcasting a private random bit), so outputs at distance 2 need not be independent. Thus 2r is tight in general.

Lemma 5 (Automorphism-covariant interior placement invariance for fixed geometries)
Fix an r-round uniform quantum LOCAL algorithm on a cycle C_n, with initial global state ρ_0. Let W ⊆ C_n be any contiguous window of length k. Consider t cores with lengths s = (s_1,…,s_t), and let δ = (δ_1,…,δ_{t−1}) be nonnegative integers encoding the inter-core gaps (δ_j is the number of vertices strictly between core j and core j+1). Let ω and ω′ be two r-gapped placements of (s, δ) inside W (i.e., all r-buffers lie in W and δ_j ≥ 2r). Assume ρ_0 is invariant under the rotations of C_n (reflections as well if the model is reflection-invariant). Then, for every core assignment ζ, the probability that the outputs on the cores equal ζ is the same for ω and ω′.

Proof: Let U_ω ⊆ W and U_{ω′} ⊆ W be the unions of the r-neighborhoods of the cores. Because ω and ω′ have the same geometry (s, δ), there exists a rotation (and possibly a reflection) π of C_n mapping U_ω to U_{ω′} and carrying each core in ω to the corresponding core in ω′. By Theorem 1, there exist positive operators X_ω and X_{ω′} supported on U_ω and U_{ω′} giving the core-event probabilities as Tr[ρ_0 X_ω] and Tr[ρ_0 X_{ω′}]. Uniformity implies covariance under π: X_{ω′} = U_π X_ω U_π^†. Since ρ_0 is invariant under π, Tr[ρ_0 X_{ω′}] = Tr[ρ_0 X_ω].

Definition 6 (Segment LP with geometry-aware interior invariance)
Fix Σ = {1,2,3}, r ≥ 1, k ≥ 1. A geometry is a pair (s, δ) with s = (s_1,…,s_t) positive integers and δ = (δ_1,…,δ_{t−1}) nonnegative integers. An r-gapped placement ω of (s, δ) inside [1..k] is a t-tuple of start positions (ω_1 < ⋯ < ω_t) such that each core C_j = [ω_j .. ω_j + s_j − 1] has its r-buffer C_j^{(+r)} = [ω_j − r .. ω_j + s_j − 1 + r] contained in [1..k], these r-buffers are pairwise disjoint, and ω_{j+1} = ω_j + s_j + δ_j. The variables are p_ψ for ψ ∈ Σ^k, with p_ψ ≥ 0 and ∑_ψ p_ψ = 1. The objective is to maximize ∑_ψ p_ψ · 1{ψ has no equal-color adjacencies on edges (i,i+1), i = 1..k−1}. The constraints enforce interior placement invariance within fixed geometries: for every geometry (s, δ), every core assignment ζ, and every two r-gapped placements ω, ω′ of (s, δ) inside [1..k], the marginal ∑_{ψ: ∀j ψ|_{C_j(ω)} = ζ_j} p_ψ equals ∑_{ψ: ∀j ψ|_{C_j(ω′)} = ζ_j} p_ψ. Denote the optimum by q(r,k).

Remark 6.1 (Soundness regimes and symmetry)
These equality constraints are necessary for r-round uniform algorithms under either of the following assumptions: (i) product initial states with identical local marginals (⊗_v ρ; rotation-invariant), or (ii) arbitrary shared entanglement provided the initial global state is invariant under the rotations of the cycle (reflections as well if the model is reflection-invariant). Without such symmetry in the initial state, the constraints need not hold across placements, even within the same window.

Lemma 7 (Monotonicity in k)
For all r ≥ 1 and k ≥ 1, q(r,k+1) ≤ q(r,k).

Proof: Let p be feasible for (r,k+1). Its marginal p′ on the first k coordinates satisfies all geometry-aware invariance constraints for (r,k): any placement inside [1..k] remains a placement inside [1..k+1], and equalities are preserved under marginalization. Moreover 1{proper on k+1} ≤ 1{proper on first k} pointwise, hence ∑_ψ p_ψ·1{proper on k+1} ≤ ∑_{ψ′} p′_{ψ′}·1{proper on k}. Taking suprema over feasible p proves the claim.

Lemma 8 (Monotonicity in r)
For all r ≥ 1 and k ≥ 1, q(r+1,k) ≥ q(r,k).

Proof: As r increases to r+1, the set of admissible placements (and hence the set of equality constraints) for any geometry (s, δ) weakens: some placements cease to be admissible because r-buffers no longer fit or become non-disjoint. Therefore the feasible set enlarges, and the supremum cannot decrease.

Lemma 9 (Extreme-point optimality)
For each fixed (r,k), the feasible region of Definition 6 is a nonempty polytope in R^{3^k} defined by linear equalities, nonnegativity, and normalization. Hence an optimal solution exists and can be taken at an extreme point (basic feasible solution).

Proof: Nonemptiness follows from the uniform distribution p_ψ = 3^{-k}, which satisfies all equality constraints. Boundedness follows from nonnegativity and normalization. Linear programming theory guarantees that a maximum exists and is achieved at an extreme point of the polytope.

Corollary 10 (Constant-error bound with entanglement under automorphism invariance)
Let r ≥ 1 and k ≥ 1, and let q(r,k) be as in Definition 6. Consider any r-round uniform quantum LOCAL algorithm on C_n whose initial global state is invariant under the rotations of the cycle. Then, for all n ≥ k, the success probability obeys P_success(C_n) ≤ q(r,k).

Proof: Fix any contiguous window W ⊆ C_n of length k. If the cycle is properly colored, then W is internally proper. By Lemma 5, the distribution on W (restricted to events supported on geometry-aware r-buffered placements) satisfies the invariance constraints of Definition 6. Therefore it is feasible for the LP, and the probability that W is internally proper is at most q(r,k). Since {cycle proper} ⊆ {W proper}, P_success(C_n) ≤ q(r,k). (Necessity of the symmetry assumption is illustrated by the EPR counterexample in the notes.)
