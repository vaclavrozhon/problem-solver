High-level assessment. Your pivot to a finite, stationary single-block feasibility test (MIQCP/QCQP) that encodes (i) perfect properness on the interior edges; (ii) shift-consistency (stationarity); and (iii) exact pair-independence at separation 2r+1 is sound and well-motivated. For r = 2, the 6-block (length L = 2r+2 = 6) formulation captures exactly the pair-independence constraint at lag 5 that any product-state 2-round output must satisfy (Theorem 2 in output.md). The corrected two-point formula for the no-self-loop 3-state chain is correct and useful: it certifies that the chain cannot satisfy lag-5 independence and thus cannot witness feasibility at value 1 once independence is enforced.