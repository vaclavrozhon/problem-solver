{
  "content": "Ideas\n\n- Clarify the variant. We work in the original \u201cobject-moving\u201d model (agents fixed on the vertices of a tree T; objects move by edge swaps), with strict preferences. A swap across edge {u, v} is allowed iff both u and v strictly prefer the other\u2019s object. TREE-REACHABLE-PE: given T, initial endowment \u00b50, and preferences, decide whether there exists a matching \u00b5 \u2208 reach(\u00b50) that is globally Pareto-efficient (no allocation Pareto-dominates \u00b5), and if so, produce one.\n- Literature status (object-moving). On stars and paths, Pareto Efficiency is polynomial-time solvable. On cliques, Pareto Efficiency is NP-hard. For generalized stars and for trees, the status is open in the object-moving model (as noted by Gourv\u00e8s\u2013Lesca\u2013Wilczynski and reiterated in Li\u2013Plaxton\u2013Sinha). Thus the specific question \u201cpolynomial-time on trees?\u201d remains unresolved by current literature.\n- Immediate observations useful for algorithms:\n  1) If the TTC (top trading cycles) allocation \u00b5TTC is reachable from \u00b50, then \u00b5TTC is a valid certificate: it is globally Pareto-efficient and reachable. Reachability of a fixed target matching on trees can be decided in polynomial time (O(n^2)) using the \u201cgood edge\u201d scheduler for trees (analogue of Proposition 3 in GLW). Hence: a polynomial-time one-sided test: if \u00b5TTC is reachable, answer Yes (and output it).\n  2) Deciding whether a given matching \u00b5 is globally Pareto-efficient is polynomial: build the \u201ctrading graph\u201d G\u00b5 with directed edges a\u2192b for each agent a and object b strictly preferred to \u00b5(a), and edges b\u2192owner(b). Then \u00b5 is Pareto-efficient iff G\u00b5 has no directed cycle (well-known characterization). This check is O(n^2).\n  3) The existence question asks whether reach(\u00b50) contains any cycle-free matching (in the above sense). This is an existential search over a potentially large reachable set; checking reachability of a single candidate is poly-time, but enumerating all candidates is exponential.\n\nExamples\n\n- Local maximality vs global efficiency. On a path A\u2013B\u2013C with initial (A:a,B:b,C:c) and preferences A: c\u227ba\u227bb, B: b\u227ba\u227bc, C: a\u227bc\u227bb, no edge swap is applicable, yet (A:a,B:b,C:c) is not globally Pareto-efficient (switch A and C to get A:c,B:b,C:a). Hence \u201cno allowed swap\u201d does not imply global Pareto efficiency on trees.\n- TTC-as-certificate. In many small instances on paths/stars, \u00b5TTC is reachable; then TREE-REACHABLE-PE trivially answers \u201cYes.\u201d Conversely, examples exist on trees where \u00b5TTC is not reachable, and moreover no reachable matching is globally PE (the 3-node example above). Thus testing \u00b5TTC reachability is only a sufficient test.\n\nRigorous facts\n\nClaim 1 (Membership in NP). TREE-REACHABLE-PE is in NP.\nProof. A short certificate is a candidate matching \u00b5*. Verification is polynomial: (i) reachability \u00b50 \u2192 \u00b5* can be checked in O(n^2) on trees via the standard \u201cgood edge\u201d approach (repeatably swap across any good edge; if we reach \u00b5*, the target is reachable; if we get stuck before \u00b5*, it is not); (ii) check global Pareto efficiency of \u00b5* by cycle detection in the trading digraph G\u00b5* in O(n^2). \u220e\n\nClaim 2 (Sufficient condition). If \u00b5TTC is reachable from \u00b50, then \u00b5TTC solves TREE-REACHABLE-PE (answer Yes and output \u00b5TTC).\nProof. \u00b5TTC is globally Pareto-efficient in housing markets with strict preferences; reachability is given; output is valid. \u220e\n\nObstacles\n\n- The core/TTC shortcut is only sufficient. TTC is unique and globally Pareto-efficient, but there can exist other globally Pareto-efficient allocations; \u00b5TTC may be unreachable even when some other globally PE matching is reachable.\n- Direct greedy improvement by allowed swaps (to a local maximum) can stall at a globally dominated allocation (example above). Hence \u201ccompute a maximal swap-stable reachable matching and test for global PO\u201d fails.\n- Full enumeration of reachable matchings is exponential and not viable for polynomial-time resolution.\n\nParameterized/structural progress\n\n- FPT in treewidth (sketch). Let tw(T) denote treewidth. Using a nice tree decomposition of width w, one can enumerate candidate global bijections in O(n^{O(w)}) states by dynamic programming that stores, at each bag, the partial injection from bag-agents to objects (object identities), ensuring consistency at introduce/forget/join nodes (standard assignment DP). At the root, for each assembled global matching \u00b5: (i) check \u00b5 is reachable (O(n^2)); (ii) check \u00b5 is globally PE (O(n^2)). Hence TREE-REACHABLE-PE is fixed-parameter tractable parameterized by treewidth, with running time n^{O(w)}\u00b7poly(n). This is auditable: each DP transition is standard; reachability and PO checks are polynomial post-filters. (Optimizing the DP to prune non-extendable partial matchings is routine but not needed for correctness.)\n- Consequence. Trees admit pathwidth pw; for caterpillars (pw=2) and more generally bounded-tw trees, TREE-REACHABLE-PE is polynomial for fixed tw.\n- Few-branch vertices (sketch). If the number b of branch vertices (deg\u22653) is a parameter, the tree can be decomposed into O(b) paths glued at these vertices. A DP across the articulation points with per-interface state describing the partial injection on boundary agents gives an FPT algorithm in b (state space n^{O(b)}). This recovers polynomial-time for stars (b=1) and paths (b=0) and extends to small b.\n\nHeuristics toward generalized stars\n\n- Center-cut approach. For a generalized star, try to mimic the agent-moving serial dictatorship of Li\u2013Plaxton\u2013Sinha by working from the center outward: maintain a set of already \u201cfixed\u201d matches; for the center and the first agent on a branch, feasibility of assigning a branch position to that agent while preserving reachability reduces to path subproblems (where the object-moving Reachable Object/PE are polynomial). This suggests a two-phase algorithm like Section 4 of their paper, but in the object-moving setting the invariants that underpin their \"nice pair\" arguments fail in general (preferences and rights interact differently). We propose to formalize when the center-first dictator step is safe (sufficient conditions on preferences along branches) and to seek counterexamples; this may yield either a restricted polynomial case (e.g., single-peaked preferences along branches) or a barrier.\n\nHardness direction (plan)\n\n- Potential reduction. Since Reachable Object on trees is NP-complete, seek a gadget embedding that, given (a*, b*), constructs a tree T\u2032 such that T\u2032 has a reachable globally PE matching iff a* can reach b* in T. The gadget must ensure any reachable matching that fails to place b* with a* admits a global trading cycle (not necessarily via allowed swaps), while if b* is placed with a*, the gadget becomes globally cycle-free. A promising design uses a constant-size 3-cycle \u201calarm\u201d gadget whose only way to break all trading cycles is to pull in (exactly) b* to a designated agent; wiring b* to the gadget can be done by attaching a leaf-path that terminates at the gadget. We will iterate on small constructions (maintaining the overall graph a tree) and test by exhaustive search on n\u22648 to validate the iff property.\n\nNext steps\n\n- Implement the treewidth-FPT DP to obtain a certified solver for bounded-tw trees; verify on random bounded-degree trees and on crafted instances.\n- Investigate the center-first algorithm on generalized stars with single-peaked preferences per branch; attempt to prove correctness or produce counterexamples.\n- Pursue the reduction outline above; either settle NP-hardness on trees or isolate the precise obstacle preventing such a reduction.\n- As a baseline, always compute \u00b5TTC and test its reachability; when successful, this yields a fast constructive algorithmic certificate.\n\nSummary of claims for verifier\n\n- TREE-REACHABLE-PE is in NP (complete, rigorous proof above).\n- If \u00b5TTC is reachable, it solves the problem (rigorous).\n- Local-swap maximality \u2260 global Pareto efficiency on trees (explicit 3-node path counterexample).\n- TREE-REACHABLE-PE is FPT parameterized by treewidth (algorithmic sketch with auditable components: standard assignment DP over a nice decomposition, then per-candidate polynomial checks for reachability and global PO).\n- Status: polynomial-time decidability on arbitrary trees remains open in the object-moving model; we outlined concrete algorithmic and hardness avenues.\n"
}