Ideas
- Clarify the variant: In your definitions, PE is global (no allocation at all Pareto-dominates π), and “reachable” means obtained by adjacent, mutually improving swaps on the agent-graph (a tree). TREE-REACHABLE-PE asks whether there exists a matching that is both reachable and globally PE, and to output one if it exists.
- Known status from the literature (object-moving model, your setting):
  - Paths: Pareto Efficiency (with respect to the reachable set) solvable in polynomial time; stars also easy. For generalized stars and trees, the complexity of Pareto Efficiency (w.r.t. reachable set) remains open. See Gourvès–Lesca–Wilczynski and follow-ups summarized in the attached paper.
  - Cliques: Pareto Efficiency is NP-hard, Reachable Object NP-complete, Reachable Matching NP-complete.
  - Agent-moving variant (different model): generalized stars admit a poly-time algorithm for Pareto Efficiency; trees remain open there as well.
- Implication: Your question (global PE + reachability on trees) is at least as hard as the open “Pareto Efficiency on trees (w.r.t. reachables)” problem; hence the polynomial-time decidability is currently open.

Useful baselines (checkable now)
- Computing a distinguished global PE target: The TTC (top trading cycles) outcome is globally Pareto-efficient and can be computed in O(n^2). If the TTC matching is reachable, we immediately have a reachable globally PE solution.
- On trees, checking if a fixed target matching µ is reachable is polynomial-time (O(n^2)): adapt the “good edge” scheduling argument (as in Gourvès et al.) to verify reachability by repeatedly swapping across any good edge (both endpoints next need to cross that edge along their unique dipaths to their targets). Thus: compute TTC; test reachability; if reachable, output it.
- This gives a sufficient condition; if TTC is unreachable, existence of some other reachable globally PE matching remains unresolved by known techniques.

Special cases with proofs
1) Stars: TREE-REACHABLE-PE is solvable in O(n).
Proof (sketch, rigorous): Let o be the center object; leaf objects b ≠ o. Let the current center agent be c. Iteratively do:
- Prune any leaf agent a that prefers its current leaf object to o; a will never agree to move to o, so it cannot participate in any swap; remove it and its object from consideration. This preserves both reachability and the set of reachable global PE outcomes.
- If c prefers o to all remaining leaf objects, no swap is possible; the current matching is globally PE (no Pareto-improving cycle exists because the only possible cycle would involve o, which c will not give up). Return it.
- Else let b be c’s most-preferred remaining leaf object. The swap (c, owner(b)) is valid (both strictly improve); perform it. The former owner of b is now center; prune c and b permanently (c is now holding its top among remaining objects, so c can no longer be improved in any allocation restricted to the remaining set).
Termination in ≤ n steps; each pruned agent permanently holds its top object among the then-remaining objects, so the returned matching has no global Pareto-improvement. Moreover every swap is along the center edge, hence reachable. Complexity O(n).

2) Paths: If the TTC outcome is reachable, we obtain a reachable globally PE allocation in O(n^2). Moreover, the known poly-time algorithm that computes a Pareto-efficient matching w.r.t. the reachable set can be followed by a polynomial-time global PE test (acyclicity of the improvement graph) to certify whether the found reachable matching is globally PE.

Example sanity check (your star instance)
- The sequence (B,C),(B,D),(B,A) is a valid sequence of swaps on the star centered at B. The final allocation is globally PE: building the improvement digraph (agent → objects strictly preferred to current and available through exchanges) reveals no directed cycle; hence no Pareto improvement exists.

Obstacles
- Even on trees, moving from “PE relative to the reachable set” to “global PE” increases difficulty: a matching that is maximal within the reachable set may be globally dominated by an unreachable matching. Known techniques for paths/stars do not extend cleanly.
- For generalized stars (one branching vertex), the object-moving model’s Pareto Efficiency (relative) is already open; therefore the global variant on trees is at least as hard, and currently unresolved.

Incremental, testable steps
- Sufficient-condition algorithm (ready to implement):
  1) Compute TTC outcome µ_TTC.
  2) Run the O(n^2) reachability check on the tree to decide if µ_TTC is reachable.
  3) If yes, output µ_TTC (reachable globally PE). If no, proceed to step 4.
  4) Run the known poly-time routine that computes a reachable matching that is PE w.r.t. the reachable set on special subclasses (paths; stars), and test global PE (polynomial). For general trees, this is currently open; but for instances whose underlying tree is a disjoint union of a path backbone plus stars (caterpillars), attempt a decomposition-based heuristic and verify global PE of the result.
- Extend special cases: Formalize and prove a caterpillar algorithm: dynamic programming along the spine where each step uses the star routine on the local hub and its pruned leaves. The verifier can attempt to formalize this; we conjecture polynomial-time correctness for caterpillars.

Takeaway
- Answer to the main question: As of current knowledge, TREE-REACHABLE-PE (object-moving, trees) is open; no polynomial-time algorithm or hardness is known in general. For stars and paths, it is polynomial-time; for cliques, NP-hard. A practical sufficient-condition test is: output TTC if reachable (decidable in O(n^2)); otherwise the existence question remains unresolved in general.

References (from the provided paper)
- Gourvès–Lesca–Wilczynski: social network (object-moving) model; Pareto Efficiency on trees and generalized stars open; paths/stars poly-time; cliques NP-hard.
- Li–Plaxton–Sinha (attached): agent-moving model parity of results; generalized stars solved there; paths O(n^2); trees remain open.
