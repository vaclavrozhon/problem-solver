{
  "content": "Ideas\n\n- Target problem: TREE-REACHABLE-PE on trees asks whether there exists a reachable allocation (via local improving swaps on edges) that is globally Pareto-efficient (no allocation Pareto-dominates it), and to produce one.\n- We record three rigorously checkable pillars that reduce the search space and certify positive instances:\n  1) Any reachable allocation is individually rational (IR) w.r.t. the initial endowment. Hence any YES-witness must be IR.\n  2) Any globally PO allocation cannot admit any allowed swap (it is swap-stable). Thus any YES-witness must be a reachable swap-stable matching.\n  3) TTC is globally PO. If the TTC allocation is reachable on the tree, we immediately have a constructive YES-certificate (compute TTC and a swap sequence to it).\n- Complexity placement: TREE-REACHABLE-PE \u2208 NP (certificate: a target matching \u00b5; verifier checks tree-reachability to \u00b5 in O(n^2) and global PO in O(n^2)).\n- Special cases that are decidable in polynomial time:\n  - If the initial allocation \u00b50 is a sink (no allowed swaps), then the reachable set is {\u00b50}. Answer is YES iff \u00b50 is globally PO (checkable in O(n^2)), else NO.\n  - If TTC is reachable (checkable in O(n^2) via tree target-reachability), return TTC and a swap sequence.\n- Open pivot: It is false (or at least unproven) that IR + global PO forces the TTC outcome. Hence the \u201creduce to TTC reachability\u201d route is insufficient to decide all instances.\n\nLemmas and Proofs\n\nLemma 1 (Reachable \u21d2 IR). Let \u00b50 be the initial matching. If \u00b5 is obtained from \u00b50 by a sequence of allowed swaps, then for every agent a we have \u00b5(a) \u227d_a \u00b50(a).\nProof. Each swap strictly improves the two endpoints and leaves other agents unchanged. Thus each agent\u2019s assignment is monotonically nondecreasing along the sequence w.r.t. their preference, proving IR.\n\nLemma 2 (Globally PO \u21d2 swap-stable). If \u00b5 is globally Pareto-efficient, then there is no edge {u,v} such that u and v both strictly prefer each other\u2019s objects (i.e., no allowed swap at \u00b5).\nProof. If such an edge exists, performing that single swap yields a matching in which u and v are strictly better and all others unchanged. This Pareto-dominates \u00b5, contradicting global PO.\n\nLemma 3 (NP membership). TREE-REACHABLE-PE \u2208 NP.\nProof. Given a matching \u00b5 as a certificate, the verifier runs: (i) Reachability on the tree from \u00b50 to \u00b5 in O(n^2) time using the \u201cgood-edge\u201d scheduling (see Gourv\u00e8s\u2013Lesca\u2013Wilczynski; also summarized in the notes), which constructs a sequence of allowed swaps or rejects. (ii) A global PO test for \u00b5 via the improvement digraph: build a directed graph with arcs a\u2192b for each object b \u227b_a \u00b5(a), and arcs b\u2192owner_\u00b5(b); \u00b5 is globally PO iff this digraph has no directed cycle. This is O(n^2). Both succeed in polynomial time.\n\nLemma 4 (TTC as a sufficient certificate). Let \u00b5TTC be the TTC outcome of the housing market instance. If \u00b5TTC is reachable on the tree, then it is a YES-witness for TREE-REACHABLE-PE.\nProof. TTC is globally Pareto-efficient under strict preferences; if reachable, we can output it and the swap sequence from the tree-reachability routine.\n\nExample (NO instance on a path)\n\nPath A\u2013B\u2013C with initial endowment a,b,c to A,B,C and preferences:\n- A: c \u227b a \u227b b\n- B: b \u227b a \u227b c\n- C: a \u227b c \u227b b\nNo allowed swap at \u00b50 (each adjacent pair has at least one endpoint that does not prefer swapping), so reach(\u00b50) = {\u00b50}. The allocation \u00b50 is not globally PO (the 3-cycle A:c, B:b, C:a Pareto-dominates it). Hence, by the sink test above, the answer is NO.\n\nAlgorithmic Consequences (partial, auditable)\n\n- Polynomial-time one-sided decision and construction:\n  - Compute \u00b5TTC (O(n^2)). If \u00b5TTC is tree-reachable (O(n^2)), output YES and the corresponding swap sequence to \u00b5TTC.\n  - Else, compute whether \u00b50 is a sink. If yes, test whether \u00b50 is globally PO (improvement digraph cycle test). If PO, output \u00b50; else NO.\n- Necessary conditions filter (poly-time): Any YES-witness \u00b5 must be (i) IR (Lemma 1) and (ii) swap-stable (Lemma 2). Thus we can discard any candidate failing either test.\n- NP upper bound as a rigorous baseline (Lemma 3).\n\nObstacles\n\n- The crucial equivalence \u201cIR + global PO \u21d2 TTC\u201d does not follow from standard core arguments: global PO does not preclude core blocking coalitions (which may harm outsiders). Thus we cannot reduce TREE-REACHABLE-PE to TTC reachability in general.\n- Searching the space of reachable swap-stable matchings may be complex; sinks of the local swap dynamics need not be unique a priori, and a sink need not be globally PO (as the path example shows).\n\nNext steps\n\n- Prove or refute uniqueness of sinks on trees under these swap dynamics. If unique, the problem collapses to checking global PO of that unique sink.\n- Parameterized algorithm by treewidth: Develop a DP over a nice tree decomposition that (i) implicitly characterizes reachable matchings for the processed subgraph compatible across separators (using dipath consistency and good-edge feasibility), and (ii) at the root filters candidates by the improvement-digraph acyclicity. Trees have treewidth 1, suggesting an n\u00b7poly(n)-state DP may be within reach.\n- Construct hardness reductions (from Reachable Object on trees) via gadgets that force global PO to hinge on a designated reachability event in the embedded instance. A first micro-gadget library should establish that certain local PO violations create directed cycles in the improvement digraph unless a specific edge-swap pattern (encoding \u201cagent a reaches object b\u201d) occurs.\n\nWhat can go into proofs.md now\n\n- Formal proofs of Lemmas 1\u20134.\n- The sink special case: correctness proof that if \u00b50 is a sink, then reach(\u00b50) = {\u00b50}, hence the YES/NO decision reduces to the global PO test on \u00b50.\n- The NP verifier details: \u201cgood-edge\u201d reachability to a fixed target on trees, and the improvement-digraph cycle characterization of global PO.\n\nSummary\n\n- TREE-REACHABLE-PE on trees is in NP. We gave two necessary filters (IR and swap-stability) and a sufficient certificate (TTC reachability) that yields a polynomial-time constructive YES whenever it applies. A sink special case is fully decidable in O(n^2). The main open direction remains a complete polynomial-time decision procedure (or NP-hardness) for the general tree case; we outlined DP (treewidth-1) and reduction strategies as next auditable steps.\n"
}