{
  "feedback_md": "Main audit points\n\n- Prover 2\u2019s core\u21d4PO claim is false. In Shapley\u2013Scarf housing markets, \u201ccore \u21d2 PO\u201d holds (a global Pareto improvement would be implemented by the grand coalition), but \u201cPO \u21d2 core\u201d fails because a coalition can block \u00b5 using only its initial endowments even if there is no global Pareto improvement (outsiders may be worse). Concrete counterexample (3 agents, endowments 1:a,2:b,3:c). Preferences: 1: b \u227b c \u227b a; 2: a \u227b b \u227b c; 3: a \u227b b \u227b c. Allocation \u00b5 = (1\u2192c, 2\u2192b, 3\u2192a) has no directed improvement cycle (hence globally PO), but coalition {1,2} can reassign their endowments {a,b} to (1\u2192b,2\u2192a), strictly improving both; thus \u00b5 is not in the core. Therefore, PO\u2260core and the \u201cunique PO=TTC\u201d conclusion is invalid. The O(n^2) algorithm reducing TREE-REACHABLE-PE to TTC reachability is incorrect.\n\n- Prover 1: Solid corrections. NP membership is right; \u201creachable \u21d2 IR\u201d is correct; \u201cglobally PO \u21d2 no allowed swap\u201d is correct. TTC as a sufficient certificate (if reachable, return it) is valid. The sink special case is valid: if \u00b50 is a sink, reach(\u00b50)={\u00b50}; decide by a single PO test.\n\n- Prover 3/4: Claims for stars are promising, but the unique-sink assertion needs a complete proof (order-independence). Until then, keep it in notes; do not move to proofs/output. The FPT-by-treewidth outline is reasonable (DP over nice decomposition; filter candidates by reachability and PO). Provide formal state definitions and transitions next.\n\n- Verification subroutines: Global PO via the improvement digraph (acyclicity) and tree target-reachability via \u201cgood edges\u201d are both standard and belong in proofs.md; use them as the NP verifier.\n\nNext steps\n\n1) Add the explicit PO\u2260core counterexample to notes; correct any text claiming PO\u21d4core. 2) Formalize the treewidth-FPT DP: bag states (partial injection; used objects), introduce/forget/join transitions, size bound n^{O(w)}, and root filters (reachability + PO). 3) For stars, deliver a rigorous unique-sink proof or provide a counterexample. 4) Maintain TTC-as-certificate as a one-sided polynomial-time test and the sink special case. 5) Explore small instances (n\u22646) to catalog when TTC is unreachable but some reachable globally PO exists; this informs structure and potential hardness.\n",
  "summary_md": "We refuted the key claim that global PO equals the core: a 3-agent counterexample shows a globally PO allocation can be blocked by a coalition, so PO\u2260core and TTC is not the unique PO. Thus the O(n^2) algorithm reducing to TTC reachability is invalid. Solid pieces retained: reachable \u21d2 IR; TREE-REACHABLE-PE \u2208 NP via (i) O(n^2) reachability-to-target on trees and (ii) O(n^2) global PO test by improvement-digraph acyclicity; TTC as a sufficient certificate; sink special case decidable. Star uniqueness needs a full proof before promotion. Next: formalize an FPT DP by treewidth; complete a rigorous star proof (or counterexample); and expand small-instance searches.",
  "verdict": "uncertain",
  "blocking_issues": [
    "False equivalence PO\u21d4core; TTC is not the unique globally PO outcome.",
    "No complete proof yet for unique sink on stars; order-independence remains unproven.",
    "General polynomial-time decision procedure on trees not established; only one-sided TTC certificate and special cases."
  ],
  "per_prover": [
    {
      "prover_id": "01",
      "brief_feedback": "Good correction: treat TTC as a sufficient certificate and establish NP membership, IR, and swap-stability. Avoid relying on IR+PO\u21d2TTC. Tighten the sink special case and keep star/path claims in notes until fully proven.",
      "score": "promising"
    },
    {
      "prover_id": "02",
      "brief_feedback": "Your Lemma \u201cPO \u21d4 Core\u201d is wrong. A 3-agent example shows a globally PO allocation blocked by a coalition; thus TTC is not the unique PO. The claimed O(n^2) algorithm is invalid. Please retract and adjust.",
      "score": "unlikely"
    },
    {
      "prover_id": "03",
      "brief_feedback": "NP membership and improvement-digraph test are correct; FPT-by-treewidth outline is promising. Star unique-sink needs a rigorous, order-independence proof before promotion.",
      "score": "uncertain"
    },
    {
      "prover_id": "04",
      "brief_feedback": "Verification subroutines are solid. Star algorithm is plausible but requires a complete proof of unique sink to be placed in proofs/output. Avoid implying TTC completeness.",
      "score": "uncertain"
    }
  ],
  "notes_update": {
    "action": "append",
    "content": "Counterexample: Pareto-optimal \u2260 core in Shapley\u2013Scarf\n\n- Endowments: agents 1,2,3 own a,b,c. Preferences: 1: b \u227b c \u227b a; 2: a \u227b b \u227b c; 3: a \u227b b \u227b c. Allocation \u00b5 = (1\u2192c, 2\u2192b, 3\u2192a) has no directed improvement cycle (globally PO). Coalition {1,2} can reassign their endowments {a,b} to (1\u2192b,2\u2192a), strictly improving both, so \u00b5 is not in the core. Thus PO does not imply core; TTC is not the unique globally PO outcome.\n\nSafe building blocks (kept):\n- Reachable \u21d2 IR. Any allowed swap strictly improves its endpoints; others unchanged.\n- PO test: the improvement-digraph acyclicity criterion (agent\u2192more-preferred objects; object\u2192owner) in O(n^2).\n- Tree target-reachability in O(n^2) via good-edges; yields witness sequences when reachable.\n- TTC as a one-sided poly-time certificate: if reachable, output it; else inconclusive.\n- Sink special case: if \u00b50 has no allowed swap, reach(\u00b50)={\u00b50}; decide by a single PO test.\n\nOpen directions:\n- FPT by treewidth: DP over a nice decomposition storing partial injections; root filters: reachability + PO.\n- Stars: prove or refute unique sink (order-independence) rigorously.\n- Small-instance search (n\u22646) to find instances with TTC unreachable but some other reachable globally PO, and to probe structural patterns.\n"
  },
  "proofs_update": {
    "action": "append",
    "content": "Lemma (Reachable \u21d2 IR). From the initial endowment \u00b50, any allocation \u00b5 obtained via a finite sequence of allowed edge-swaps is individually rational: for every agent v, \u00b5(v) \u227d_v \u00b50(v).\nProof. Each swap strictly improves its two participants and leaves others unchanged, so each agent\u2019s assignment is monotonically nondecreasing w.r.t. their preference along the sequence.\n\nProposition (Global PO test). For a given allocation \u00b5, build a directed graph D on agents\u222aobjects with arcs a\u2192b for each object b with b \u227b_a \u00b5(a), and arcs b\u2192owner_\u00b5(b). Then \u00b5 is globally Pareto-efficient iff D has no directed cycle.\nProof sketch. A directed cycle alternates agents/objects and yields a cycle of strictly improving trades, giving a global Pareto improvement. Conversely, any global Pareto improvement induces such a cycle in D.\n\nProposition (Tree reachability to a fixed target). Given a tree T, initial allocation \u00b50, and a target allocation \u00b5*, we can decide in O(n^2) whether \u00b5* is reachable by allowed swaps, and produce a swap sequence when it is. \nSketch. Let each agent move along the unique dipath from its current object to its target in \u00b5*. An edge is good if both incident agents need to cross it next. If the target is reachable and not yet achieved, a good edge exists. Swapping across any good edge advances both agents; maintaining the set of good edges yields an O(n^2) algorithm.\n\nTheorem (TREE-REACHABLE-PE \u2208 NP). A certificate is a target allocation \u00b5*. Verification is polynomial: (i) decide \u00b50\u2192\u00b5* reachability on the tree in O(n^2) (previous proposition); (ii) test global PO of \u00b5* via the acyclicity criterion in O(n^2).\n\nCorollary (Sink special case). If the initial allocation \u00b50 admits no allowed swap, then reach(\u00b50)={\u00b50}. Hence the instance is YES iff \u00b50 is globally PO (decidable in O(n^2))."
  },
  "output_update": null
}