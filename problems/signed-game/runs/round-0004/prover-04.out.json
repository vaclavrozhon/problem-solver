{
  "content": "Ideas\n- We sharpen the \u201cUPA\u201d (universally PNE-admitting under arbitrary external fields h) picture by giving: (i) an exact counting result for PNE on functional digraphs (outdegree \u2264 1) with positive directed cycles; (ii) a linear-time structural-balance checker for directed SCCs under our convention (edge i\u2192j imposes \u03c3_i\u03c3_j=sign W_{ij}); (iii) a robust nonexistence certificate (dominant negative directed cycles), with a quantitative margin.\n\nFunctional digraphs: exact PNE counting and construction\nSetup. Dependency arc i\u2192j iff W_{ij}\u22600; outdegree \u22641 for all i. For i with successor s(i) let w_i:=W_{i s(i)}. Utilities are u_i(x)=x_i(h_i+w_i x_{s(i)}), so player i\u2019s best response depends only on x_{s(i)} and h_i,w_i.\nDefine the unary best response f_i:{\u00b11}\u2192{\u00b11} by f_i(y)=sgn(h_i+w_i y). If |h_i|<|w_i| then f_i(y)=sgn(w_i)\u00b7y (strictly responsive); if |h_i|>|w_i| then f_i is constant c_i:=sgn(h_i); if |h_i|=|w_i| ties can be broken arbitrarily but we can treat f_i as constant (this only weakens uniqueness statements).\n\nTheorem (functional, positive cycles: PNE counting). Let the functional digraph decompose into directed cycles C_1,\u2026,C_c with in-arborescences feeding into cycle vertices. For cycle C, let \u03c3(C):=\u220f_{i\u2208C} sgn(w_i).\n(i) If \u03c3(C)=+1 for every cycle, then for every h the game has at least one PNE. More precisely, for each C, the number \u03ba(C) of compatible assignments on C that make all nodes on C best reply is:\n- \u03ba(C)=2 if every node on C is strictly responsive (|h_i|<|w_i| for all i\u2208C);\n- \u03ba(C)=1 otherwise (i.e., at least one constant map on C).\nThe total number of PNE equals \u220f_{r=1}^c \u03ba(C_r). Moreover, all tree nodes (off-cycle) are uniquely determined by best responses and the resulting PNE are strict whenever all involved best responses are strict.\n(ii) If some cycle C has \u03c3(C)=\u22121 and |h_i|<|w_i| for all i\u2208C, then no PNE exists (for these h) regardless of the rest of the graph.\nProof. For (i), fix a cycle C=(i_1\u2192\u2026\u2192i_L\u2192i_1) and consider the composition F_C:=f_{i_1}\u2218f_{i_L}\u2218\u2026\u2218f_{i_2}:{\u00b11}\u2192{\u00b11}. If at least one f_{i_k} is constant, then F_C is constant, hence has a fixed point in {\u00b11} and thus a consistent assignment along C exists making each i\u2208C best respond. If all f_{i_k} are responsive, then F_C(y)=(\u220f_{i\u2208C} sgn(w_i))\u00b7y=\u03c3(C)\u00b7y, so F_C is the identity when \u03c3(C)=+1, hence two fixed points on C; if \u03c3(C)=\u22121 then no fixed point exists, proving (ii). For each arborescence edge j\u2192i with i already assigned, set x_j:=f_j(x_i); u_j depends only on x_{s(j)}, so this yields a best response at j. Doing this for all branches determines a unique extension. Strictness holds whenever |h_i|\u2260|w_i| for all i (no ties). \u220e\nConsequences. Within the functional class, UPA (for all h) occurs iff \u03c3(C)=+1 for all directed cycles; the counting above refines the positive case and provides a linear-time constructor and enumerator.\n\nDominant negative cycles: robust obstruction\nLemma (dominant negative directed cycle). Let C be a directed cycle with sign product \u220f_{(i\u2192j)\u2208C} sgn(W_{ij})=\u22121. If for every node i on C we have |W_{i s(i)}| > |h_i| + \u2211_{j\u2260 s(i)} |W_{ij}|, then no PNE exists.\nProof. Write S_i=h_i+\u2211_j W_{ij}x_j=W_{i s(i)}x_{s(i)}+R_i with |R_i|<|W_{i s(i)}|. Thus sgn S_i = sgn(W_{i s(i)}x_{s(i)}), and any best reply forces x_i=sgn(W_{i s(i)})x_{s(i)}. Multiplying around C yields x_{i_1}=(\u220f sgn(W_{i s(i)}))x_{i_1}=\u2212x_{i_1}, a contradiction. \u220e\nThis provides an efficiently checkable nonexistence certificate for instances (robust to arbitrary extra neighbors as long as the margin holds).\n\nDirected structural balance: linear-time checker\nClaim. A directed SCC U is structurally balanced (\u2203\u03c3\u2208{\u00b11}^U with [\u03c3]W_{UU}[\u03c3]\u22650) iff the constraint system \u03c3_i\u03c3_j=sgn(W_{ij}) is consistent for all arcs i\u2192j in U. Equivalently: (a) for every digon {i,j} present, sgn(W_{ij})=sgn(W_{ji}); and (b) in the underlying unsigned graph, every simple undirected cycle has positive sign product.\nAlgorithm. For each weakly connected component in U: (1) if both i\u2192j and j\u2192i exist and have opposite signs, reject; else define a single undirected signed edge {i,j} with s_{ij}:= the common sign (or the sign of the single directed edge if only one exists). (2) 2-color by BFS/DFS with constraints \u03c3_j=s_{ij}\u03c3_i; reject upon conflict. Success returns \u03c3.\nComplexity is O(|U|+|E(U)|). If successful, [\u03c3]W_{UU}[\u03c3] has nonnegative entries on arcs and the SCC is unsigned, hence UPA by supermodularity for all external fields.\n\nTwo-player SCCs: complete UPA classification\nLemma. For a 2-node SCC {1,2}, UPA \u21d4 W_{12}W_{21}\u22650. Proof. If product <0, with h=0 the BR equations force x_1=x_2 and x_2=\u2212x_1, impossible. If product \u22650, either unsigned (both \u22650) or switched to unsigned by \u03c3=(1,\u22121) (both \u22640). \u220e\n\nExamples\n- Functional positive 4-cycle with no biases: signs (+,+,\u2212,\u2212) so \u03c3(C)=+1. By the counting theorem, \u03ba(C)=2; each attached tree is uniquely determined; total PNE=2.\n- Negative 3-cycle with dominance margin: W_{12}=W_{23}=W_{31}=\u22125, all other out-weights zero; h=0. The obstruction lemma applies: no PNE.\n- Two-player digon: W_{12}=2,W_{21}=\u22123,h=0 has no PNE; with W_{12}=2,W_{21}=5 any h admits a PNE.\n\nObstacles\n- Beyond the functional class, a full UPA characterization of SCCs remains open. Structural balance (via the checker above) and exact potential (symmetry) are sufficient and efficiently testable, but necessity fails in general (some asymmetric SCCs admit PNE for all h due to special weight structures).\n- Handling ties (|h_i|=|w_i|) requires a tie-breaking convention; counting statements become set-valued but existence and constructions remain valid.\n\nNext steps\n- Extend counting to \u201calmost-functional\u201d SCCs (outdegree bounded by 2) using 2-variable compositions and identify additional UPA subclasses.\n- Codify a polynomial-time pipeline: Tarjan SCCs; per SCC test symmetry or structural balance by the parity checker; else test functional-positive; otherwise, try cohesive-core constructions or output dominant-cycle obstructions; construct PNE by reverse topological order; provide pseudocode and complexity guarantees.\n- Quantify robustness margins guaranteeing uniqueness and BR-convergence (strictness) in the functional-positive class (all |h_i|\u2260|w_i|) and integrate with the BR-stability notions in the paper.\n"
}