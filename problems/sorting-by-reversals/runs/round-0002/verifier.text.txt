{"feedback_md":"Summary and triage\n- Prover 01 contributes a clean and correct “toggle-locality” identity: only indices whose adjacency actually changes (three per matched pair) can alter membership in T_j, and the net change in B_j is exactly the signed count of boundary-membership flips inside that set S. The corollary splitting decreases and increases (Decrease_j ≤ |T_j(A) ∩ S| and Increase_j ≤ |S \\ T_j(A)|) is immediate and powerful. Their weighted counting over A_0 (dyadic alignment) is a flexible restatement of Theorem 4 and will be repeatedly useful. One arithmetic slip occurs in the concrete instantiation with weights w_j=2^{-(j+1)}: the inner sum is 2^{-(d−t−1)}(1−2^{−(t+1)}) ≤ 2^{−d+t+1}, not ≤ 2^{−d+t}. This does not affect the qualitative conclusions but should be corrected. Their “equal-scale, grid-aligned” scarcity plan looks promising and is well-motivated by arithmetic progression intersections; it still needs a careful treatment of outer-boundary contributions.\n\n- Prover 02 supplies a robust per-pair bound |Δ_pair| ≤ 2 (via a simple 4-cycle inequality) and upgrades the per-level cap from factor 4 to factor 3. The argument is crisp: only pairs whose union is non-monochromatic at level j can contribute, there are at most |T_j(A)| such pairs by disjointness, and each contributes at most 2. This should replace the current Theorem 3 in output.md. Their clarification about “three indices per pair” being the only places that can change the boundary count is consistent with Prover 01’s toggle-locality identity and helps repair wording.\n\n- A serious issue in Prover 02: the “Observation” that if L_j > s then every union U is j-monochromatic in A_0 is false. Counterexample: for n=8, j=0 has L_j=4; a union U of length s=2 that straddles the unique G_0 index at 4 is not monochromatic. Consequently, the claim that only levels with L_j ≤ s can be affected in the first step is invalid. The subsequent bound |ΔB_j| ≤ 2n/s is correct, and it does imply that for L_j ≪ s constant-factor decreases are impossible from A_0, but it does not rule out large effects when L_j ≫ s (indeed, for small j, B_j is small and large absolute changes are possible).\n\nWhat to curate now\n- Add to output.md: (i) the toggle-locality identity and its decrease/increase corollary; (ii) the per-pair ±2 lemma and the resulting per-level factor-3 cap with a corrected proof; (iii) retain Theorem 4 and add the weighted form as a corollary, and (iv) optionally add a corrected weighted-decrease bound from A_0 using (i)+(iv).\n- Update notes.md: emphasize the toggle-locality viewpoint as the correct locality, record the factor-3 improvement, and clearly flag the invalid “Observation” in Prover 02.\n\nConcrete next steps for provers\n1) Equal-scale, grid-aligned scarcity (from Prover 01). Formalize: with inner boundaries on the L-grid and pair sizes in [L,2L), show that for off-scale j the ratio |S ∩ G_j|/B_j is o(1). Key ingredients: arithmetic progression intersection counts; outer-boundary indices contribute O(#pairs) points on at most a constant number of residues mod L; control |S \\ G_j| via toggle-locality to prevent spurious decreases. Target statement: only O(1) consecutive j with 2^{d−1−j} ∈ [L/2, 2L] can achieve Θ(1) relative decrease.\n2) Near-alignment. If inner boundaries are not exactly on the L-grid, pigeonhole residues modulo L to extract a constant fraction aligned to some residue and run the aligned argument on that fraction; quantify the loss in constants.\n3) Home-level charging. For a pair p with total length s(p), define h(p) with L_{h(p)}≈s(p). Aim to prove: to reduce B_j by θ B_j, one needs Ω(B_j) pairs with h(p)=j to hit T_j(A) at their central boundaries. Use toggle-locality to separate demands on S∩T_j(A) by boundary type (central vs outer) and to prevent outer boundaries from faking decreases at scale j.\n4) Small-n brute force to calibrate constants and to test the O(1) active-level hypothesis in equal-scale steps; log structures that saturate the ±2 per-pair bound.\n","new_notes_md":"New: toggle-locality identity and consequences\n- Let A→A′ be one PBT step and let S⊆{1,…,n−1} be the set of indices whose adjacency changes in this step (exactly three per matched pair: left outer, inner, right outer; omit outer ones at array ends if absent). For each j, let T_j(A) be the set of j-run boundary indices (|T_j(A)|=B_j(A)−1).\n- Identity (toggle-locality). For every j,\n  B_j(A′) − B_j(A) = |T_j(A′) ∩ S| − |T_j(A) ∩ S|.\n  Reason: outside S, adjacencies (and hence boundary membership) are identical in A and A′, so T_j(A′) Δ T_j(A) ⊆ S, which implies the stated cardinality identity.\n- Corollary (one-sided bounds). For every j,\n  Decrease_j := max{0, B_j(A) − B_j(A′)} ≤ |T_j(A) ∩ S|,\n  Increase_j := max{0, B_j(A′) − B_j(A)} ≤ |S \\ T_j(A)|.\n  Interpretation: shrinking B_j by Δ forces at least Δ of the changed indices to land on current j-boundaries.\n\nImproved per-level cap via per-pair ±2\n- Per pair (L,R) and fixed j, define Δ_pair as the change in the number of j-boundaries attributable to that pair; then |Δ_pair| ≤ 2 (prove by the binary 4-cycle inequality on the three interfaces). In addition, only pairs whose union is non-monochromatic at level j can contribute, and such pairs are at most |T_j(A)| by disjointness (charge to an internal j-boundary index).\n- Summing gives |B_j(A′)−B_j(A)| ≤ 2·|T_j(A)| = 2(B_j(A)−1). Applying the bound to the inverse step yields the multiplicative cap B_j(A′) ≤ 3B_j(A) and B_j(A) ≤ 3B_j(A′). Thus |Δ log_2 B_j| ≤ log_2 3 per step.\n\nWeighted dyadic alignment at A_0 and a corrected weighted bound\n- For A_0, G_j = T_j(A_0) is the dyadic grid {i: 2^{d−1−j} | i}. For any set S of changed indices, Σ_j |S∩G_j| = Σ_{i∈S} (1+v_2(i)). More generally, for nonnegative weights a_j, Σ_j a_j·|S∩G_j| = Σ_{i∈S} Σ_{j: i∈G_j} a_j.\n- Combining with toggle-locality yields the exact inequality Σ_j a_j·Decrease_j ≤ Σ_{i∈S} Σ_{j: i∈G_j} a_j. For the specific weights a_j=2^{−(j+1)}, if v_2(i)=t then Σ_{j: i∈G_j} 2^{−(j+1)} = 2^{−(d−t−1)}(1−2^{−(t+1)}) ≤ 2^{−d+t+1}. Thus Σ_j 2^{−(j+1)}·Decrease_j ≤ Σ_{i∈S} 2^{−d+v_2(i)+1}. (This corrects a factor-2 slip in an earlier draft.)\n\nCaution on “equal-scale first-step scarcity from A_0”\n- The claim “if L_j > s then every union U=L∪R is j-monochromatic in A_0” is false. Counterexample (n=8, j=0): L_j=4; a union U of size s=2 that straddles the unique G_0 index at 4 is not monochromatic.\n- What does hold: the per-pair ±2 bound implies |ΔB_j| ≤ 2m ≤ 2n/s for any j. From A_0 this yields that if L_j ≪ s then |ΔB_j|/B_j(A_0) ≤ O(L_j/s)=o(1), so constant-factor decreases at such j are impossible in that step. This does not preclude large changes when L_j ≫ s; additional structure (e.g., grid-aligned inner boundaries) seems necessary to prove an O(1) cap on the number of “active levels”.\n\nPlanned direction: equal-scale, grid-aligned scarcity\n- Assume an L-aligned step: pair sizes in [L,2L) and all inner boundaries on the L-grid. For A starting at A_0, use arithmetic progression intersections to show that for off-scale j (2^{d−1−j} far from L) the proportion |S∩G_j|/B_j is o(1); combine with toggle-locality to rule out constant-factor decreases at those j. Only O(1) consecutive j with 2^{d−1−j}∈[L/2,2L] can be “active”. Control outer-boundary contributions by noting they contribute only O(#pairs) points, spread over a constant number of L-residue classes.\n\nNext steps (actionable)\n1) Write the full aligned-scarcity proof, including the precise bounds on |S∩G_j| and |S\\G_j| for off-scale j.\n2) Extend to near-alignment by averaging over residues modulo L to extract a constant-aligned subfamily.\n3) Develop a central-vs-outer charging lemma: quantify the fraction of Decrease_j that must be paid by inner boundaries hitting T_j(A), uniformly over steps. This will dovetail with a home-level charging scheme for pairs.\n4) Continue small-n experiments (n=32,64,128) to probe the number of levels with ≥ constant-factor decreases under equal-scale steps.\n","new_notes_append":"True","new_outputs_md":"Statements and proofs curated so far\n\nSetup and notation\n- Let n=2^d. An array A is a permutation of [0,…,n−1]. For j∈{0,…,d−1}, color each entry of A by the j-th bit of its value and let B_j(A) be the number of monochromatic runs in this 2-coloring. Let T_j(A)⊆{1,…,n−1} be the set of indices i where the j-color flips between positions i and i+1 (so |T_j(A)|=B_j(A)−1). A single step A→A′ is a parallel block transposition (PBT): a product of disjoint swaps of adjacent contiguous interval pairs (L,R). Such a step changes adjacencies only at the three interface indices of each pair (left outer, inner, right outer; omitting outer ones at the array ends).\n\nTheorem 1 (Model equivalence to PBT). A single step of the model (swapping a family of disjoint adjacent interval pairs in parallel) is exactly a parallel block transposition (PBT) step.\nProof. A step chooses disjoint adjacent pairs (L_k,R_k) of intervals and swaps each pair simultaneously, leaving all other positions untouched. This is precisely a product of disjoint adjacent block transpositions. Conversely, any product of disjoint adjacent block transpositions can be realized by choosing those pairs. ∎\n\nTheorem 2 (Endpoint run-counts). Let n=2^d and A_0 be the bit-reversal permutation of [0,…,n−1]. For j∈{0,…,d−1}:\n- B_j(A_0)=2^{j+1}.\n- For the fully sorted order A_*=[0,1,…,n−1], B_j(A_*)=2^{d−j}.\nConsequently, with D_j(A):=|log_2 B_j(A) − (d−j)|, one has Σ_{j=0}^{d−1} D_j(A_0)=Θ(d^2) and Σ_{j=0}^{d−1} D_j(A_*)=0.\nProof. In A_0, the j-bit of the value at position i equals the (d−1−j)-th bit of i; thus along positions 0,…,n−1 this bit is constant on runs of length 2^{d−1−j} and alternates every such block, giving exactly 2^{j+1} runs. In A_*, the j-bit is constant on blocks of length 2^j and alternates every 2^j positions, yielding 2^{d−j} runs. The Θ(d^2) sum follows from Σ_{j=0}^{d−1} |2j+1−d| = Θ(d^2) by symmetry around (d−1)/2. ∎\n\nLemma 3 (Toggle-locality identity). Let A→A′ be one PBT step and let S be the set of indices whose adjacency changes in this step (the three interfaces per pair). Then for every j,\n  B_j(A′) − B_j(A) = |T_j(A′) ∩ S| − |T_j(A) ∩ S|.\nIn particular, Decrease_j := max{0, B_j(A) − B_j(A′)} ≤ |T_j(A) ∩ S| and Increase_j := max{0, B_j(A′) − B_j(A)} ≤ |S \\ T_j(A)|.\nProof. If i∉S then the adjacent entries across i are the same in A and A′, hence i∈T_j(A) iff i∈T_j(A′). Thus T_j(A′) Δ T_j(A) ⊆ S and\n|T_j(A′)|−|T_j(A)| = |T_j(A′)∩S| − |T_j(A)∩S|.\nSince B_j(·)=|T_j(·)|+1, the displayed identity follows; the one-sided bounds are immediate. ∎\n\nLemma 4 (Per-pair ±2 bound at a fixed level). Fix j and a single swapped pair (L,R). Let Δ_pair be its contribution to ΔB_j. Then |Δ_pair| ≤ 2. Moreover, if the union U=L∪R is j-monochromatic (equivalently, contains no index of T_j(A)), then Δ_pair=0.\nProof. Only the three interface indices can change their boundary status. Let a_L be the j-color of the neighbor immediately left of L, a_R the j-color of the neighbor immediately right of R; let L_1,L_k be the first/last j-colors in L and R_1,R_m the first/last j-colors in R. Writing [·] for the indicator of inequality, the total contribution before the swap equals\n  X := [a_L≠L_1] + [L_k≠R_1] + [R_m≠a_R],\nand after the swap equals\n  Y := [a_L≠R_1] + [R_m≠L_1] + [L_k≠a_R].\nThus Δ_pair = X − Y. Using the inequality [q≠x] − [q≠y] ≤ [x≠y] twice gives\n  Δ_pair ≤ [L_1≠R_1] + [R_m≠L_k] + ([L_k≠R_1] − [R_m≠L_1]).\nThe binary 4-cycle inequality [p≠q]+[q≠r]+[r≠s]−[s≠p] ≤ 2, applied to (p,q,r,s)=(L_1,R_1,L_k,R_m), yields Δ_pair ≤ 2. The lower bound follows symmetrically (or by applying the argument to the inverse swap). If U is j-monochromatic then L_1=L_k=R_1=R_m and all three interface indicators are unchanged, so Δ_pair=0. ∎\n\nTheorem 5 (Per-level factor-3 cap per step). For any array A, any j, and any single PBT step A→A′,\n  B_j(A′) ≤ 3·B_j(A) and B_j(A) ≤ 3·B_j(A′).\nEquivalently, |log_2 B_j| changes by at most log_2 3 in one step.\nProof. Let M_j(A) be the set of swapped pairs whose union U is not j-monochromatic in A. By disjointness of the unions, each U∈M_j(A) contains at least one index of T_j(A), and distinct U’s receive distinct such indices; hence |M_j(A)| ≤ |T_j(A)| = B_j(A)−1. Summing Lemma 4 over pairs gives\n  |B_j(A′) − B_j(A)| ≤ Σ_{pairs} |Δ_pair| ≤ 2·|M_j(A)| ≤ 2(B_j(A)−1).\nTherefore B_j(A′) ≤ B_j(A) + 2(B_j(A)−1) ≤ 3B_j(A). Applying the same bound to the inverse step A′→A yields B_j(A) ≤ 3B_j(A′). ∎\n\nTheorem 6 (Dyadic alignment for A_0; weighted form). Let G_j⊆{1,…,n−1} be the set of j-run boundary indices in A_0. Then G_j = { i : 2^{d−1−j} divides i }. For any set S⊆{1,…,n−1},\n  Σ_{j=0}^{d−1} |S ∩ G_j| = Σ_{i∈S} (1 + v_2(i)).\nMore generally, for any weights a_j≥0,\n  Σ_{j=0}^{d−1} a_j·|S ∩ G_j| = Σ_{i∈S} Σ_{j: 2^{d−1−j} | i} a_j.\nProof. In A_0 the j-bit is periodic with period 2^{d−j}, so boundaries occur exactly at indices i that are multiples of 2^{d−1−j}. For fixed i, the set of j with i∈G_j has size 1+v_2(i); the weighted identity is immediate by exchanging sums. ∎\n\nCorollary 6.1 (Weighted decrease bound from A_0). In one step A_0→A′ with changed-index set S, and any weights a_j≥0,\n  Σ_{j} a_j·Decrease_j ≤ Σ_{i∈S} Σ_{j: i∈G_j} a_j.\nIn particular, with a_j=2^{−(j+1)} and v_2(i)=t,\n  Σ_{j} 2^{−(j+1)}·Decrease_j ≤ Σ_{i∈S} 2^{−(d−t−1)}(1−2^{−(t+1)}) ≤ Σ_{i∈S} 2^{−d+t+1}.\nProof. Combine Lemma 3 with Theorem 6 and use nonnegativity of the weights; the explicit sum for a_j=2^{−(j+1)} is a direct geometric series. ∎\n","new_outputs_append":"False","verdict":"partial success"}