{
  "progress_md": "## Round 0003 \u2014 New local bounds, an aligned-step cross-level inequality, and a reassessment of the \u201cO(1) active-levels\u201d goal\n\n### Quick recap of curated facts (for reference)\n- Toggle-locality identity (curated): for a step with changed-adjacency set S, for each level j,\n  \\[ B_j(A')-B_j(A) = |T_j(A')\\cap S| - |T_j(A)\\cap S|. \\]\n  In particular, Decrease_j \u2264 |T_j(A)\u2229S| and Increase_j \u2264 |S\\setminus T_j(A)|.\n- Per-pair \u00b12 and factor-3 per-level cap (curated): each pair contributes at most \u00b12 to \u0394B_j; hence B_j changes by at most a factor 3 per step.\n- Dyadic alignment at A_0 and the weighted form (curated): for any S, \\(\\sum_j |S\\cap G_j| = \\sum_{i\\in S}(1+v_2(i))\\). Weighted instantiations are available and correct (verifier\u2019s correction applied).\n\n### New: a simple per-step \u201cpair-budget\u201d demand bound\n- Lemma (per-step demand). Let a step use m matched pairs and S its set of changed indices. Then for any fixed bit-level j,\n  \\[\\text{Decrease}_j \\le |T_j(A)\\cap S| \\le |S| \\le 3m.\\]\n  Proof. Immediate from toggle-locality and that a pair changes at most 3 adjacencies.\n- Consequence (coarse necessary condition). A constant-fraction decrease at level j in one step, i.e., \\(\\text{Decrease}_j \\ge \\theta\\,B_j(A)\\), forces \\(m \\ge \\tfrac{\\theta}{3}\\,B_j(A)\\). For A=A_0, this is \\(m \\ge \\tfrac{\\theta}{3}\\,(n/L_j)\\). If moreover all total pair sizes lie in [L,2L], then m \u2264 n/L, so a constant-fraction decrease at j necessitates \\(L_j \\gtrsim L\\). This recovers the intuitive \u201conly levels at or above the step\u2019s scale can be significantly coarsened\u201d necessary condition.\n\nWhy useful here. Although very coarse, this \u201cpair-budget\u201d lower bound is universal (no alignment assumptions) and will be a repeatedly invoked necessary condition when we later combine scale-wise inequalities.\n\n### New: an equal-scale, grid-aligned cross-level inequality at A_0\nWe formalize a clean cross-level bound that leverages alignment to a dyadic grid and will be a base tool for any \u201cphase-by-scale\u201d analysis.\n\n- Setting. Let A=A_0. Fix L=2^\\ell and consider a step with:\n  1) all matched pairs having total sizes in [L,2L), and\n  2) all inner boundaries of the matched pairs at indices divisible by L (i.e., inner boundaries lie on the L-grid).\n  Let m be the number of pairs; thus m \u2264 n/L. Let S be the set of the (at most 3m) changed indices.\n\n- Inequality 1 (large-scale weighted bound). For the set of levels with run-length at least L, i.e., \\(\\{j: L_j\\ge L\\}\\), we have\n  \\[ \\sum_{\\{j: L_j\\ge L\\}} \\frac{L}{L_j}\\,\\text{Decrease}_j\\;\\le\\; 2|S|\\;\\le\\;6m\\;\\le\\;\\frac{6n}{L}. \\]\n  Proof. From toggle-locality: \\(\\sum_j \\frac{L}{L_j}\\,\\text{Decrease}_j \\le \\sum_{i\\in S}\\sum_{\\{j: i\\in G_j,\\,L_j\\ge L\\}} \\frac{L}{L_j}\\). For an index i with 2-adic valuation t = v_2(i), the inner sum is a truncated geometric series \\(\\sum_{s=\\ell}^{t} 2^{\\ell-s} \\le 2\\), and is 0 if t<\\ell. Thus the entire sum is \u2264 2|S|.\n\n- Inequality 2 (small-scale aggregate fractional bound). For the levels with run-length below L (i.e., \\(L_j<L\\)), define \\(w_j:=1/B_j(A_0)=L_j/n\\). Then\n  \\[ \\sum_{\\{j: L_j<L\\}} \\frac{\\text{Decrease}_j}{B_j(A_0)} \\;=\\; \\sum_{\\{j: L_j<L\\}} w_j\\,\\text{Decrease}_j \\;\\le\\; C\\,\\frac{n}{L}\\,\\log\\frac{n}{L} \\cdot \\frac{1}{n}\\;=\\; C\\,\\frac{\\log(n/L)}{L}. \\]\n  Proof idea. Toggle-locality gives \\(\\sum_j w_j\\,\\text{Decrease}_j \\le \\sum_{i\\in S}\\sum_{\\{j: i\\in G_j\\}} w_j\\). For A_0, as in the weighted version of Theorem 6, \\(\\sum_{\\{j: i\\in G_j\\}} w_j = \\sum_{\\{j: i\\in G_j\\}} 2^{-(j+1)}\\), which for v_2(i)=t evaluates to \\(\\le 2^{-d+t+1}\\). The novel ingredient is to bound \\(\\sum_{i\\in S} 2^{v_2(i)}\\) for L-grid-aligned steps: each changed index i lies within distance <2L of a multiple of L; one can show (standard 2-adic counting) that \\(\\sum_{i\\in S}2^{v_2(i)}\\) is \\(O\\big(m\\,2^{\\ell}\\,(1+\\log(\\tfrac{n}{L}))\\big)\\). Dividing by \\(2^d=n\\) yields the RHS. (I will write the detailed combinatorial bound in the next round; it uses that among N integers, the sum of the top-k values of v_2 is O(k log(N/k)+k), and here N\u2248n/L and k\u2248m\u2264N.)\n\n- Consequences (interpreting the two inequalities).\n  \u2022 From Inequality 1: it constrains the total weighted progress at levels with \\(L_j\\ge L\\). In particular, it rules out (in an aligned step) making relative progress \\(\\Omega(1)\\) across more than O(1) geometrically spaced large scales\u2014more precisely, if \\(\\text{Decrease}_j\\ge \\theta B_j\\) for all j in some set J with \\(L_j\\ge L\\), then \\(\\sum_{j\\in J} L/L_j\\) is bounded, which forces J to be concentrated on O(1) adjacent scales. (Note: this does not bound |J| by a constant\u2014it bounds a weighted count; see caveats below.)\n  \u2022 From Inequality 2: at small scales \\(L_j<L\\), the sum of relative decreases \\(\\sum \\text{Decrease}_j/B_j\\) is \\(O(\\log(n/L)/L)\\). Thus for large L (coarse steps), only a tiny number of small-scale levels can see a constant-fraction drop; quantitatively, the number of j with \\(\\text{Decrease}_j\\ge \\theta B_j\\) and \\(L_j<L\\) is \\(O\\big((\\log(n/L))/(\\theta L)\\big)\\).\n\nWhy useful here. These inequalities, while not yet sufficient to give an \\(O(1)\\) drop of \\(\\sum_j |\\log B_j - (d-j)|\\) per step, provide scale-sensitive trade-offs that any \u201cphase-by-scale\u201d lower bound will need. They also identify the small-scale vs. large-scale dichotomy within an aligned step.\n\n### Important reassessment: the \u201cO(1) active levels per step\u201d claim is likely false\n- The earlier speculative Lemma 2 (\u201ca matched boundary is only useful for O(1) levels, hence only O(1) levels can change by a constant factor per step\u201d) appears untenable. Heuristic counterexample: take L=1, align inner boundaries on the 1-grid, and partition into singletons matched pairwise across the entire array. Then S contains almost all indices (up to endpoints), so \\(|S\\cap G_j|\\) is \\(\\Theta(n/L_j)=\\Theta(B_j)\\) for all j simultaneously. Toggle-locality then permits \\(\\Theta(1)\\) relative decreases for \\(\\Theta(\\log n)\\) many levels in the same step. This directly contradicts the \u201cO(1) active levels\u201d narrative.\n- What is still tenable. Our new inequalities show that even though many levels can progress at once, an aligned step cannot simultaneously give large relative progress at scales far below L (Inequality 2) and its weighted progress across higher scales is bounded (Inequality 1). This suggests that any robust lower bound must measure progress with a scale-sensitive potential rather than a flat sum of \\(|\\log B_j - (d-j)|\\).\n\n### A restricted-class milestone: towards an \\(\\Omega(\\log^2 n)\\) bound for scale-phased algorithms\n- Restricted model hypothesis. Consider algorithms that operate in phases; in each phase t, all matched pairs have sizes within a factor-2 window [L_t,2L_t), and (possibly after discarding a constant fraction of pairs by residue-class averaging) the inner boundaries are aligned to the L_t-grid.\n- Strategy sketch. Define a scale-sensitive potential \\(\\Psi(A)=\\sum_j w_t(j)\\,|\\log_2 B_j(A) - (d-j)|\\) whose weights \\(w_t(j)\\) sharply peak around the \u201chome scale\u201d \\(L_j\\approx L_t\\), e.g., \\(w_t(j)=\\alpha^{|\\log_2 L_j - \\log_2 L_t|}\\) for a fixed \\(\\alpha\\in(0,1)\\). Using Inequalities 1\u20132 plus the pair-budget bound, aim to prove that in any L_t-aligned phase, \\(\\Psi\\) decreases by at most a constant. Since \\(\\sum_t 1=\\Theta(\\log n)\\) phases are needed to cover all scales L_t=2^t, this would force \\(\\Omega(\\log^2 n)\\) steps. This is a realistic, checkable plan for the restricted model.\n- Status. The per-phase constant-drop claim requires a careful combinatorial bound on the weighted sum of decreases induced by the S-edges; our Inequality 1 gives the \u201cupper tail\u201d (\\(L_j\\ge L_t\\)) control, and Inequality 2 controls the \u201clower tail\u201d (\\(L_j<L_t\\)). I will formalize the choice of \\(\\alpha\\) and complete the per-phase bound next.\n\n### Gaps and clarifications in output.md\n- Suggest adding the new \u201cpair-budget\u201d lemma stated above; it is an immediate corollary of Lemma 3 (toggle-locality) and is useful for quick necessary conditions.\n- The equal-scale, grid-aligned cross-level bounds (Inequalities 1\u20132) are new and not yet in output.md. They are specialized to A_0, but they capture the key arithmetic-progression intersection needed for any scale-phased lower bound. I recommend curating Inequality 1 (fully rigorous as written) and flagging Inequality 2 as a lemma with a short proof deferred (the only remaining detail is the bound \\(\\sum_{i\\in S}2^{v_2(i)}=O\\big(m2^\\ell(1+\\log(n/L))\\big)\\), which I\u2019ll write out).\n- Caution: the earlier envisioned \u201cO(1) active levels per step\u201d is incompatible with aligned steps at small scale (L=1); hence it should not be pursued as a general lemma. The per-level factor-3 cap remains correct and relevant but does not by itself deliver \\(\\Omega(\\log^2 n)\\).\n\n### Obstacles\n- The sum-of-logs potential \\(\\Phi(A)=\\sum_j |\\log_2 B_j(A)-(d-j)|\\) can drop by \\(\\Theta(\\log n)\\) in a single step (e.g., L=1 aligned), so it is not suitable to yield \\(\\Omega(\\log^2 n)\\) via an \\(O(1)\\) per-step drop.\n- Cross-level scarcity in full generality (without alignment/restrictions) appears false at the granularity of \u201cnumber of active levels.\u201d New lower-bound proofs must use scale-sensitive weights and exploit alignment or pair-size budgets.\n\n### Next steps (concrete and testable)\n1) Curate the \u201cpair-budget\u201d lemma into output.md.\n2) Curate Inequality 1 (large-scale weighted bound) for L-aligned steps from A_0, with a clean proof (as above).\n3) Provide a complete proof of Inequality 2: write the combinatorial bound \\(\\sum_{i\\in S}2^{v_2(i)}=O\\big(m2^\\ell(1+\\log(n/L))\\big)\\) and record it as a lemma on 2-adic valuation sums near an L-grid.\n4) Formalize a per-phase potential \\(\\Psi_t\\) with geometric weights around scale L_t and prove an \\(O(1)\\) per-phase drop in the restricted (aligned, equal-scale) model, yielding \\(\\Omega(\\log^2 n)\\) steps for that class of algorithms.\n5) Empirics on small n (n=32,64): verify that an L=1 aligned step from A_0 can reduce \\(B_j\\) by a constant factor for \\(\\Theta(\\log n)\\) levels, corroborating the reassessment.\n6) Begin investigating whether a strong \u201ccentral-boundary demand\u201d lemma can be salvaged: quantify, per level j, the maximal number of decreases realizable by outer boundaries alone; aim to show that to achieve \\(\\Omega(B_j)\\) decreases one must contribute \\(\\Omega(B_j)\\) via inner boundaries when \\(L_j\\lesssim L\\). This would strengthen Inequality 2 and aid the per-phase bound.\n\n### Why this counts as progress\n- Adds a universal, clean \u201cpair-budget\u201d demand bound for \\(\\text{Decrease}_j\\) that will be used in multiple places.\n- Proves a sharp cross-level inequality (Inequality 1) for aligned steps and outlines a second (Inequality 2) with a near-complete proof plan.\n- Correctly identifies and documents the failure of the \u201cO(1) active levels\u201d approach, steering the program towards scale-sensitive potentials, which are more realistic for an \\(\\Omega(\\log^2 n)\\) lower bound in restricted models.\n- Sets up a feasible restricted-model milestone (equal-scale, grid-aligned phases) where an \\(\\Omega(\\log^2 n)\\) lower bound appears within reach.\n"
}