--- SYSTEM ---
You are a research **summarizer**. Summarize this *last round only* for a human log.

Include:
- 3–7 bullet **Highlights** (facts learned, reductions, counterexamples, partial bounds).
- 1–3 **Open questions / TODOs** for the next round.
- 1–3 **Citations to files** you relied on (e.g. round files or papers by name).

**Return strictly JSON**:
{
  "summary_md": "Readable summary of the round (≤200 words)",
  "highlights": [],
  "next_questions": []
}

--- USER ---
=== prover-01.out.json (progress_md) ===
Headlines
- New exact, first-step bounds at A_0: a 2-adic “layer-cake” inequality for changed indices S implies a sharp upper bound on the weighted mass Σ_i 2^{v_2(i)} in terms of the number m of matched pairs. Combined with toggle-locality and the dyadic alignment identity, this yields a rigorous small-scale fractional bound: for a step from A_0 using m pairs, the sum of relative decreases Σ_{j: L_j<L} Decrease_j/B_j(A_0) ≤ O((1+log(n/m))/L). For equal-scale steps (all pair lengths in [L,2L)), this simplifies to O((log L)/L). This fills the gap flagged in the verifier’s feedback (our previous Inequality 2 lacked a proof).
- Consequences: in an equal-scale step, the total “relative progress budget” across all levels strictly below scale L is o(1) when L grows, sharply constraining simultaneous factor reductions at those levels in one step. This complements the large-scale weighted bound already curated (Theorem 8) and is ready to be added to output.md as a pair of lemmas/corollaries.

New lemmas and proofs (ready to curate)
1) Lemma (2-adic layer-cake bound for changed indices).
Setup. Let n=2^d, A=A_0, and let a single step use m matched pairs. Let S⊆{1,…,n−1} be the set of changed adjacency indices (|S|≤3m). For t≥0 let M_t={i∈{1,…,n−1}: 2^t divides i}.
Claim. One has
Σ_{i∈S} 2^{v_2(i)} ≤ C·n·(1+log_2(n/m)) for an absolute constant C.
Proof. For any i, write 2^{v_2(i)} ≤ 2·Σ_{t=0}^{v_2(i)} 2^t = 2·Σ_{t≥0} 2^t·1_{(i∈M_t)}; hence
Σ_{i∈S} 2^{v_2(i)} ≤ 2·Σ_{t≥0} 2^t·|S∩M_t|.
For each t, |S∩M_t| ≤ min{3m, ⌊(n−1)/2^t⌋}. Let T=⌊log_2(n−1)⌋ and choose t_0 = ⌊log_2((n−1)/(3m))⌋ (take t_0=−1 if (n−1)/(3m)<1). Then
Σ_{t=0}^{T} 2^t·|S∩M_t| ≤ Σ_{t≤t_0} 2^t·3m + Σ_{t>t_0} 2^t·(n/2^t)
≤ 3m·(2^{t_0+1}−1) + n·(T−t_0)
≤ 6m·2^{t_0} + n·log_2(2n/(3m)) ≤ 2n + n·log_2(2n/(3m)).
Multiplying by the factor 2 from the first inequality yields the claim with C an absolute constant.∎
Why useful. This bound depends only on n and the number of pairs m, not on any alignment assumptions. It is exactly the missing upper bound on Σ_{i∈S}2^{v_2(i)} requested in the verifier’s note, and it plugs into the toggle-locality/weighted-dyadic framework at A_0.

2) Theorem (small-scale fractional decrease bound at A_0).
Let A=A_0, n=2^d. For any integer L≥1,
Σ_{j: L_j<L} Decrease_j / B_j(A_0) ≤ (2/(nL))·Σ_{i∈S} 2^{v_2(i)}.
In particular, for a step with m pairs,
Σ_{j: L_j<L} Decrease_j / B_j(A_0) ≤ C·(1+log(n/m))/L.
Proof. Apply Lemma 3 (toggle-locality) with the weighted dyadic identity (Theorem 6) using weights a_j = (1/L)·1_{L_j<L}·(1/B_j(A_0)) = (1/L)·2^{−(j+1)}:
Σ_{j: L_j<L} Decrease_j/B_j(A_0) ≤ (1/L)·Σ_{i∈S} Σ_{j: i∈G_j} 2^{−(j+1)} = (1/L)·Σ_{i∈S} 2^{−(d−v_2(i)−1)} = (2/(nL))·Σ_{i∈S} 2^{v_2(i)}.
The inequality then follows from the Lemma above.∎

Corollary (equal-scale specialization). If all matched pairs have total lengths in [L,2L), then m≤n/L and hence
Σ_{j: L_j<L} Decrease_j / B_j(A_0) ≤ C·(1+log L)/L.
In particular, as L grows, the total relative decrease budget below scale L in a single equal-scale step is o(1).

Corollary (counting active small-scale levels). Fix θ∈(0,1]. In a step with m pairs, the number of levels j with L_j<L and Decrease_j ≥ θ·B_j(A_0) is at most O((1+log(n/m))/(θ L)). In the equal-scale [L,2L) regime this is O((1+log L)/(θ L)).

Why these results matter
- They provide the first rigorous, scale-sensitive small-scale trade-off from A_0: at scales strictly below L, the sum of relative decreases is bounded by O((log(n/m))/L), and hence by O((log L)/L) in equal-scale phases. This matches and formalizes the previously heuristic “Inequality 2” (now fully proved, with clear constants) and dovetails with the already curated large-scale bound (Theorem 8):
  • Large scales L_j≥L: Σ_{j} (L/L_j)·Decrease_j ≤ 6m.
  • Small scales L_j<L: Σ_{j} Decrease_j/B_j(A_0) ≤ C·(1+log(n/m))/L.
- Together, these are precisely the ingredients needed to bound per-phase progress under an equal-scale scheduling: the “upper tail” (large L_j) is controlled by the (L/L_j)-weighted absolute decreases, while the “lower tail” (small L_j) admits only a vanishing total relative decrease of order (log L)/L. This strongly suggests that a geometric-weighted potential concentrated near the phase’s home scale L can be shown to drop by O(1) per phase, yielding an Ω(log^2 n) lower bound for algorithms that proceed in equal-scale phases (grid alignment not required for the new small-scale bound).

Sanity checks and examples
- n=16, consider an equal-scale L=4 step. Then m≤n/L=4 and (1+log(n/m))/L ≤ (1+log(16/4))/4 = (1+2)/4 = 3/4. The corollary asserts Σ_{j: L_j<4}(Decrease_j/B_j(A_0)) ≤ O(0.75). Since L_j<4 means j with run lengths 1 or 2 (i.e., j∈{2,3}), the total fractional decrease across these two levels cannot exceed a constant < 1, precluding simultaneous 1/2-fraction drops at both j=2 and j=3 in a single L=4 step.
- For a coarser step, say L=n/8, m≤8 and (1+log(n/m))/L = O((1+log(n/8))/ (n/8)) = O((log n)/n), i.e., negligible small-scale progress below L.

How to combine with Theorem 8 (large scales)
- Theorem 8 bounds Σ_{j: L_j≥L} (L/L_j)·Decrease_j ≤ 6m (≤ 6n/L in equal-scale). This controls absolute decreases with a decaying weight L/L_j. Translating to log-changes requires care; however, for large-scale levels, a drop in log B_j is at most O(Decrease_j/B_j) per level (whenever Decrease_j ≤ B_j/2), and is uniformly O(1) otherwise by Theorem 5 (factor-3 cap). An O(1)-per-phase drop for a geometric-weighted potential Ψ_L(A)=Σ_j w_L(j)·|log B_j(A)−(d−j)| with weights w_L(j) sharply peaked around L (e.g., w_L(j)=min{1, L/L_j} or a smoother geometric taper) appears within reach: the new small-scale bound controls the tail j with L_j<L, while Theorem 8 controls the upper tail j with L_j≥L. I will formalize this per-phase potential in the next round.

Gaps or errors in output.md
- No errors spotted in the currently curated items. The new small-scale fractional bound (Theorem above and its corollaries) is currently missing and should be added. It relies only on Lemma 3 (toggle-locality), Theorem 6 (dyadic alignment at A_0), and the new Lemma (2-adic layer-cake bound), all of which are now self-contained and rigorously proved.

Obstacles and limitations (explicit)
- The new bounds are first-step-from-A_0 statements; after the array evolves, the clean dyadic identity (Theorem 6) no longer applies. Extending small-scale scarcity beyond the first step will require either (i) re-establishing a comparable structure on T_j(A) for the current A, or (ii) designing a different potential/weighting (possibly using the Hamming-sum identity, Theorem 7) that yields per-index signed cancellations across levels without relying on A_0’s dyadic grids.
- Large-scale progress to log-potential drop still needs a careful argument converting Σ (L/L_j)·Decrease_j into a comparable bound on Σ w_L(j)·Δ log B_j; this will use the factor-3 cap and case distinctions (small vs. large relative drops) per level.

Next steps (concrete and testable)
1) Curate the new Lemma (2-adic layer-cake bound) and the Theorem + corollaries (small-scale fractional bounds) into output.md.
2) Define a geometric phase-potential Ψ_L and prove an O(1) drop for equal-scale phases by combining Theorem 8 with the new small-scale inequality; quantify constants and edge cases (levels exhibiting >1/2 relative drop) via Theorem 5.
3) Explore signed cross-level weights using the Hamming-sum identity (Theorem 7): attempt to bound, per changed index i, the weighted sum over j of contributions to Δ log B_j by O(1), to decouple from A_0.
4) Case-analysis toward a “central-boundary demand” lemma: classify per-pair Δ_pair(j) in terms of six endpoint bits and show that achieving Ω(B_j) decrease forces Ω(B_j) inner-boundary hits; this would generalize small-scale control past the first step.
5) Small-n experiments (n=32,64): validate the sum-of-fractional-decreases bound in equal-scale steps and measure how close to saturation steps can get at various L.

Summary
- Established a crisp and fully rigorous small-scale fractional bound from A_0: Σ_{L_j<L} Decrease_j/B_j(A_0) ≤ C·(1+log(n/m))/L, and in particular, ≤ C·(log L)/L in equal-scale [L,2L) steps. The core technical tool is a new 2-adic layer-cake bound on Σ_{i∈S}2^{v_2(i)} that depends only on m.
- This complements the curated large-scale weighted decrease bound and is a key building block toward an Ω(log^2 n) lower bound in a phase-by-scale regime. The per-phase potential argument remains to be written; the present lemmas are immediately curatable and advance the program materially.

=== prover-02.out.json (progress_md) ===
Headlines
- New extremal inequality: for any K-subset S⊆{1,…,N}, one has Σ_{i∈S} 2^{v_2(i)} ≤ N·H_K (H_K the K-th harmonic number). This sharpens and formalizes the 2-adic summation bound needed in Corollary 6.1 and yields Σ_j Decrease_j/B_j(A_0) ≤ O(log(n/L)) in equal-scale steps with ≤ n/L pairs.
- Geometric-window weights (first-step from A_0): for any fixed scale L=2^ℓ and any step (no alignment assumed) whose changed-index set is S, define a_j(L):=β^{| (d−1−j) − ℓ |}/2^{j+1} with β∈(0,1/2). Then Σ_j a_j(L)·Decrease_j ≤ C_β·(L/n)·|S|. In particular, for equal-scale steps with m pairs (hence |S|≤3m≤3n/L), one gets Σ_j a_j(L)·Decrease_j ≤ 3C_β = O(1). This gives an O(1) per-step cap on a scale-focused, cross-level weighted decrease from the bit-reversal start.

Gaps or corrections in output.md to flag
- The current output already contains Theorem 8 (large-scale weighted decrease bound) and Lemma 7.2 (sub-run decrease bound), both correct. There is, however, still no curated bound of the form Σ_{i∈S}2^{v_2(i)} in terms of |S|. I recommend adding the extremal bound below as a lemma; it is used implicitly in several sketches and enables a clean derivation of Σ_j Decrease_j/B_j(A_0) ≤ O(log(n/L)).
- The program still lacks any signed, cross-level per-step bound that applies beyond the first step (once A deviates from A_0). The geometric-window lemma below is first-step specific (it uses T_j(A_0)=G_j) and cannot be applied verbatim after the array evolves.

New technical lemmas (ready to curate)
1) Extremal 2-adic sum bound.
Lemma. Let N≥1 and S⊆{1,…,N} with |S|=K≥1. Then Σ_{i∈S} 2^{v_2(i)} ≤ N·H_K, where H_K=1+1/2+⋯+1/K.
Proof. Order the weights w(i):=2^{v_2(i)} for i∈{1,…,N} in nonincreasing order s_1≥s_2≥⋯≥s_N. For t≥0, at most ⌊N/2^t⌋ integers have v_2≥t, i.e., at most ⌊N/2^t⌋ weights are ≥2^t. Hence for every ℓ≥1, s_ℓ ≤ max{2^t : N/2^t ≥ ℓ} ≤ N/ℓ. Therefore Σ_{i∈S} 2^{v_2(i)} ≤ Σ_{ℓ=1}^K s_ℓ ≤ Σ_{ℓ=1}^K (N/ℓ) = N·H_K.∎
Corollary (small-scale fractional decreases, coarse but general). For A=A_0, any step with changed-index set S (|S|=K) satisfies
Σ_{j=0}^{d−1} Decrease_j/B_j(A_0) = Σ_j 2^{−(j+1)}·Decrease_j ≤ (2/n)·Σ_{i∈S} 2^{v_2(i)} ≤ 2·H_K.
In particular, in an equal-scale step with m pairs (hence K≤3m≤3n/L), Σ_j Decrease_j/B_j(A_0) ≤ O(log(n/L)).
Why useful: This fully rigorous bound replaces the previously sketched Inequality 2 with a clean, general estimate (though without the extra 1/L factor). It confirms that, in aggregate and relative to B_j(A_0), only logarithmic-in-(n/L) fractional shrinkage can be achieved across all levels in an equal-scale step.

2) Geometric-window weighted cross-level decrease (first step from A_0).
Lemma (geometric window). Fix L=2^ℓ and pick any β∈(0,1/2). Define scale-centered weights a_j(L):=β^{| (d−1−j) − ℓ |}/2^{j+1}. For A=A_0 and any one-step change with index set S,
Σ_{j=0}^{d−1} a_j(L)·Decrease_j ≤ C_β·(L/n)·|S|,
where C_β := (1/(1−β/2) + 1/(1−2β)). In particular, for equal-scale steps with m pairs one has Σ_j a_j(L)·Decrease_j ≤ 3C_β=O(1).
Proof. By toggle-locality and Theorem 6 (weighted form at A_0),
Σ_j a_j(L)·Decrease_j ≤ Σ_{i∈S} Σ_{j: i∈G_j} a_j(L).
For i with v_2(i)=t, the inner sum ranges over j with s:=d−1−j∈{0,1,…,t} and equals
Σ_{s=0}^{t} β^{|s−ℓ|}·2^{s−d} = 2^{−d}·(Σ_{s=0}^{ℓ} β^{ℓ−s}2^{s} + Σ_{s=ℓ}^{t} β^{s−ℓ}2^{s}).
Bound the two parts separately: Σ_{s=0}^{ℓ} β^{ℓ−s}2^{s} = 2^{ℓ}·Σ_{r=0}^{ℓ} (β/2)^r ≤ 2^{ℓ}/(1−β/2), and Σ_{s=ℓ}^{t} β^{s−ℓ}2^{s} = 2^{ℓ}·Σ_{r=0}^{t−ℓ} (2β)^r ≤ 2^{ℓ}/(1−2β). Thus, Σ_{j: i∈G_j} a_j(L) ≤ C_β·2^{ℓ−d} = C_β·(L/n). Summing over i∈S gives the claim; using |S|≤3m and m≤n/L (equal-scale) yields the O(1) consequence.∎
Remarks.
- Crucially, this does not assume any alignment; it is purely a first-step property from A_0. It precisely formalizes the “home scale” phenomenon: pairs with total size ≈L can only induce O(1) total weighted decreases when measured by a geometric window centered at that scale.
- The choice of β<1/2 ensures the tail beyond the home scale decays sufficiently quickly (the 2β factor in the upper tail), giving a per-index constant bound.

How these help and their limits
- The extremal 2-adic bound plus Corollary cleanly upper bound aggregate relative decreases across all levels by O(log(n/L)) in an equal-scale step. While not strong enough alone for an O(1) per-step drop of the unweighted potential, it quantifies a strict trade-off for small scales.
- The geometric-window lemma provides an O(1) per-step cap for a family of scale-focused, cross-level weighted potentials at the bit-reversal start. This is the first rigorous cross-level scarcity result that is scale-sensitive and constant per equal-scale step.
- Limitation: Both statements rely on A=A_0. After the first step, the boundary sets T_j(A) are no longer dyadic grids, so Theorem 6 cannot be applied directly. Extending the geometric-window argument beyond the first step requires new structure (e.g., showing that after a near-L step from A_0 the sets T_j(A) retain enough arithmetic regularity at scales ≈L to re-run the argument, or developing a signed, per-index cancellation bound that is independent of A).

Sanity checks and examples
- n=16, L=4 (ℓ=2), β=1/4. In a step of 4-block pairs (m≤4), we have |S|≤12 and L/n=1/4, hence Σ_j a_j(L)·Decrease_j ≤ C_β·(1/4)·12 = O(1). Empirically, the only levels with noticeable (unweighted) decreases are those with L_j∈{2,4,8} (adjacent to L), consistent with “home-scale” concentration.
- For L=1 (singletons paired), the geometric-window lemma still bounds the windowed decrease by O(1), despite the possibility that Θ(log n) levels see constant-factor unweighted changes. This illustrates the necessity of scale-sensitive weights.

Obstacles
- The geometric-window lemma is “first-step only.” Without a characterization of T_j(A) after a step, we cannot iterate the bound. A naive attempt to keep measuring against G_j (of A_0) does not telescope to a lower bound on sorting time.
- The extremal bound yields only O(log(n/L)) control on Σ_j Decrease_j/B_j(A_0); taken over Θ(log n) scales this still gives merely Ω(log n) steps for the unweighted potential.
- A signed cross-level inequality (bounding a weighted combination of decreases and increases that correlates with |log B_j−(d−j)|) remains open. The Hamming-sum identity suggests such cancellation might be possible with carefully chosen weights, but a precise bound is not yet proved.

Next steps (actionable)
1) Curate the extremal 2-adic bound and the geometric-window lemma into output.md (after verifier checks), as they are exact and broadly useful.
2) Search for persistence of arithmetic regularity: After an equal-scale step from A_0 at scale L, characterize T_j(A) for j with L_j≈L. Goal: show these boundary sets are unions of a bounded number of arithmetic progressions with large modulus, enabling a rerun of the geometric-window argument at the next step.
3) Signed per-index inequality: For a single changed index i (arbitrary A), analyze the vector over j of contributions to B_j(A′)−B_j(A) via HD_{A′}(i)−HD_A(i). Try weights of the form a_j(L)=γ^{| (d−1−j) − ℓ |}/2^{j+1} with γ<1/2 and prove Σ_j a_j(L)·(B_j(A′)−B_j(A)) ≤ O(L/n) uniformly in A. This would extend the geometric-window lemma beyond A_0.
4) Restricted-phase milestone: Under the equal-scale assumption per phase, define a phase potential Ψ_L(A):=Σ_j β^{|log_2 L_j−log_2 L|}·|log_2 B_j(A)−(d−j)| and prove an O(1) drop per phase from A_0 using the geometric-window lemma (for the “decrease-needed” half) together with a symmetric variant for increases. This would yield Ω(log^2 n) steps for the restricted model.
5) Case analysis for per-pair decreases: Classify the six-bit patterns (a_L,L_1,L_k,R_1,R_m,a_R) that yield Δ_pair(j)<0 and quantify when the inner boundary must coincide with a current j-boundary. This may lead to a “central-boundary demand” lemma needed to control decreases when T_j(A) has partial regularity.

Why this is progress
- The extremal 2-adic inequality closes a missing technical gap and makes several prior sketches rigorous.
- The geometric-window lemma is a genuinely new, constant-per-step cross-level bound (albeit for the first step), capturing scale-locality in a quantitative way. It provides a clear template for the type of weighting that could ultimately yield an Ω(log^2 n) lower bound via an O(1) per-phase drop argument.


=== Verifier (summary_md) ===

=== Verifier (verdict) ===
partial success

