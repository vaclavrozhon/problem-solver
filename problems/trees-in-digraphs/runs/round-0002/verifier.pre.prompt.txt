=== SYSTEM ===
You are a strict mathematical verifier & research manager.

You are being run in a loop with provers. Your tasks:
- Audit their ideas for correctness and rigor.
- Curate files (notes.md, proofs.md, and output.md).
- Suggest the next steps.

Inputs: 
- task statement
- outputs of provers
- notes.md (informal progress & exploratory work so far)
- proofs.md (rigorous proofs & detailed mathematics so far)
- output.md (main results summary so far)

**Three-tier file system guidelines**:
- **notes.md**: Readable running log of exploratory work, intuitions, failed attempts, ideas. Prefer appending. Replace only if old notes are clearly misleading. Should be self-contained.
- **proofs.md**: Complete rigorous mathematical proofs with full details. Contains proven lemmas, theorems, and detailed derivations. Only add mathematically verified content here.
- **output.md**: ONLY the main problem results. Think twice before adding anything. Should contain a concise summary of the most important theorems that directly advance the main problem. Extremely selective.

Tasks:
1) Audit rigor: identify unjustified steps, false statements, missing lemmas; produce minimal counterexamples.
2) Triage value: separate genuine progress from noise.
3) Guide next steps: propose what provers should try next.

**Return strictly JSON**:
{
  "feedback_md": "Detailed critique of prover outputs (≥200 words). Include concrete next-step suggestions.",
  "summary_md": "Concise summary of this round's work for summarizer.",
  "verdict": "promising|uncertain|unlikely",
  "blocking_issues": ["List of issues preventing progress"],
  "per_prover": [{"prover_id": "01", "brief_feedback": "feedback", "score": "promising|uncertain|unlikely"}],
  "notes_update": {"action": "append|replace", "content": "Markdown for notes.md"},
  "proofs_update": {"action": "append|replace", "content": "Markdown for proofs.md"}, 
  "output_update": {"action": "append|replace", "content": "Markdown for output.md"}
}

**Verdict definitions**:
- **promising**: Significant mathematical progress, publishable results, or clear path to solution
- **uncertain**: Some progress but with unresolved issues or incomplete reasoning  
- **unlikely**: No meaningful progress, fundamentally flawed approaches, or just exploratory work

**Update guidelines**:
- Use null for any update field you don't want to modify
- notes_update: Include informal reasoning, failed attempts, intuitions, exploratory work
- proofs_update: Only include complete, rigorous proofs that you have verified
- output_update: Only include main problem results that directly advance toward the solution


=== USER ===
=== Task (txt) ===

Try to improve upon the results proven in the attached paper. 


=== Notes ===

# Research Notes



Updates and insights

- Outstar-with-δ+-common-leaves: A level-dependent threshold schedule t_{k-i}=ℓ^{i+1}+⌈(ℓ^{i+1}−1)/(ℓ−1)⌉ yields a total additive term S_{k,ℓ}=∑_{i=1}^k t_i=Θ(ℓ^k), independent of k up to a constant depending only on ℓ. The lexicographic partition argument and greedy extension both adapt cleanly.
- Uniform vs variable thresholds: The uniform choice T*=⌈ℓ^k·ℓ/(ℓ−1)⌉ (repeated k times) also works but is weaker (cost kT*). The key sufficient condition at depth i is deg_{Γ(k−i−1)}(w) ≥ |V(B_i)|+ℓ^{i+1}, with |V(B_i)|=(ℓ^{i+1}−1)/(ℓ−1).
- Packing rays: For attaching S^-_{k,ℓ} at each leaf, h ≥ kℓ^{k+1}+2ℓ^k+ℓ suffices: each previously used vertex blocks at most one ray in any fixed S(w), and |V(B)| ≤ (ℓ^{k+1}−1)/(ℓ−1) ≤ 2ℓ^k.
- k=2 spiders: Counting 2-walks and using a maximum matching between V\{a} and N^-_B(a) gives s ≥ d(d−2ℓ+1)/(d+2ℓ−1), implying δ^+ > ((3ℓ−1)+√(17ℓ^2−10ℓ+1))/2. This fixes a gap in the paper’s proof where a maximality implication was unjustified.

Next directions
- Attempt a global selection (matching/nibble) over all leaves to push S_{k,ℓ} to (1+o(1))ℓ^k.
- Globalize the ray packing to reduce h to (1+o(1))kℓ^{k+1}.
- Seek better bounds on f(k,h) (e.g., polynomial in h) to translate structural improvements into substantially smaller δ^+ thresholds.


=== Current Output ===

# Main Results



New Main Results

- Refined outstar-with-δ+-common-leaves (improves Theorem 3.4): For ℓ≥2, k≥1, and any δ+-common property P with threshold d(P), if δ^+(G) ≥ d(P)+S_{k,ℓ}, where S_{k,ℓ}=Θ(ℓ^k) is independent of k (specifically, S_{k,ℓ} ≤ (2ℓ/(ℓ−1))·ℓ^k+ℓ), then G contains B^+_{k,ℓ} whose leaves all satisfy P.

- Improved packing of in-spiders at the leaves (improves Theorem 3.6): It suffices to take h = kℓ^{k+1}+2ℓ^k+ℓ (instead of 3kℓ^{k+1}). Consequently, δ^+(G) ≥ f(k,h)+S_{k,ℓ} guarantees a copy of T(k,ℓ).

- k=2 Giant Spiders: Any digraph with δ^+ > ((3ℓ−1)+√(17ℓ^2−10ℓ+1))/2 contains S^-_{2,ℓ}. This corrects and strengthens the linear bound proof by replacing a flawed maximality step with a maximum-matching argument and counting 2-walks instead of 2-paths.


=== Prover 1 Output ===

Ideas

- Replace the uniform 2ℓ^k-thresholds in Theorem 3.4/3.7 by a level-dependent schedule t_{k−i} = ℓ^{i+1} + ⌈(ℓ^{i+1}−1)/(ℓ−1)⌉. This makes the total additive overhead S_{k,ℓ} = ∑_{j=1}^k t_j = Θ_ℓ(ℓ^k) independent of k. I give a fully rigorous variable-threshold Γ-scheme and compute a clean explicit bound S_{k,ℓ} ≤ ℓ(ℓ^{k+1}−ℓ)/(ℓ−1)^2 + ((ℓ−2)/(ℓ−1))k.
- Refine the ray-packing bound for h: h ≥ |V(B^+_{k,ℓ})| + kℓ|L| + ℓ = (ℓ^{k+1}−1)/(ℓ−1) + kℓ^{k+1} + ℓ (improving the paper’s 3kℓ^{k+1} and the 2ℓ^k coarse term by the exact |V(B)|).
- Strengthen the k=2 spider bound: using 2-walks and a minimum vertex cover (via Kőnig’s theorem) in the predecessor bipartite graph yields s ≥ d(d−2ℓ+1)/(d+2ℓ−1), hence S^-_{2,ℓ} appears for d > ((2ℓ−1)+√(12ℓ^2−8ℓ+1))/2 ≈ (1+√3)ℓ ≈ 2.732ℓ, strictly improving the paper’s ≈3.56ℓ.

Results and proofs

Theorem 1 (Outstar with δ^+-common leaves; variable thresholds). Let Π be a δ^+-common vertex property with threshold d(Π). Fix ℓ ≥ 2 and k ≥ 1. Define
- Γ(0) = {v: v has Π},
- for 1 ≤ j ≤ k, Γ(j) = {v: deg^+_{Γ(j−1)}(v) ≥ t_j}, where t_{k−i} := ℓ^{i+1} + ⌈(ℓ^{i+1}−1)/(ℓ−1)⌉ for i = 0,1,…,k−1.
If δ^+(G) ≥ d(Π) + S_{k,ℓ} with S_{k,ℓ} := ∑_{j=1}^k t_j, then G contains B ≅ B^+_{k,ℓ} whose leaves all satisfy Π.

Proof. The lexicographic partition argument from the paper adapts verbatim with the thresholds t_j: for contradiction assume Γ(k)=∅; let z be the lexicographically minimal nonempty class V_z with z_k=0; put I = {i ∈ {0,…,k−1}: z_{i+1}=0} and W = ⋃_{i∈I} Γ(i). Then any v ∈ V_z has deg^+_W(v) < ∑_{i∈I} t_{i+1} ≤ ∑_{j=1}^k t_j = S_{k,ℓ}. If z ≠ 0⃗ this contradicts δ^+(G) ≥ S_{k,ℓ}. If z = 0⃗, then for all v ∈ X := V\⋃_{j=0}^k Γ(j) we have deg^+_X(v) ≥ δ^+(G) − S_{k,ℓ} ≥ d(Π), whence X contains a Π-vertex, contradiction to anti-monotonicity (Definition 3.3). Hence Γ(k) ≠ ∅.

Take v ∈ Γ(k) and build B greedily. For each i=0,…,k−1, suppose we have B_i ≅ B^+_{i,ℓ} with leaves L_i ⊆ Γ(k−i) and |V(B_i)| = (ℓ^{i+1}−1)/(ℓ−1), |L_i| = ℓ^i. To extend to B_{i+1}, for each w ∈ L_i we must pick ℓ new children in Γ(k−i−1) outside V(B_i) and disjoint across L_i. Greedily ordering the leaves, when treating the j-th leaf, at most |V(B_i)| + ℓ(j−1) of its neighbours are forbidden. Thus it suffices that every w ∈ L_i satisfies deg^+_{Γ(k−i−1)}(w) ≥ |V(B_i)| + ℓ|L_i| = (ℓ^{i+1}−1)/(ℓ−1) + ℓ^{i+1}. Exactly t_{k−i} meets this. Hence B_k exists with leaves in Γ(0), i.e., all leaves satisfy Π.

Explicit bound for S_{k,ℓ}. Using ⌈x⌉ ≤ x+1,
S_{k,ℓ} = ∑_{r=1}^k (ℓ^r + ⌈(ℓ^r−1)/(ℓ−1)⌉)
≤ ∑_{r=1}^k ℓ^r + (1/(ℓ−1))∑_{r=1}^k (ℓ^r − 1) + k
= (1 + 1/(ℓ−1)) · (ℓ^{k+1} − ℓ)/(ℓ−1) − k/(ℓ−1) + k
= ℓ(ℓ^{k+1} − ℓ)/(ℓ−1)^2 + ((ℓ−2)/(ℓ−1))k.
In particular, S_{k,ℓ} = (ℓ^2/(ℓ−1)^2)ℓ^k + O_ℓ(1), independent of k up to a constant depending only on ℓ.

Corollary 2 (T(k,ℓ) with refined h and S_{k,ℓ}). Let h* := (ℓ^{k+1}−1)/(ℓ−1) + kℓ^{k+1} + ℓ. If δ^+(G) ≥ f(k,h*) + S_{k,ℓ}, then G contains T(k,ℓ).

Proof. Take Π = “is the centre of S^-_{k,h*}”. By Proposition 3.5, Π is δ^+-common with threshold d(Π)=f(k,h*). Theorem 1 yields B ≅ B^+_{k,ℓ} with leaves L (|L|=ℓ^k), each the centre of S(w) ≅ S^-_{k,h*}. Proceed greedily over L: when selecting S′(w) ≅ S^-_{k,ℓ}, each previously used vertex blocks at most one ray in S(w); at each step, the union U of B and selected S′ contains at most |V(B)| + kℓ(|L|−1) ≤ (ℓ^{k+1}−1)/(ℓ−1) + kℓ^{k+1} − kℓ vertices. If h* ≥ |U| + ℓ, then at least ℓ unblocked rays remain. This is ensured by the definition of h*. Thus the S′(w) can be chosen pairwise disjoint and internally disjoint from B, yielding T(k,ℓ).

Theorem 3 (Linear bound for S^-_{2,ℓ} via 2-walks and a vertex cover). For every ℓ ≥ 1, any digraph G with minimum out-degree d > d_2(ℓ) := ((2ℓ−1)+√(12ℓ^2−8ℓ+1))/2 contains S^-_{2,ℓ} as a subgraph.

Proof. Assume by edge deletions that deg^+(v)=d for all v. Partition V into A := {v: deg^−(v) ≥ 2ℓ} and B := V\A, so A ≠ ∅. If some r ∈ A has deg^-_A(r) ≥ 2ℓ we greedily embed S^-_{2,ℓ} as in the paper. Otherwise deg^-_A(v) ≤ 2ℓ−1 for all v ∈ A.
Count directed 2-walks V ⇒ B ⇒ A:
|A ⇒ V ⇒ V| = |A| d^2,
|A ⇒ A ⇒ V| ≤ d e(G[A]) ≤ (2ℓ−1)d|A|,
|B ⇒ B ⇒ V| = d e(G[B]),
|V ⇒ B ⇒ B| ≤ (2ℓ−1) e(G[B]).
Hence |V ⇒ B ⇒ A| ≥ |A| d(d−2ℓ+1) + e(G[B])(d−2ℓ+1) ≥ |A| d(d−2ℓ+1).
Choose a ∈ A so that |V ⇒ B ⇒ {a}| ≥ d(d−2ℓ+1). Let R := N^-_B(a), U := V\{a}, and form the bipartite graph H with parts (U,R) and edges q—b iff (q,b) ∈ E. Every edge of H corresponds to a distinct 2-walk q→b→a. Let M be a maximum matching in H, s := |M|, and C a minimum vertex cover (Kőnig’s theorem) with |C|=s, decomposed as C = Q ⊔ R_C with Q ⊆ U and R_C ⊆ R. Since every edge meets C,
|E(H)| ≤ ∑_{q∈Q} deg^+(q) + ∑_{b∈R_C} deg^−(b) ≤ d|Q| + (2ℓ−1)|R_C| ≤ (d+2ℓ−1)s.
Thus d(d−2ℓ+1) ≤ |E(H)| ≤ (d+2ℓ−1)s, so s ≥ d(d−2ℓ+1)/(d+2ℓ−1). If s ≥ ℓ then the matched pairs {(q_i,b_i)} give S^-_{2,ℓ}. Solving s ≥ ℓ yields the claimed threshold d > d_2(ℓ).

Examples/checks

- For ℓ=2, Theorem 3 gives d ≥ 5 (since (3+√33)/2 ≈ 4.87), strictly better than ≈7.12 from the paper. The Giant Spider Conjecture predicts the optimal threshold 2ℓ=4, so there is still room.
- For ℓ=1 (paths of length 2), the bound d > (1+√5)/2 ≈ 1.618 is non-tight (d ≥ 1 suffices), but the argument is uniform and correct.

Obstacles

- The Γ-scheme with variable thresholds is essentially tight for greedy extension at depth i: t_{k−i} must dominate |V(B_i)| + ℓ|L_i|. Improving S_{k,ℓ} further likely needs a simultaneous b-matching across leaves (nibble), which requires codegree control we do not have in general digraphs.
- The ray packing bound h* is tight up to lower-order terms in ℓ^k under greedy selection. A global packing of rays could in principle reduce the additive (ℓ^{k+1}−1)/(ℓ−1) term, but again needs extra pseudorandomness.

Next steps

- Attempt a global b-matching for children selection at each level to reduce t_{k−i} from |V(B_i)|+ℓ^{i+1} toward (1+o(1))ℓ^{i+1}, aiming for S_{k,ℓ} = (1+o_ℓ(1))ℓ^k.
- Explore randomized nibble for ray packing to reduce h* to (1+o(1))kℓ^{k+1}.
- Seek improved d(Π)=f(k,h) for Π=“centre of S^-_{k,h}”, even polynomial in h, to substantially sharpen δ^+ thresholds in Corollary 2.



=== Prover 2 Output ===

# Ideas

We give three quantitative refinements that are auditable and plug directly into the paper’s framework.
- Variable-threshold version of Theorem 3.4 with a sharp constant S_{k,ℓ} = (ℓ^2/(ℓ−1)^2+o_ℓ(1))·ℓ^k (independent of k up to the ℓ-dependent constant). This replaces the paper’s additive 2kℓ^k.
- A tighter “ray packing” bound for attaching in-spiders at the leaves: h ≥ kℓ^{k+1} + (ℓ^{k+1}−1)/(ℓ−1) + ℓ (replacing 3kℓ^{k+1} or kℓ^{k+1}+2ℓ^k+ℓ).
- For k=2, a matching-based refinement: s ≥ (d−1)(d−2ℓ+1)/(d+2ℓ−2), implying δ^+ > (3ℓ + √(17ℓ^2−16ℓ+4))/2 suffices for S^-_{2,ℓ}. This is a rigorous improvement over Theorem 4.3’s constant and fixes the “maximality” step via a clean matching lemma.

# 1) Out-arborescence with δ+-common leaves: variable thresholds and sharp S_{k,ℓ}

Let P be a δ^+-common property with threshold d(P). For k≥1, ℓ≥2, define Γ(0)= {v: v satisfies P} and for 1≤i≤k,
Γ(i) = { v ∈ V(G): deg^+_{Γ(i−1)}(v) ≥ t_i }.
We choose thresholds
- Base: t_k := ℓ.
- For 1≤i≤k−1 (i measures “depth already built”):
  t_{k−i} := ℓ^{i+1} + ⌈(ℓ^{i+1}−1)/(ℓ−1)⌉.

Rationale. At depth i (0≤i≤k−1), we have |V(B_i)| = 1+ℓ+…+ℓ^i = (ℓ^{i+1}−1)/(ℓ−1) vertices already used. To extend, each of the ℓ^i current leaves must receive ℓ fresh, pairwise-disjoint children in Γ(k−i−1). Requiring, for every current leaf w, at least ℓ^{i+1} candidates after subtracting |V(B_i)| guarantees (by the simple one-by-one greedy across the ℓ^i leaves) disjoint ℓ-sets at this depth. This yields the stated t_{k−i}.

Lemma 1 (Level-set contradiction with variable thresholds).
If δ^+(G) ≥ d(P) + ∑_{i=1}^k t_i, then Γ(k)≠∅.

Proof sketch. Exactly as in the lexicographic partition proof in Theorem 3.4: for z the minimal nonempty class and W=⋃_{i: z_{i+1}=0} Γ(i), every v∈V_z satisfies deg^+_W(v) < ∑_{i: z_{i+1}=0} t_{i+1}. If z≠⃗0 this contradicts δ^+(G). If z=⃗0, then δ^+(G[X]) ≥ d(P) on X=V_{⃗0}, hence some x∈X satisfies P (by anti-monotonicity), contradicting x∈X.

Lemma 2 (Greedy construction with the new thresholds).
From any v∈Γ(k) we construct B_0={v}, and inductively B_{i+1} by assigning ℓ disjoint children in Γ(k−i−1) to each leaf of B_i, avoiding V(B_i). This is feasible because for i≥1 we ensured t_{k−i}−|V(B_i)| ≥ ℓ^{i+1}, and for i=0 the base threshold t_k=ℓ suffices.

Theorem A (Refined Theorem 3.4).
If δ^+(G) ≥ d(P) + T_{k,ℓ}, where
T_{k,ℓ} := t_k + ∑_{i=1}^{k−1} t_{k−i} = ℓ + ∑_{i=1}^{k−1} [ℓ^{i+1} + ⌈(ℓ^{i+1}−1)/(ℓ−1)⌉],
then G contains a copy of B^+_{k,ℓ} whose leaves all satisfy P.

Sharp bound on T_{k,ℓ}.
Compute S_1=∑_{i=1}^{k−1} ℓ^{i+1}=(ℓ^{k+1}−ℓ^2)/(ℓ−1), and S_2=∑_{i=1}^{k−1} ⌈(ℓ^{i+1}−1)/(ℓ−1)⌉ ≤ (ℓ^{k+1}−ℓ^2)/(ℓ−1)^2 + O(k). Hence
T_{k,ℓ} ≤ ℓ + (ℓ^{k+1}−ℓ^2)/(ℓ−1) + (ℓ^{k+1}−ℓ^2)/(ℓ−1)^2 + O(k)
= (ℓ^2/(ℓ−1)^2)·ℓ^k + O(ℓ^k) + O(k).
In particular, T_{k,2} = 4·2^k − k − 5 (exact), and for ℓ≥3, T_{k,ℓ} ≤ (ℓ^2/(ℓ−1)^2 + o(1))·ℓ^k.

Example (ℓ=2, k=3): t_3=2, t_2=4+3=7, t_1=8+7=15. Sum T_{3,2}=24, versus the paper’s 2kℓ^k=48.

# 2) Improved ray packing for T(k,ℓ)

Let B be a copy of B^+_{k,ℓ} with leaf set L (|L|=ℓ^k). For each w∈L, let S(w)≅S^-_{k,h} be a subgraph with centre w. To extract disjoint S′(w)≅S^-_{k,ℓ} attached at each w, it suffices that, for every w,
#usable rays in S(w) ≥ ℓ.
Each previously used vertex blocks at most one ray in S(w). At the moment of choosing S′(w):
- B contributes at most |V(B)|−1 blocked rays, where |V(B)|=(ℓ^{k+1}−1)/(ℓ−1).
- The union of already chosen S′(w′), w′≠w, contributes at most kℓ·(|processed leaves|) ≤ kℓ(ℓ^k−1) blocked rays.
Hence ≤ kℓ^{k+1} + (ℓ^{k+1}−1)/(ℓ−1) − (kℓ+1) rays are blocked in total, and it suffices to require
h ≥ kℓ^{k+1} + (ℓ^{k+1}−1)/(ℓ−1) + ℓ.
This improves both 3kℓ^{k+1} and kℓ^{k+1}+2ℓ^k+ℓ (since (ℓ^{k+1}−1)/(ℓ−1) ≤ (ℓ/(ℓ−1))ℓ^k ≤ 1.5ℓ^k for ℓ≥3, and equals 2ℓ^k−1 for ℓ=2).

Corollary B (Refined Theorem 3.6).
Let h := kℓ^{k+1} + (ℓ^{k+1}−1)/(ℓ−1) + ℓ. If δ^+(G) ≥ f(k,h) + T_{k,ℓ} (with T_{k,ℓ} from Theorem A and P= “centre of S^-_{k,h}”), then G contains T(k,ℓ).

# 3) k=2 spiders via matching: a rigorous linear bound

We refine Theorem 4.3 using a maximum matching in the predecessor bipartite graph and exact “distinct-vertex” counting of 2-edge paths.

Setup. Let G=(V,E) be a digraph with deg^+(v)≡ d, and let A={v: deg^-(v)≥2ℓ}, B=V\A. As in the paper, if ∃ r∈A with deg^-_A(r)≥2ℓ, we greedily embed S^-_{2,ℓ}. Otherwise, deg^-_A(·)≤2ℓ−1 on A.

Counting 2-edge directed paths with distinct vertices:
|A→V→V| ≥ |A|·d(d−1) (from each a∈A pick x∈N^+(a), then y∈N^+(x)\{a}).
|A→A→V| ≤ e(G[A])·(d−1) ≤ (2ℓ−1)|A|(d−1).
|B→B→V| ≥ e(G[B])(d−1), and |V→B→B| ≤ e(G[B])(2ℓ−1).
Therefore
|V→B→A| ≥ |A|(d−1)(d−2ℓ+1) + e(G[B])(d−2ℓ) ≥ |A|(d−1)(d−2ℓ+1).
By averaging, ∃ a∈A with
t:=|V→B→{a}| ≥ (d−1)(d−2ℓ+1).

Matching step (fixes the “maximality” gap). In the bipartite graph H with left part L=V\{a} and right part R=N^-_B(a), let M be a maximum matching, R_M the matched right vertices, and L_M their left mates; set S:=R_M, Q:=L_M, s=|S|. Standard matching fact: there are no edges from unmatched left vertices L\L_M to unmatched right vertices R\R_M; hence every edge into R\S comes from Q. Consequently, the 2-edge paths V→(B\S)→{a} all start in Q.

Upper bounding t using S and Q:
- Paths via S: |V→S→{a}| ≤ ∑_{b∈S} deg^-(b) ≤ (2ℓ−1)s.
- Paths via B\S: each q∈Q has deg^+_{B\S}(q) ≤ d−1 (it has ≥1 edge to S, namely its matched edge), so |Q→(B\S)→{a}| ≤ s(d−1).
Thus t ≤ (2ℓ−1)s + s(d−1) = s(d+2ℓ−2).
Combining with t ≥ (d−1)(d−2ℓ+1) gives
s ≥ (d−1)(d−2ℓ+1)/(d+2ℓ−2).
In particular, if s≥ℓ then G contains S^-_{2,ℓ}.
Solving s≥ℓ yields
δ^+ > (3ℓ + √(17ℓ^2−16ℓ+4))/2.

Remarks.
- This strictly improves Theorem 4.3’s coefficient ((3+√17)/2)ℓ, with an O(1) additive savings (≈4/√17) on d.
- The matching lemma used above (neighbors of unmatched right vertices lie in the matched left set) is standard: otherwise there is an augmenting path, contradicting maximality.

# Obstacles
- The main bottleneck in Corollary B remains f(k,h) for S^-_{k,h}. Any polynomial-in-h bound (for fixed k) would sharply lower δ^+ thresholds.
- Our greedy per-depth construction incurs the exact term ⌈(ℓ^{i+1}−1)/(ℓ−1)⌉. A global selection (matching/nibble) across all ℓ^i leaves at depth i should improve T_{k,ℓ} to (1+o_ℓ(1))·ℓ^k, but needs a carefully controlled Hall/LLL argument.
- Similarly, one can likely lower h to (1+o(1))·kℓ^{k+1} by globally packing the S(w) rays.

# Next steps (auditable targets)
- Formalize the global matching at a fixed depth i using “leaf-clones” and a Hall deficit calculation to replace ⌈(ℓ^{i+1}−1)/(ℓ−1)⌉ by o(ℓ^{i+1}).
- Seek a polynomial bound for f(k,h) via expansion layers and pruning; even h^{O(k)} would substantially improve Corollary B.
- For k=2, combine the matching framework with a second-moment bound on |V→B→{a}| to try to replace d−1 by d in the numerator while keeping d−1 in the denominator, aiming at δ^+ ≥ ((3ℓ−1)+√(17ℓ^2−10ℓ+1))/2.

# Checks for the verifier
- Theorem A’s lexicographic proof and depth-greedy extension with thresholds t_i as above; confirm base case i=0 uses t_k=ℓ.
- Exact bound T_{k,2}=4·2^k−k−5; and for ℓ≥3, T_{k,ℓ} ≤ (ℓ^2/(ℓ−1)^2+o(1))·ℓ^k.
- Ray packing bound h ≥ kℓ^{k+1} + (ℓ^{k+1}−1)/(ℓ−1) + ℓ.
- Matching lemma and the inequality s ≥ (d−1)(d−2ℓ+1)/(d+2ℓ−2), with the quadratic threshold stated above.



=== Prover 3 Output ===

Ideas

- Refine the “outstar with δ+-common leaves” theorem by using level-dependent thresholds t_i tuned to the actual deficit at stage i. This removes the linear-in-k factor from the additive δ+ term, replacing 2kℓ^k by a sum S_{k,ℓ} = Θ(ℓ^{k+1}) (hence no factor k), and yields a clean, auditable computation.
- Give a careful ray-packing lemma to reduce the h used in T(k,ℓ)-embedding to h* = kℓ^{k+1} + 2ℓ^k + ℓ, improving 3kℓ^{k+1}.
- Repair the k = 2 spider proof via a maximum matching argument in the predecessor bipartite graph to establish a rigorous linear bound close to (3+√17)/2 · ℓ.

Result A (variable-threshold outstar with δ+-common leaves)

Statement. Let ℓ ≥ 2, k ≥ 1, and P be a δ+-common property with threshold d(P). Define Γ(0) = {v : v satisfies P}. For i = 1,…,k set
- t_i := ℓ^{k−i+1} + (ℓ^{k−i+1} − 1)/(ℓ − 1),
- Γ(i) := {v : deg^+_{Γ(i−1)}(v) ≥ t_i}.
Let S_{k,ℓ} := ∑_{i=1}^k t_i. If δ^+(G) ≥ d(P) + S_{k,ℓ}, then G contains a copy B of B^+_{k,ℓ} such that all leaves of B satisfy P in G.

Quantitative bound. Writing |V(B_i)| = 1 + ℓ + … + ℓ^i = (ℓ^{i+1} − 1)/(ℓ − 1), we compute
S_{k,ℓ} = ∑_{i=0}^{k−1} [ℓ^{i+1} + (ℓ^{i+1} − 1)/(ℓ − 1)]
= (ℓ^{k+1} − ℓ)/(ℓ − 1) + (ℓ^{k+1} − ℓ)/(ℓ − 1)^2 − k/(ℓ − 1)
≤ (ℓ/(ℓ − 1)^2) · ℓ^{k+1}.
In particular, the additive δ+ term is Θ(ℓ^{k+1}), with no linear factor k.

Proof (sketch with checkable steps).
- Non-emptiness of Γ(k): Use the same lexicographic partition z(v) ∈ {0,1}^{k+1} and W = ⋃_{i: z_{i+1}=0} Γ(i) as in the paper. If Γ(k) = ∅, pick z minimal with V_z ≠ ∅. For v ∈ V_z, for each i with z_{i+1} = 0, we have v ∉ Γ(i+1), hence deg^+_{Γ(i)}(v) < t_{i+1}. Summing over i gives deg^+_W(v) < ∑_{i∈I} t_{i+1} ≤ S_{k,ℓ}. If z ≠ 0, then W = V and δ^+(G) ≤ deg^+_W(v) < S_{k,ℓ}, contradicting δ^+(G) ≥ d(P) + S_{k,ℓ}. If z = 0, then for any v ∈ X = V_{0}, deg^+_X(v) ≥ δ^+(G) − S_{k,ℓ} ≥ d(P); by antimonotonicity, Γ(0) ≠ ∅, contradicting z = 0. So Γ(k) ≠ ∅.
- Greedy construction of B: start from v ∈ Γ(k) and build B_i inductively. At stage i, the set of leaves L has size |L| = ℓ^i and lies in Γ(k−i). For w ∈ L, since w ∈ Γ(k−i), deg^+_{Γ(k−i−1)}(w) ≥ t_{i+1} = ℓ^{i+1} + |V(B_i)|. After excluding the |V(B_i)| used vertices, each w has at least ℓ^{i+1} available neighbours in Γ(k−i−1) \ V(B_i). A simple packing (place ℓ children per w, processing the w’s arbitrarily) succeeds because when placing the j-th ℓ-set, at most (j−1)ℓ ≤ ℓ^{i+1} − ℓ of the available neighbours are already used, leaving ≥ ℓ fresh choices. Thus B_{i+1} exists with leaves in Γ(k−i−1). After k steps, B_k = B has leaves in Γ(0), i.e., all leaves satisfy P in G.

Lemma B (ray packing for T(k,ℓ))

Statement. Let L be a set of ℓ^k vertices, and for each w ∈ L let S(w) ≅ S^-_{k,h} be a spider whose center is w. Suppose we have a fixed copy B ≅ B^+_{k,ℓ} with leaf set L. If
h ≥ |V(B)| + (|L|−1)·kℓ + ℓ,
then one can choose subspiders S′(w) ⊆ S(w), each isomorphic to S^-_{k,ℓ}, such that the S′(w) are pairwise vertex-disjoint and disjoint from B except at their centers.

Proof. Process w ∈ L arbitrarily. At the moment of choosing S′(w), the occupied vertices lie in B and in at most |L|−1 previously chosen S′(·). Inside S(w), any vertex besides w lies on exactly one ray; hence each occupied vertex blocks at most one ray of S(w). Since |V(B)| ≤ (ℓ^{k+1}−1)/(ℓ−1) ≤ 2ℓ^k for ℓ ≥ 2, and each chosen S′(·) contributes kℓ non-centers, at most |V(B)| + (|L|−1)·kℓ rays are blocked. If h ≥ |V(B)| + (|L|−1)·kℓ + ℓ, then at least ℓ rays remain to form S′(w). Disjointness follows by construction.

Corollary C (quantitative T(k,ℓ)-embedding). Let h* := kℓ^{k+1} + 2ℓ^k + ℓ. If G has δ^+(G) ≥ f(k,h*) + S_{k,ℓ}, then G contains T(k,ℓ). Proof: apply Result A with P = “center of S^-_{k,h*}”, then Lemma B with |L| = ℓ^k and |V(B)| ≤ 2ℓ^k.

Result D (k = 2 spiders via maximum matching)

Statement. Let ℓ ≥ 1 and G be a digraph with δ^+(G) = d. Then there is a vertex a with
|{2-paths V → B → a}| ≥ d(d − 2ℓ),
where B = {v : deg^-(v) < 2ℓ}. For such a, let Y = N^-_B(a) and form the bipartite graph H between U = V \ {a} and Y with edge set {q ∈ U → b ∈ Y in G}. Let s be the size of a maximum matching in H. Then
s ≥ d(d − 2ℓ − 1)/(d + 2ℓ − 1).
In particular, if d satisfies d(d − 2ℓ − 1) ≥ ℓ(d + 2ℓ − 1), then G contains S^-_{2,ℓ}.

Proof. The lower bound |V → B → {a}| ≥ d(d − 2ℓ) is the paper’s inequality (averaging over a ∈ A). Every 2-path V → Y → a is of the form q → b → a with q ∈ V, b ∈ Y, so the total count W_total equals e(H) + deg^+_Y(a). By maximality of the matching M of size s, if Q ⊆ U and S ⊆ Y are the vertices of U,Y covered by M, then there are no edges between (U \ Q) and (Y \ S). Hence the total number of edges from U into Y \ S is at most ∑_{q∈Q} deg^+(q) ≤ s d. Also the number of edges from U into S is at most ∑_{b∈S} deg^-(b) ≤ (2ℓ − 1)s since S ⊆ B. Therefore
W_total ≤ s d + (2ℓ − 1)s + deg^+_Y(a) ≤ s(d + 2ℓ − 1) + d.
Combining with W_total ≥ d(d − 2ℓ) gives s ≥ [d(d − 2ℓ) − d]/(d + 2ℓ − 1) = d(d − 2ℓ − 1)/(d + 2ℓ − 1). Finally, any maximum matching of size s yields S^-_{2,s} by orienting q_i → b_i → a along the matching edges and the arcs b_i → a.

Consequences. Solving s ≥ ℓ gives the quadratic
d^2 − (2ℓ + 1)d − ℓ(2ℓ − 1) ≥ 0,
whose positive root is d ≥ ((3ℓ + 1) + √(17ℓ^2 + 2ℓ + 1))/2 = ((3 + √17)/2)ℓ + O(1). Thus this reasoning recovers a linear bound of the same asymptotic constant as in the paper, with a rigorous matching-based proof.

Examples and checks

- For ℓ = 2 and k arbitrary, S_{k,2} ≤ (2/(1)^2)·2^{k+1} = 2^{k+2} = 4·2^k, improving the paper’s additive 2k·2^k.
- Lemma B: For k = 1, B is an out-star of size ℓ+1 and |V(B)| = ℓ+1 ≤ 2ℓ; h* = ℓ + 2ℓ + ℓ = 4ℓ suffices to pick ℓ disjoint edges per center, consistent with the simple disjointness requirement.

Obstacles

- Pushing S_{k,ℓ} below Θ(ℓ^{k+1}) in the abstract δ+-common framework seems impossible by greedy alone: at depth i, one must reserve ℓ^{i+1} distinct children for ℓ^i leaves, imposing a per-level cost that sums to Θ(ℓ^{k+1}). Sharper constants may require a global semi-random selection across levels.
- For k = 2 spiders, the matching bound above essentially saturates the available degree information; improving the ~3.56 constant plausibly needs additional structure (e.g., strong restrictions on 2-cycles or better lower bounds on |V → B → a|).

Next steps

- Attempt a semi-random (nibble) selection across all frontier leaves at each level to replace the per-vertex requirement deg ≥ ℓ^{i+1} + |V(B_i)| by (1+ε)ℓ^{i+1} + o(ℓ^{i+1}), shaving constants in S_{k,ℓ}.
- Globalize ray packing: process S(w) in random order and assign rays via a matching in an auxiliary k-uniform hypergraph; Pippenger–Spencer-type results may reduce h from kℓ^{k+1} + O(ℓ^k) to (1+o(1))kℓ^{k+1} with explicit o(1).
- Investigate f(k,h) from Aboulker et al.: any polynomial bound in h (for fixed k) would make the reductions above quantitatively impactful for T(k,ℓ)-embedding.



=== Prover 4 Output ===

Ideas

- Correct and formalize the “outstar-with-δ+-common-leaves” improvement: give a rigorous version with a uniform threshold T = ℓ^k + ⌈(ℓ^k−1)/(ℓ−1)⌉, yielding an additive term kT = k(1+1/(ℓ−1))ℓ^k + O(k), which strictly improves the paper’s 2kℓ^k.
- Sharpen the “ray packing” step for T(k,ℓ): h ≥ kℓ^{k+1} + 2ℓ^k + ℓ suffices, reducing the paper’s 3kℓ^{k+1} by a factor ≈ 3.
- Repair and slightly improve the k=2 spider bound using a maximum-matching and 2-walk counting: s ≥ d(d−2ℓ+1)/(d+2ℓ−1), hence δ^+ > ((3ℓ−1)+√(17ℓ^2−10ℓ+1))/2 is sufficient.
- Point out a flaw in the “level-dependent thresholds give S_{k,ℓ}=Θ(ℓ^k)” note: the proposed schedule actually sums to Θ(ℓ^{k+1}); an independence-of-k bound appears to need a new (global) selection method.

Refined theorems and proofs

Lemma 1 (size bounds for B^+_{i,ℓ}). For 0≤i≤k: |V(B^+_{i,ℓ})| = ∑_{j=0}^{i} ℓ^j = (ℓ^{i+1}−1)/(ℓ−1). In particular, |V(B^+_{k,ℓ})| ≤ (ℓ^{k+1}−1)/(ℓ−1) ≤ 2ℓ^k for all ℓ≥2.

Proof. Standard geometric sum; the last inequality holds since ℓ^{k+1}−1 ≤ (2ℓ−2)ℓ^k for ℓ≥2.

Theorem 2 (Refined outstar-with-δ+-common-leaves). Let ℓ≥2, k≥1, and ℘ be a δ^+-common property with threshold d(℘). If δ^+(G) ≥ d(℘) + kT with T := ℓ^k + ⌈(ℓ^k−1)/(ℓ−1)⌉, then G contains a copy B of B^+_{k,ℓ} whose leaves all satisfy ℘.

Proof. Define Γ(0):= {v: v satisfies ℘}, and for i≥1 let Γ(i):= {v: deg^+_{Γ(i−1)}(v) ≥ T}. As in the paper’s lexicographic argument, suppose Γ(k)=∅ and let z be the ≺-minimal vector with V_z≠∅ and z_k=0. Set I:= {i∈{0,…,k−1}: z_{i+1}=0} and W:=⋃_{i∈I} Γ(i). Then V=W if z≠0⃗ and V=W∪X if z=0⃗. For v∈V_z, each i∈I gives v∉Γ(i+1), so deg^+_{Γ(i)}(v) < T. Summing over i∈I yields deg^+_W(v) < |I|·T ≤ kT. If z≠0⃗, then deg^+(v)=deg^+_W(v)<kT contradicts δ^+(G) ≥ d(℘)+kT ≥ kT. If z=0⃗, then deg^+_X(v) ≥ δ^+(G)−deg^+_W(v) > d(℘), so δ^+(G[X])≥d(℘), and by antimonotonicity, a vertex of X satisfies ℘ in G, contradicting z=0⃗. Hence Γ(k)≠∅.
Now greedily construct B_i (0≤i≤k) with leaves in Γ(k−i). Let B_0 be a vertex v∈Γ(k). For 0≤i≤k−1, suppose B_i is built; let L be its set of leaves, with |L|≤ℓ^i. For w∈L, deg^+_{Γ(k−i−1)\V(B_i)}(w) ≥ T−|V(B_i)| ≥ ℓ^k by Lemma 1 and the choice of T. Process leaves one by one; by the time we choose for the r-th leaf, at most rℓ ≤ |L|ℓ ≤ ℓ^{i+1} neighbours are used, leaving at least ℓ^k−ℓ^{i+1} ≥ ℓ choices. Pick ℓ fresh out-neighbours for each w; these sets are disjoint and form B_{i+1} with leaves in Γ(k−i−1). Induction gives B_k whose leaves lie in Γ(0), i.e., satisfy ℘.

Proposition 3 (Ray-packing for T(k,ℓ)). Let L be the ℓ^k leaves of an embedded B:=B^+_{k,ℓ}. Suppose each w∈L is the center of a copy S(w)≅S^-_{k,h} in G. If h ≥ kℓ^{k+1} + 2ℓ^k + ℓ, then one can choose disjoint S′(w)≅S^-_{k,ℓ} for all w∈L, with S′(w)∩B={w} and S′(w) pairwise disjoint.

Proof. At the moment of choosing S′(w), the forbidden vertex set F consists of V(B) and vertices in previously chosen S′(w′), w′≠w. We have |V(B)| ≤ (ℓ^{k+1}−1)/(ℓ−1) ≤ 2ℓ^k (Lemma 1), and each S′(w′) contributes exactly kℓ non-center vertices, so |F| ≤ 2ℓ^k + (|L|−1)kℓ ≤ 2ℓ^k + kℓ^{k+1}. In S(w), every vertex other than the center belongs to exactly one ray, while the center lies on all rays. Thus the number of rays hit by F is at most |F|+1 (the +1 accounts for the center). Therefore at least h − (|F|+1) ≥ ℓ rays remain, so we can take S′(w). Proceeding greedily over w∈L gives the disjoint family.

Corollary 4 (Improved T(k,ℓ) bound). Let h := kℓ^{k+1} + 2ℓ^k + ℓ. If δ^+(G) ≥ f(k,h) + k(ℓ^k + ⌈(ℓ^k−1)/(ℓ−1)⌉), then G contains T(k,ℓ).

Proof. Apply Theorem 2 with ℘ = “v is center of S^-_{k,h}” (d(℘)=f(k,h)), obtain B with leaves L, and then apply Proposition 3.

Theorem 5 (k=2 Giant Spiders; improved and repaired). Let ℓ≥1 and G a digraph with all out-degrees equal to d. If d > ((3ℓ−1)+√(17ℓ^2−10ℓ+1))/2, then G contains S^-_{2,ℓ}.

Proof. Partition V=A∪B with A={v: deg^−(v)≥2ℓ} and B=V\A (so deg^−(b)≤2ℓ−1 for b∈B). If some r∈A has deg^−_A(r)≥2ℓ, greedily build S^-_{2,ℓ} ending at r. Otherwise deg^−_A(v)≤2ℓ−1 for all v∈A. Consider 2-walks (ordered triples (x,y,z) with (x,y),(y,z)∈E). Then
|A→V→V| = |A| d^2,
|A→A→V| ≤ e(G[A]) d ≤ (2ℓ−1)d |A|,
|B→B→V| = e(G[B]) d,
|V→B→B| = ∑_{y∈B} deg^−(y)·deg^+_B(y) ≤ (2ℓ−1) e(G[B]).
Hence
|V→B→A| = |V→B→V| − |V→B→B| 
≥ (|A→V→V| − |A→A→V|) + |B→B→V| − |V→B→B|
≥ |A| d(d−2ℓ+1) + e(G[B])(d−(2ℓ−1))
≥ |A| d(d−2ℓ+1).
So there exists a∈A with |V→B→{a}| ≥ d(d−2ℓ+1). Form the bipartite graph H between L:=V\{a} and R:=N^-_B(a), with edges (q,b) whenever (q,b)∈E. Let M be a maximum matching, with matched sets Q⊆L and S⊆R, |M|=|Q|=|S|=:s. By maximality, every b∈R\S has N_H(b)⊆Q (otherwise we could augment M). Then
|V→S→{a}| = ∑_{b∈S} deg^−(b) ≤ (2ℓ−1) s,
|V→(R\S)→{a}| = ∑_{b∈R\S} deg^−(b) ≤ e(Q, R\S) ≤ ∑_{q∈Q} deg^+(q) = d s.
Therefore d(d−2ℓ+1) ≤ |V→B→{a}| ≤ (2ℓ−1)s + ds = (d+2ℓ−1)s, implying s ≥ d(d−2ℓ+1)/(d+2ℓ−1). If d exceeds the stated root, then s>ℓ and G contains S^-_{2,ℓ}.

Counterexample/limitation to “independent-of-k” additive term via local thresholds

- The schedule t_{k−i}=ℓ^{i+1}+⌈(ℓ^{i+1}−1)/(ℓ−1)⌉ (as proposed in the notes) actually sums to Θ(ℓ^{k+1}) over i=0,…,k−1:
S_{k,ℓ}=∑_{i=0}^{k−1} (ℓ^{i+1} + (ℓ^{i+1}−1)/(ℓ−1)) = Θ(ℓ^{k+1}). Thus δ^+ ≥ d(℘)+S_{k,ℓ} is not independent of k.
- More fundamentally, the current lexicographic-partition proof accumulates a per-level threshold across all k levels. Without a new global selection principle (e.g., a b-matching across all leaves at each expansion level, or a multi-layer flow/nibble), one cannot avoid the k-fold accumulation. Greedy, purely local-degree thresholds necessarily pay about |L|·ℓ = ℓ^{i+1} at level i to guarantee disjointness.

Examples

- Tightness of Proposition 3’s 2ℓ^k term: |V(B)| equals (ℓ^{k+1}−1)/(ℓ−1) which is between ℓ^k and 2ℓ^k for ℓ≥2. Thus replacing 2ℓ^k by |V(B)| marginally improves constants but not asymptotics.
- For Theorem 2, T cannot be below ℓ^k in general: construct at level i=k−1 a configuration where all ℓ^{k−1} leaves have identical neighborhood of size exactly ℓ^k in Γ(0)\V(B_{k−1}). Any selection must use all ℓ^k vertices. Hence deg^+ into Γ(0)\V(B_{k−1}) of size ≥ℓ^k is necessary for worst-case graphs.

Obstacles

- Eliminating the factor k in the additive term appears to require a global b-matching (demand ℓ per leaf) at each expansion step. A local-degree threshold alone cannot guarantee Hall’s condition for all subsets of leaves in adversarial graphs.
- Further improvements to the k=2 constant seem to require different decompositions or refined inequalities beyond the 2-walk/matching approach; the current method looks close to optimal within its template.

Next steps

- Develop a global b-matching framework per level: Given L (|L|=ℓ^i) and R=Γ(k−i−1)\V(B_i), find sufficient conditions (in terms of δ^+ and robust expansion of Γ-sets) ensuring existence of a b-matching of size ℓ per leaf. Target an additive overhead S_{k,ℓ} ≈ (1+o(1))ℓ^k instead of kℓ^k.
- Globalize ray packing: treat all S(w) simultaneously, seeking an allocation of ℓ rays per center that is globally disjoint with only h ≈ (1+o(1))kℓ^{k+1}. This becomes a packing problem of directed paths; consider flow or matroid intersection.
- Investigate improved bounds on f(k,h) in Proposition 3.2: extracting a polynomial-in-h dependence for fixed k would substantially reduce overall δ^+-thresholds.
- Check extremal constructions to calibrate constants and identify potential further constant-factor gains in Theorem 2’s T and Proposition 3’s h.

Summary of checkable advances

- Theorem 2: δ^+(G) ≥ d(℘) + k(ℓ^k + ⌈(ℓ^k−1)/(ℓ−1)⌉) ⇒ B^+_{k,ℓ} with all leaves satisfying ℘. Proof given in full detail.
- Proposition 3 + Corollary 4: h ≥ kℓ^{k+1} + 2ℓ^k + ℓ suffices to pack disjoint in-spiders at the leaves, yielding T(k,ℓ) under δ^+(G) ≥ f(k,h) + k(ℓ^k + ⌈(ℓ^k−1)/(ℓ−1)⌉).
- Theorem 5: Improved k=2 bound δ^+ > ((3ℓ−1)+√(17ℓ^2−10ℓ+1))/2 via a maximum matching and 2-walk counting; detailed proof provided.
- Clarified that the proposed “independent-of-k” S_{k,ℓ} in the notes does not follow from the stated threshold schedule; a different, global method would be needed to achieve that target.


=== Papers (text) ===

=== Paper Description (papers/paper1.txt) ===
paper that we will try to improve upon.

=== Paper (papers/paper1.txt) ===
\section{Introduction}\label{sec:intro}

One of the main focuses in the study of finite\footnote{All digraphs considered in this paper will be finite. For better readability we will keep it implicit.} directed graphs has been the investigation of properties of digraphs and oriented graphs of large minimum out-degree. For instance, the famous Caccetta-H\"aggkvist conjecture~\cite{caccetta1978minimal} states that every digraph $G$ of order $n$ with minimum out-degree $\delta^+(G)\geq d$ has a directed cycle of length at most $\lceil n/d \rceil$. A conjecture of Thomass\'e  (see~\cite{bang2008digraphs, sullivan2006summary}) claims that any oriented graph $G$ with $\delta^+(G)\geq d$ contains a directed path of length $2d$, and recently Cheng and Keevash~\cite{cheng2024length}, proved a lower bound of $3d/2$. The Bermond-Thomassen conjecture~\cite{bermond1981cycles} states that every digraph $G$ with $\delta^+(G)\geq 2d-1$ contains $d$ disjoint directed cycles. Alon~\cite{alon1996disjoint} and, more recently, Buci\'c~\cite{bucic2018improved} proved it with $2d-1$ replaced by $64d$ and $18d$, respectively. 

As quantitative bounds in many of these problems are hard to obtain or sometimes even to guess, it is natural to ask for a property of digraphs if it holds in all digraphs of \emph{sufficiently large} minimum out-degree. For example, Stiebitz~\cite{stiebitz1996decomposing} and, independently, Alon~\cite{alon2006splitting} asked whether for every $a, b \geq 1$ there exists $F(a, b)$ such that $\delta^+(G)\geq F(a,b)$ implies that $V(G)$ can be partitioned
into two non-empty parts $A$ and $B$ with $\delta^+(G[A])\geq a$ and $\delta^+(G[B])\geq b$. In a recent breakthrough, Christoph, Petrova and Steiner~\cite{christoph2023note} reduced this question to that of existence of $F(2,2)$.  

Mader~\cite{mader1995exixtence} conjectured the existence of a function $f$ so that $\delta^+(G)\geq f(k)$ implies that $G$ contains a subdivision of the transitive tournament of order $k$, and proved it for $k \leq 4$~\cite{Mader1996}. This sparked an interest in finding subdivisions of fixed digraphs in digraphs of large out-degree. Aboulker, Cohen, Havet, Lochet, Moura and Thomass\'e~\cite{aboulker1610subdivisions} defined a digraph $H$ to be \emph {$\delta^+$-maderian} if, for some value $d$, every $G$ with $\delta^+(G)\geq d$ contains a subdivision of $H$. In this terminology, Mader's conjecture states that every acyclic digraph is $\delta^+$-maderian. In support of this, the authors of~\cite{aboulker1610subdivisions} proved among other results that every in-arborescence (i.e. a tree with all edges oriented towards a designated
root vertex) is $\delta^+$-maderian. They also conjectured that every orientation of a cycle is $\delta^+$-maderian, and this was recently confirmed by Gishboliner, Steiner and Szab\'o~\cite{gishboliner2022oriented}.

In this paper we are asking which digraphs $H$ must be contained in all digraphs of sufficiently large minimum out-degree \emph{as subgraphs}. To our surprise, we were not able to find any previous systematic study of the topic, despite the question being natural. Note that orientations of each graph with a cycle can be avoided by taking a $2d$-regular connected unoriented graph of large girth, and orienting its edges via an Euler circuit. Hence, we may assume that $H$ is an orientation of a tree (or a forest, which again reduces to trees). 

\begin{definition}
An oriented tree $T$ is $\delta^+$-enforcible if there exists $d=d(T)$ such that every digraph $G$ with $\delta^+(G)\geq d$ contains $T$ as a subgraph.     
\end{definition}

\noindent
A simple greedy embedding certifies that every out-arborescence is $\delta^+$-enforcible. Much less obviously, by the aforementioned result of Aboulker et al.~\cite{aboulker1610subdivisions} on in-arborescences, every subdivision of the in-star is $\delta^+$-enforcible. We remark that it is \emph{not} true that every in-arborescence is $\delta^+$-enforcible, as will follow from our Theorem~\ref{thm:level}. Another known family of $\delta^+$-enforcible trees are the antidirected trees (that is, trees containing no directed path of length $2$). By a theorem of Burr~\cite{Burr_1982}, $\delta^+(G)\geq 4k$ implies that $G$ contains every antidirected $k$-edge tree as a subgraph.  

For an oriented tree $T$, its \emph{height function} $h_T\colon V(T)\rightarrow \mathbb{Z}$ is a function satisfying $h_T(v)=h_T(u)+1$ for every edge $(u,v)\in E(T)$. It is clear that the height function is well-defined and unique up to an additive constant. Since we will only care about the relative values of $h_T$ between the vertices of $T$, we will, slightly abusing the notion, speak of ``the height function $h_T$.''

\begin{definition}\label{def:grounded}
An oriented tree $T$ is \emph{grounded} if $h_T(v)$ is constant for all vertices $v$ of in-degree at least $2$.
\end{definition}

\noindent
Note that all the above examples of $\delta^+$-enforcible trees are grounded. We show that they have to be, and conjecture that this is an `if and only if' relationship.

\begin{theorem}\label{thm:level}
Every $\delta^+$-enforcible tree is grounded.
\end{theorem}
\begin{conjecture}[KAMAK tree conjecture\footnote{Named after the KAMAK 2024 workshop where the present work was initiated.}]\label{conj:KAMAK-tree}
Every grounded tree is $\delta^+$-enforcible. Hence, an oriented tree is $\delta^+$-enforcible if and only if it is grounded.     
\end{conjecture}
\noindent
In support of Conjecture~\ref{conj:KAMAK-tree}, we prove it for a fairly general class of trees. 
\noindent

\begin{figure}[htbp]
  \centering
  \includegraphics[scale=0.7]{fig_new_enforcible_trees.pdf}
  \caption{An example of a tree with the minimal subtree containing the set $U$ that is $\delta^+$-enforcible by Theorem~\ref{thm:groundedclass}.}
\end{figure}

\begin{theorem}\label{thm:groundedclass}
Suppose that $T$ is grounded and that the minimal subtree of $T$ containing the vertex set $U=\{v\in V(T): \deg^-(v)\geq 2\}$ is an out-arborescence. Then $T$ is $\delta^+$-enforcible.  
\end{theorem}

\begin{corollary}\label{cor:twosinks}
Every grounded tree with at most two vertices of in-degree at least $2$ is $\delta^+$-enforcible. 
\end{corollary}

\noindent
We remark that there has been a considerable body of past and recent work (\cite{jackson1981long, kathapurkar2022spanning, KLIMOSOVA2023113515, penev2025twoblockpathsorientedgraphs, skokan2024alternating}, see also~\cite{Stein_2024} for a survey) on finding oriented trees in digraphs and oriented graphs of large minimum \emph{semi-degree} $\delta^0(G)$, which is the minimum of all in- and out-degrees in $G$. The focus there is different, namely on explicit bounds on $\delta^0(G)$, as any fixed oriented tree can be greedily embedded into 
a digraph of sufficiently large minimum semi-degree. That being said, our last result deals with explicit bounds in the minimum out-degree setting. 

Let $\smkl$ be the $(k-1)$-subdivision of the in-star with $\ell$ leaves. An essential tool in our proof of Theorem~\ref{thm:groundedclass} is the existence of $\smkl$ in digraphs of large minimum out-degree $d$, established in~\cite{aboulker1610subdivisions}; an inspection of the proof shows that (in the proof) $d$ needs to be at least $\ell^{k!}$. In order to achieve better, perhaps even tight, quantitative bounds in Theorem~\ref{thm:groundedclass} and towards Conjecture~\ref{conj:KAMAK-tree}, it would be desirable to find tight out-degree bounds for the containment of $\smkl$. In this regard, we make the following conjecture.

\begin{conjecture}[Giant spider conjecture]
For every $k\geq 2$ and $\ell\geq 1$
\begin{enumerate}
    \item[(i)] any digraph $G$ with $\delta^+(G)\geq k\ell$ contains $\smkl$ as a subgraph.
    \item[(ii)] any oriented graph $G$ with $\delta^+(G)\geq k\ell/2$ contains $\smkl$ as a subgraph. 
\end{enumerate}
\end{conjecture} 

\noindent
These bounds would be tight, by the examples of the complete digraph and a regular tournament of order $k\ell$, respectively. 
Note that for $\ell=1$, when $\smkl$ is the path of length $k$, the first statement is the obvious greedy algorithm bound, while the second is Thomass\'e's conjecture~\cite{bang2008digraphs, sullivan2006summary}, mentioned earlier. Addressing the other `extreme' case $k=2$, we prove a linear bound.
\begin{theorem}\label{thm:linear_spiders}
For every $\ell\geq 1$, any digraph $G$ with $\delta^+(G)> \left(\frac{3+\sqrt{17}}{2}\right)\ell\approx 3.56\ell$ contains $S^-_{2,\ell}$ as a subgraph.
\end{theorem}

\noindent
The rest of the paper is structured as follows. In Section~\ref{sec:leveldconstr} we provide a construction proving Theorem~\ref{thm:level}. Section~\ref{sec:mainproof} contains the proof of our main result, Theorem~\ref{thm:groundedclass}. Finally, in Section~\ref{sec:spiders} we prove Theorem~\ref{thm:linear_spiders}. 

\noindent
\paragraph*{Notation.} Most of our notation is standard. $G=(V,E)$ denotes a \emph{digraph} (directed graph) with the vertex set $V$ and edge set $E\subseteq\{(u,v)\in V\times V: u\neq v\}$. That is, we do not allow loops and multiple copies of the same edge, but we do allow two edges in opposite directions between a pair of vertices. $G$ is an \emph{oriented graph} if between any two vertices there is at most one edge. 

An edge $(u,v)$ is considered oriented from $u$ to $v$. The \emph{in- and out-neighbourhoods} of a vertex $v\in V$ are defined as $N^-(v)=\{u\in V: (u,v)\in E\}$ and $N^+(v)=\{u\in V: (v,u)\in E\}$, respectively. The \emph{in- and out-degrees} of $v$ are $\deg^-(v)=\card{N^-(v)}$ and $\deg^+(v)=\card{N^+(v)}$, respectively. The \emph{minimum out-degree} in $G$ is $\delta^+(G)=\min\{\deg^+(v): v\in V\}$.
For a vertex set $W\subseteq V$ we use $G[W]$ to denote the subgraph of $G$ induced on $W$. Furthermore, for a vertex $v\in V$ we denote $N^-_W(v)=N^-(v)\cap W$, $\deg^-_W(v)=\card{N^-_W(v)}$, and similarly for $N^+_W(v)$ and $\deg^+_W(v)$. 

A \emph{directed path} is an orientation of an undirected path which can be traversed from one end to the other following the orientations of the edges. A \emph{subdivision} of a digraph $G$ introduces some new vertices on the edges of $G$ and replaces the edges with directed paths, inheriting the directions. A $k$-subdivision is the subdivision with $k$ new vertices for each edge. An \emph{oriented tree} is an orientation of an undirected tree. An \emph{in-arborescence}/\emph{out-arborescence} is an oriented tree in which all edges are oriented towards/away from a designated root vertex. By $B^+_{k,\ell}$ we denote the $\ell$-branching out-arborescence of depth $k$, i.e. the complete $\ell$-ary tree of depth (distance from the root to the leaves) $k$ oriented away from the root.
An \emph{in-star}/\emph{out-star} is the orientation of an undirected star towards/away from its centre. We denote by $\smkl$ the $(k-1)$-subdivision of the in-star with $\ell$ leaves, and the directed paths from the leaves of $\smkl$ to its centre are referred to as the \emph{rays}.\section{The level digraph construction}\label{sec:leveldconstr}

In this section we prove that every $\delta^+$-enforcible tree must be grounded. 

\begin{definition}
    A \emph{level digraph} $G_{k,d} = (V,E)$ is the digraph with the vertex set
\[
V = \{ v_{i,j} : 0 \le i \le k, \ 1 \le j \le d^{i+1} \},
\]
and the edge set
\[
E = \biggl( \bigcup_{i=0}^{k-1} E_{i,i+1} \biggr) \cup E_{k,0},
\]
where, for \(0 \le i < k\), 
\[
E_{i,i+1} = \Bigl\{ ( v_{i,j}, v_{i+1,(j-1)d + \ell}) : 1 \le j \le d^{i+1},\; 1 \le \ell \le d \Bigr\},
\]
and
\[
E_{k,0} = \Bigl\{ (v_{k,j},\, v_{0,\ell}) : 1 \le j \le d^{k+1},\; 1 \le \ell \le d \Bigr\}.
\]

\end{definition}

In other words, to construct $G_{k,d}$ we take $d$ disjoint copies of $B^+_{k,d}$ and add the edges from every leaf to every root.

\begin{figure}[htbp]
  \centering
  \includegraphics[scale=0.8]{fig_level_graph.pdf}
  \caption{The level digraph \(G_{3,2}\).} 
\end{figure}

\begin{observation}\label{obs:level_graph}
    In $G_{k,d} = (V,E)$ for all $v \in V$ we have: 
    \begin{itemize}
        \item $ \deg^+(v) = d$. 
        \item \begin{flushleft}
        $\displaystyle
        \deg^-(v)=
        \begin{cases}
          d^{k+1}, & \text{if } v = v_{0,j} \text{ for  some } 1 \le j \le d, \\
          1, & \text{otherwise}.
        \end{cases}$
        \end{flushleft}
     \end{itemize}
\end{observation}

\begin{proof}[Proof of Theorem~\ref{thm:level}]    
       
    Let $T$ be a $\delta^+$-enforcible tree. We aim to show that $T$ is grounded, i.e., the height function $h_T$ is constant on $U = \{v \in V(T) : \deg^-(v)\ge 2\}$. Let us assume that $U\neq \emptyset$, else $T$ is trivially grounded.
    Since $T$ is $\delta^+$-enforcible, there exists $d = d(T)$ such that every digraph $G$ with $\delta^+(G) \ge d$ contains $T$ as a subgraph. In particular, $G=G_{2t, d}=(V,E)$, where $t = \card{V(T)}$, contains $T$ as a subgraph, and let $\phi: T\rightarrow G$ be a witnessing embedding. For each $0 \le i \le 2t $, set $L_i = \{v_{i,j}  \in V\, \colon \, 1 \le j \le d^{i+1}\}$.  
    
    By Observation~\ref{obs:level_graph}, a vertex of $G$ has in-degree more than $1$ if and only if it belongs to $L_0$. Therefore $\phi(U)\subseteq L_0$, and in particular, $\phi(T)\cap L_0\neq \emptyset$. This implies $\phi(T)\cap L_t=\emptyset$, as $t=\card{V(T)}$ and the edges in $G$ are between $L_i$ and $L_{i+1}$ modulo $2t+1$.  So $\phi$ embeds $T$ in $G[V\setminus L_{t}]$. Note now that $G[V\setminus L_{t}]$ has a well-defined height function $\psi(v_{i,j})=i$ (equivalently, $G[V\setminus L_{t}]$ is homomorphic to a directed path), so $\psi \circ \phi$ is a height function of $T$ which is constant on $U$. Hence, $T$ is grounded.
\end{proof}\section{\texorpdfstring{A new family of $\delta^+$-enforcible trees}{A new family of δ+-enforcible trees}}\label{sec:mainproof}

In this section we prove Theorem~\ref{thm:groundedclass}.
Let $T$ be a tree satisfying the assumptions of Theorem~\ref{thm:groundedclass}, and let $T^*$ be its subtree obtained by iteratively removing leaves of in-degree $1$ until none remain. Note that every vertex of $T^*$ has the same in-degree in $T^*$ as in $T$, in particular, $U(T^*) = U(T)$. Hence, $T^*$ satisfies the assumptions of Theorem~\ref{thm:groundedclass}. On the other hand, if $T^*$ is $\delta^+$-enforcible then so is $T$, by a greedy embedding. Thus it suffices to prove that $T^*$ is $\delta^+$-enforcible. Furthermore, if $\card{U(T)}=\card{U(T^*)} = 0$, then $T^*$ is a single vertex, which is trivially $\delta^+$-enforcible, and if $\card{U(T)}=\card{U(T^*)} = 1$, then $T^*$ is a subdivision of an in-star, which is also $\delta^+$-enforcible, as was shown in~\cite{aboulker1610subdivisions} (see Proposition~\ref{prop:abetal} below). Hence, relabelling, we may assume that $T$ does not have any leaf of in-degree $1$ and that $U = U(T)$ is of size at least $2$. 

Let $T'$ be the minimal subtree of $T$ containing $U$. By our assumption, $T'$ is an out-arborescence, and let $r$ be its root vertex. Since $|U|\geq 2$ and $T$ is grounded we have $r\notin U$. Moreover, since $T$ is grounded and $h_T$ must extend $h_{T'}$, the latter must be constant on the vertices of $U$. By the minimality of $T'$, $U$ must be the set of leaves of $T'$. 

Recall that $S^-_{k,\ell}$ is the $(k-1)$-subdivision of the in-star with $\ell$ leaves and $B^+_{k,\ell}$ is the $\ell$-branching out-arborescence of depth $k$.
Let $T(k,\ell)$ denote the oriented tree created from $B^+_{k,\ell}$ by identifying each leaf with the centre of a new copy of $S^-_{k,\ell}$.

\begin{lemma}\label{lem:inarb}
$T$ is a subgraph of $T(k,\ell)$ for some sufficiently large $k$ and $\ell$. 
\end{lemma}
\begin{proof}
By definition of $T'$, every vertex $v \in V(T) \setminus V(T')$ has $\deg^-(v) \leq 1$.
Moreover, it has $\deg^+(v) \leq 1$, as otherwise $T$ would contain a leaf of in-degree $1$.
Therefore, $T \setminus T'$ is a collection of vertex disjoint paths $\mathcal{F}$, each of which is directed towards $T'$.
Since each $v'\in V(T')\setminus\{r\}$ has an in-neighbour in $T'$, the paths in $\mathcal{F}$ can only connect to $T'$ via $r$ or a vertex of $U$.
Moreover, the former holds for at most one path $P_r\in \mathcal{F}$.

It follows that the subtree of $T$ induced by $V(T') \cup V(P_r)$ (with $P_r$ possibly empty) is an out-arborescence and can be embedded in $B^+_{k,\ell}$ for some sufficiently large $k$ and $\ell$ such that $U$, the set of leaves of $T'$, maps to the leaves of $B^+_{k,\ell}$.
The remaining paths in $\mathcal{F}$ can be naturally grouped into disjoint in-stars, centred in the vertices of $U$. Increasing the values $k,\ell$ if necessary, we obtain that $T$ is a subgraph of $T(k,\ell)$.
\end{proof}
\noindent
Consequently, in order to prove Theorem~\ref{thm:groundedclass}, it is enough to consider the trees $T = T(k,\ell)$. We now recall the following result from~\cite{aboulker1610subdivisions}, which will play a crucial rule in our proof.  

\begin{proposition}[\cite{aboulker1610subdivisions}]\label{prop:abetal}
There exists a function $f(k,\ell)$ such that every digraph $G$ with $\delta^+(G)\geq f(k,\ell)$ contains $S^-_{k,\ell}$ as a subgraph.     
\end{proposition}

\noindent
Note that the graph $T(k,1)$ is isomorphic to $S^-_{k,2}$, which is known to be $\delta^+$-enforcible by Proposition~\ref{prop:abetal}.
Therefore, we may assume that $\ell \geq 2$.
We shall prove the following quantitative form of Theorem~\ref{thm:groundedclass}.\footnote{For clarity of presentation, we do not attempt to optimise the bounds.}

\begin{theorem}\label{thm:supergraph_of_normalized}
    Let $k \geq 1, \ell \geq 2$. Any digraph $G$ with $\delta^+(G) \geq f(k,3k\ell^{k+1})+2k\ell^k$ contains $T(k,\ell)$ as a subgraph.
\end{theorem}
\noindent
In fact, we shall prove a more general theorem stating that if $\delta^+(G)$ is sufficiently large, then $G$ contains a copy of $B^+_{k,\ell}$ whose leaves satisfy any \emph{$\delta^+$-common} vertex property. 

\begin{definition}\label{def:common_property}
    Let $\Pro$ be a vertex property in digraphs.
    We say that $\Pro$ is \emph{$\delta^+$-common} if
    \begin{enumerate}[label=(\roman*)]
        \item there is $d = d(\Pro)$ such that every digraph $G$ with $\delta^+(G) \geq d$ contains a vertex satisfying $\Pro$,
        \item $\Pro$ is anti-monotone.
        That is, if $H$ is a subgraph of $G$ and a vertex $v \in V(H)$ satisfies $\Pro$ in $H$, then $v$ satisfies $\Pro$ in $G$.
    \end{enumerate}     
\end{definition}
\noindent
A trivial example of a $\delta^+$-common property is ``$v$ is a vertex.''
A far less trivial (and important for us) $\delta^+$-common property is ``$v$ is the centre of a copy of $S^-_{k,\ell}$.''

\begin{theorem}\label{thm:outstar_with_leaves_property}
    Let $\Pro$ be a $\delta^+$-common property, $k \geq 1, \ell \geq 2$, and let $G$ be a digraph with $\delta^+(G) \geq d(\Pro)+2k\ell^k$. Then $G$ contains a copy $B$ of $B^+_{k,\ell}$ such that all leaves of $B$ satisfy $\Pro$ in $G$.
\end{theorem}
\noindent
Theorem~\ref{thm:supergraph_of_normalized} is a direct corollary of Theorem~\ref{thm:outstar_with_leaves_property}. 
\begin{proof}[Proof of Theorem~\ref{thm:supergraph_of_normalized}]
    Let $h=3k\ell^{k+1}$ and $\Pro$ be the property ``$v$ is the centre of a copy of $S^-_{k,h}$.'' By Proposition~\ref{prop:abetal}, $\Pro$ is $\delta^+$-common with $d(\Pro)=f(k,h)$. 
    Hence, $\delta^+(G) \geq d(\Pro)+2k\ell^k$ and we can apply Theorem~\ref{thm:outstar_with_leaves_property} to find in $G$ a copy $B$ of $B^+_{k,\ell}$, with the set of leaves $L$ of size $\ell^k$, such that each $w\in L$ satisfies $\Pro$ in $G$.
    
    So, each $w\in L$ is the centre of $S(w)$, a copy of $S^-_{k,h}$ in $G$.
    Now, take greedily from each $S(w)$ a subgraph $S'(w)$, a copy of $S^-_{k,\ell}$, such that all $S'(w)$ are disjoint from each other, and each $S'(w)$ is disjoint from $B$ save for $w$ --- together, $B$ and $\{S'(w):w\in L\}$ form a copy of $T(k,\ell)$ in $G$.
    This is possible since, when choosing $S'(w)$, the union of $B$ and all previously chosen $S'(w')$ contains at most 
    \[
        \card{V(B)} + \card{L} k\ell\leq 2\ell^k+k\ell^{k+1}
    \]
    vertices.
    Since each of them, except $w$, belongs to at most one ray of $S(w)$, there remain at least 
    \[
        h - 2\ell^k - k \ell^{k+1} \geq \ell
    \]
    rays of $S(w)$ that may be used to form $S'(w)$. 
\end{proof}

\begin{proof}[Proof of Theorem~\ref{thm:outstar_with_leaves_property}]
    Let $G=(V,E)$. We will inductively define vertex sets $\Gamma(0), \dots, 
    \Gamma(k)\subseteq V$ that will guide our construction of the subgraph $B$.
    To do so, we define
    \begin{align*}
        \Gamma(0) &= \{ v \in V : \text{$v$ satisfies $\Pro$} \}, \\
        \Gamma(i) &= \{ v \in V : \deg^+_{\Gamma(i-1)}(v) \geq 2\ell^k \}\text{ for $1\leq i \leq k$.}
    \end{align*}
    \noindent
    The significance of the sets $\Gamma(i)$ is given by the following claim.
    
    \begin{claim}\label{claim:Gamma(k)_nonempty_implies_win}
    $\Gamma(k)\neq \emptyset$.
    \end{claim}
    Assuming Claim~\ref{claim:Gamma(k)_nonempty_implies_win}, we conclude the proof of Theorem~\ref{thm:outstar_with_leaves_property} as follows. Take some vertex $v\in \Gamma(k)$.
    We construct $B$ greedily from $v$ as the root.       
    For $i=0,\dots,k$ we will inductively construct $B_i$, a copy of $B^+_{i,\ell}$ in $G$, such that the leaves of $B_{i}$ (resp.~the single vertex of $B_0$) belong to $\Gamma(k-i)$.
    In particular, the leaves of $B_k$, a copy of $B^+_{k,\ell}$ in $G$, will satisfy $\Pro$ as they will belong to $\Gamma(0)$, so we can take $B=B_k$.
    
    To construct the trees $B_i$, set $B_0 = \{v\}$ and define $B_1$ to be an out-star with $v$ as the centre and $\ell$ of its out-neighbours in $\Gamma(k-1)$, which exist since $\deg^+_{\Gamma(k-1)}(v) \geq 2\ell^k > \ell$, as leaves.
    Now suppose we have constructed the tree $B_i$ for some $1\leq i \leq k-1$, and let  $L \subseteq \Gamma(k-i)$ be the set of its leaves.
    We have 
    \[
        \card{V(B_i)} = \sum_{j=0}^{i} \ell^j\leq 2\ell^{k-1},
    \]
    while $\deg^+_{\Gamma(k-i-1)}(w) \geq 2\ell^k$ for each $w\in L$. Hence, every $w\in L$ has at least $\ell^k$ neighbours in  $\Gamma(k-i-1)\setminus V(B_i)$. Since $\card{L} \leq \ell^{k-1}$, we can greedily choose for each $w\in L$ a set of $\ell$ out-neighbours in $\Gamma(k-i-1)\setminus V(B_i)$, such that the resulting sets are pairwise disjoint. These sets together with $B_i$ form a copy of $B_{i+1,\ell}^+$ in $G$, whose leaves belong to $\Gamma(k-i-1)$. We take this tree to be $B_{i+1}$.
\end{proof}
  
It remains to prove Claim~\ref{claim:Gamma(k)_nonempty_implies_win}. To this end, we partition the vertices of $G$ according to their presence in the sets $\Gamma(i)$.
That is, for a vertex $v\in V$ and an integer $0\leq i\leq k$, let $z_i(v)=1$ if $v\in \Gamma(i)$, and $z_i(v)=0$ otherwise, and let  $z(v) =(z_0(v),\dots,z_k(v))$. Conversely, for a vector $z =(z_0,\dots,z_k)\in \{0,1\}^{k+1}$ we set
\[
    V_z = \{ v \in V : z=z(v) \}
    .
\]
In this notation, Claim~\ref{claim:Gamma(k)_nonempty_implies_win} states that $V_z\neq \emptyset$ for some $z=(z_0,\dots,z_k)$ with $z_k = 1$.

Denote by $\prec$ the lexicographic ordering on $\{0,1\}^{\{0,\dots,k\}}$.
That is, for two vectors $z=(z_0\dots,z_k)$ and $z'=(z'_0,\dots,z'_k)$, we write $z \prec z'$ if there is an index $0\leq i \leq k$ such that $z_i = 0, z'_i = 1$ and $z_j = z'_j$ for all $j > i$.
We highlight the following property of the ordering.
\begin{observation}\label{obs:lex_order_property}
    If $z' \succ z$ and $z'_k = 0$, then there is an index $ i \leq k-1$ such that $z'_i = 1$ and $z_{i+1} = 0$.
\end{observation}
\noindent
We denote by $\vec{0}$ the all-zero vector $\vec{0} \in \{0,1\}^{k+1}$, and put $X=V_{\vec{0}}=V\setminus\bigcup_{i=0}^k\Gamma(i)$.

\begin{proof}[Proof of Claim~\ref{claim:Gamma(k)_nonempty_implies_win}]
    Suppose for a contradiction that $\Gamma_k=\emptyset$, or equivalently, 
    $V_{z'}=\emptyset$ for all $z'=(z'_0,\dots,z'_{k-1},1)$. Let $z =(z_0,\dots,z_k)$ be the $\prec$-smallest vector such that $V_z \not= \emptyset$; by the above assumption we have $z_k=0$. Let 
    \[
        I=\Big\{i \in \{0,\dots, k-1\}: z_{i+1}=0\Big\} \ \ \text{and} \ \
        W=\bigcup_{i\in I}\Gamma(i).
    \]
    We claim that
    \begin{align*}
        V =
        \begin{cases}
            W        &\text{ if } z \not= \vec{0},\\
            W \cup X &\text{ if } z = \vec{0}.
        \end{cases}
    \end{align*}
    Indeed, $\{V_{z'}:z'\in \{0,1\}^{k+1}\}$ is a partition of $V$, and for a vector $z'=(z'_0,\dots,z'_k)$, we have the following options:
    \begin{enumerate}[label=(\roman*)]
        \item if $z'_k = 1$, then $V_{z'} = \emptyset$ by assumption,
        \item if $z' \prec z$, we have $V_{z'} = \emptyset$ by the minimality of $z$,
        \item if $z' \succ z$ and $z'_k = 0$, then, by Observation~\ref{obs:lex_order_property}, for some $0\leq i \leq k-1$ we have $z'_i = 1$ and $z_{i+1} = 0$ . Therefore, $i\in I$ and $V_{z'} \subseteq \Gamma(i)\subseteq W$,
        \item lastly, if $z' = z \not= \vec{0}$, then, as $z_k=0$, for some $0\leq i \leq k-1$ we have $z_i = 1$ and $z_{i+1} = 0$. Therefore, $i\in I$ and $V_{z'} \subseteq \Gamma(i)\subseteq W$.
    \end{enumerate}
\noindent
    Let now $v\in V_z$ be an arbitrary vertex (recall that $V_z\neq \emptyset$ by definition of the vector $z$).
    For each $i\in I$ we have $v\notin \Gamma(i+1)$, as $z_{i+1}=0$. Hence,
    $\deg^+_{\Gamma(i)}(v)<2\ell^k$. Taking the sum over all $i\in I$ gives 
    \[
        \deg^+_W(v) < 2k\ell^k.
    \]
    So, if $z \not= \vec{0}$, then due to $V=W$, we get 
    \[
        2k\ell^k > \deg^+_W(v) = \deg^+(v) \geq \delta^+(G) \geq 2k\ell^k,
    \]
    a contradiction. 
    
    \noindent
    While if $z = \vec{0}$, we obtain 
    \[
        d_X^+(v) \geq \delta^+(G) - \deg^+_W(v) \geq \delta^+(G) - 2k\ell^k \geq d(\Pro).
    \]
    Since in this case $v$ was an arbitrary vertex of $V_z=V_{\vec{0}}=X$, it follows that the induced subgraph $G[X]$ satisfies $\delta^+(G[X]) \geq d(\Pro)$. Thus, there is a vertex $x \in X$ that satisfies the property $\Pro$ in $G[X]$.
    However, by the antimonotonicity of $\Pro$, $x$ must also satisfy $\Pro$ in $G$, meaning $x\in \Gamma(0)$. This is a contradiction with the fact that
    \[
        x \in X =V_{\vec{0}}\subseteq V\setminus \Gamma(0).
    \]
    Hence, our initial assumption that $\Gamma(k)=0$ was contradictory, and we must have $\Gamma(k)\neq 0$. 
\end{proof}\section{Giant spiders exist}\label{sec:spiders}

In this section we prove Theorem~\ref{thm:linear_spiders}, which gives a linear bound on the minimum out-degree that guarantees a copy of $\smtwol$.

\begin{proof}[Proof of Theorem~\ref{thm:linear_spiders}]
    Let $\ell\geq 1$ be fixed and $G = (V, E)$ be a digraph with $\delta^+(G) \geq d$, where $d> \left(\frac{3+\sqrt{17}}{2} \right)\ell$. By removing edges if necessary, we may assume that $\deg^+(v) = d$ for every vertex $v \in V$. We remark that this seemingly insignificant assumption is crucial for our argument. Our goal is to find a copy of $\smtwol$ in $G$. To this end, we partition $V$ into subsets $A$ and $B$, where 
    $$A = \{v \in V : \deg^-(v) \geq 2\ell\} \ \ \text{ and} \ \ B =\{v \in V : \deg^-(v) < 2\ell\},$$
    and note that $A\neq \emptyset$, since the average in-degree in $G$ is $d>2\ell$.

    If there exists a vertex $r \in A$ such that $\deg^-_A(r) \geq 2\ell$, we exhibit a copy of $\smtwol$ in $G$ by choosing greedily distinct vertices $a_1, x_1, a_2,x_2,\dots, a_\ell, x_\ell \in V$, such that $a_i\in N^-_A(r)$ and $x_i\in N^-_V(a_i)$.
    We will not run out of vertices: having chosen $a_1, x_1, \dots, a_i,x_i$ for some $0 \leq i < \ell$, $a_{i+1} \in A$ can be picked distinctly  because $r$ has at least $2\ell$ in-neighbours in $A$ and at most $2i<2\ell$ of them have already been chosen.
    Similarly, $x_{i+1}$ can be picked distinctly since $a_{i+1} \in A$ has at least $2\ell$ in-neighbours and at most $2i+1<2\ell$ of them have already been chosen. 

    Thus, for the rest of the proof we may assume that $\deg^-_A(v) \leq 2\ell-1$ for every $v \in A$. For three sets $X,Y,Z \subseteq V$, not necessarily distinct, we denote by $X \rightarrow Y \rightarrow Z$ the set of all $2$-edge directed paths, with the vertex set $\{x,y,z\}$ for some $x \in X$, $y\in Y$, and $z \in Z$ and the edges $\{(x,y),(y,z)\}$.

    \begin{figure}[htbp]
        \centering
        \includegraphics[scale=0.7]{fig_VBA_paths.pdf}
        \caption{An example of two paths in $V \rightarrow B \rightarrow A$, one starting in $B$ and the other in $A$.}
    \end{figure}
    
    Observe that
    \begin{align*}
        \card{V \rightarrow B \rightarrow A} &=  \card{V \rightarrow B \rightarrow V} - \card{V \rightarrow B \rightarrow B}\\
        &= \card{A \rightarrow B \rightarrow V} + \card{B \rightarrow B \rightarrow V} - \card{V \rightarrow B \rightarrow B}\\
        &= \card{A \rightarrow V \rightarrow V} - \card{A \rightarrow A \rightarrow V} + \card{B \rightarrow B \rightarrow V} - \card{V \rightarrow B \rightarrow B}, 
    \end{align*}
    and let us estimate the terms in the last expression.
    Because $\deg^+(v)=d$ for all $v$, $\deg^-_A(v) \leq 2\ell-1$ for every $v \in A$, and $\deg^-(v) \leq 2\ell-1$ for every $v \in B$, we obtain:
    \begin{align*}
        \card{A \rightarrow V \rightarrow V} &\geq \card{A} d(d-1), \\
        \card{A \rightarrow A \rightarrow V} &\leq e(G[A]) d \leq (2\ell-1) d\card{A}, \\
        \card{B \rightarrow B \rightarrow V} &\geq e(G[B])(d-1), \\
        \card{V \rightarrow B \rightarrow B} &\leq e(G[B])(2\ell-1).
    \end{align*}
    Hence
    \begin{align*}
        \card{V \rightarrow B \rightarrow A} &\geq d(d-1)\card{A} - (2\ell-1) d\card{A} + e(G[B])(d-1) - e(G[B])(2\ell-1) \\
            &\geq d(d - 2\ell )\card{A} + e(G[B])(d - 2\ell)\\
            &\geq d(d - 2\ell)\card{A}.
    \end{align*} 
    By the pigeonhole principle, there exists a vertex $a \in A$ such that 
    \[
        \card{V \rightarrow B \rightarrow \{a\}} \geq d(d-2\ell).
    \]

    Let $s$ be maximal such that there exists $S=\{b_1,\dots,b_s\}\subseteq N_B^-(a)$ and $Q=\{q_1,\dots,q_s\}\subseteq V\setminus (S\cup \{a\})$ with $(q_i,b_i)\in E$ for all $1\leq i\leq s$. Note that this gives a copy of $S^-_{2,s}$ in $G$. Since the in-degrees in $B$ are at most $2\ell$, we have 
    \[
        \card{V \rightarrow S \rightarrow \{a\}} \leq 2 \ell s,
    \]
    and consequently
    \[
        \card{V \rightarrow B\setminus S \rightarrow \{a\}} \geq  d(d-2\ell) - 2\ell s.
    \]
    By maximality of $s$, all these paths have their first vertex in $Q$.
    Hence, for some $1\leq i\leq s$ we have
    \[
        d=\deg^+(q_i)\geq \card{\{q_i\}\rightarrow B\setminus S \rightarrow \{a\}} \geq \frac{d(d-2\ell) - 2\ell s}{s},
    \]
    resulting in 
    \[
        s\geq \frac{d(d-2\ell)}{d+2\ell}.
    \]
    The last expression is greater than $\ell$ for $d>\left(\frac{3+\sqrt{17}}{2}\right)\ell$, since $\frac{3+\sqrt{17}}{2}$ is the positive root of the underlying quadratic equation. Thus, $G$ contains a copy of $\smtwol$.
\end{proof}
